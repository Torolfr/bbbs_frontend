{"version":3,"sources":["pages/Stories/locales/RU.js","pages/Stories/Stories.js","api/stories-page.js"],"names":["storiesPageTexts","headTitle","MAIN_PAGE_TITLE","headDescription","title","subtitle","textStubNoData","CAROUSEL_ITEM_PADDINGS","default","medium","small","MAX_SCREEN_WIDTH","Stories","storyId","useParams","history","useHistory","currentUser","useContext","CurrentUserContext","useState","isPageLoading","setIsPageLoading","isStoryLoading","setIsStoryLoading","isPageError","setIsPageError","storiesTags","setStoriesTags","tagsOffset","setTagsOffset","currentStory","setCurrentStory","isPopupPhotoOpen","setIsPopupPhotoOpen","currentPhoto","setCurrentPhoto","currentStoryId","filter","mentorName","mentor","firstName","childName","child","pairTitle","togetherSinceDate","formatDate","togetherSince","togetherSinceText","formatMonthsGenitiveCase","monthName","year","emailText","inclineFirstname","nextArticleLink","STORIES_URL","nextArticle","id","photoCarouselRef","useRef","pageSize","usePageWidth","openFullPhoto","imageSrc","caption","photoSrc","handleFilters","inputValue","handleRadioBehavior","isChecked","push","fetchTags","limit","offset","length","axios","get","baseURL","apiUrl","params","then","response","data","catch","err","Promise","reject","getStoriesPageTags","results","storiesTagsData","map","tag","name","pair","isActive","prevTags","prevOffset","fetchTagsOnNextLink","useEffect","status","ERROR_CODES","notFound","NOT_FOUND_URL","finally","tagToBeActive","find","scrollAnchorRef","current","setTimeout","scrollIntoView","behavior","isCentered","BasePage","AnimatedPageContainer","titleText","ERROR_MESSAGES","generalErrorMessage","className","sectionClass","ref","step","useButtons","disableMouseDrag","onScrollCallback","prevButtonClass","nextButtonClass","item","value","onClick","isPaginate","src","staticImageUrl","image","alt","description","uperBody","renderPhotosCarousel","lowerBody","renderLinksBlock","renderPageContent","isOpen","onClose","email","href","target","rel","text","itemsToScroll","itemsToShow","initialActiveIndex","itemPadding","pagination","enableMouseSwipe","aria-hidden","images","idx","goTo","imageCaption","onKeyPress","role","tabIndex","draggable"],"mappings":"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","file":"static/js/21.bb6e8285.chunk.js","sourcesContent":["import { MAIN_PAGE_TITLE } from '../../../config/routes';\n\nconst storiesPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | Истории дружбы`,\n  headDescription: 'Истории дружбы с младшими от наших наставников',\n  title: 'Истории дружбы',\n  subtitle:\n    'Результат нашей работы сложно показать цифрами. Как измерить и взвесить дружбу? Как оценить успехи абсолютно разных детей? У каждой пары — свой результат и свои достижения. Именно об этом мы рассказываем в историях.',\n  textStubNoData:\n    'В данный момент страница с историями дружбы пуста. Возвращайтесь позже!',\n};\n\nexport default storiesPageTexts;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport Carousel from 'react-elastic-carousel';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { inclineFirstname } from 'lvovich';\nimport storiesPageTexts from './locales/RU';\nimport { CurrentUserContext } from '../../contexts';\nimport { ERROR_CODES, ERROR_MESSAGES } from '../../config/constants';\nimport { staticImageUrl } from '../../config/config';\nimport { NOT_FOUND_URL, STORIES_URL } from '../../config/routes';\nimport { usePageWidth } from '../../hooks';\nimport { formatDate, formatMonthsGenitiveCase } from '../../utils/utils';\nimport { handleRadioBehavior } from '../../utils/filter-tags';\nimport { getStoriesPageTags, getStoryById } from '../../api/stories-page';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  Caption,\n  Loader,\n  NextArticleLink,\n  PopupPhoto,\n  PseudoButtonTag,\n  ScrollableContainer,\n  TitleH1,\n  TitleH2,\n} from './index';\nimport './Stories.scss';\n\nconst CAROUSEL_ITEM_PADDINGS = {\n  default: [0, 65],\n  medium: [0, 15],\n  small: [0, 7.5],\n};\n\nconst MAX_SCREEN_WIDTH = {\n  small: 706,\n  medium: 1100,\n};\n\nconst tagsLimit = 10;\nconst scrollUpDelay = 150;\n\nconst { headTitle, headDescription, title, subtitle, textStubNoData } =\n  storiesPageTexts;\n\nfunction Stories() {\n  const { storyId } = useParams();\n  const history = useHistory();\n  const { currentUser } = useContext(CurrentUserContext);\n\n  const [isPageLoading, setIsPageLoading] = useState(true);\n  const [isStoryLoading, setIsStoryLoading] = useState(false);\n  const [isPageError, setIsPageError] = useState(false);\n\n  const [storiesTags, setStoriesTags] = useState([]);\n  const [tagsOffset, setTagsOffset] = useState(0);\n\n  const [currentStory, setCurrentStory] = useState({});\n  const [isPopupPhotoOpen, setIsPopupPhotoOpen] = useState(false);\n  const [currentPhoto, setCurrentPhoto] = useState({});\n\n  const openPhotoPopup = () => {\n    setIsPopupPhotoOpen(true);\n  };\n\n  const closePhotoPopup = () => {\n    setIsPopupPhotoOpen(false);\n  };\n\n  const currentStoryId = +(storyId ?? storiesTags[0]?.filter);\n  const mentorName = currentStory.mentor?.firstName ?? '';\n  const childName = currentStory.child ?? '';\n  const pairTitle = `${mentorName} и ${childName}`;\n\n  const togetherSinceDate = formatDate(currentStory.togetherSince);\n  const togetherSinceText = `Вместе с ${formatMonthsGenitiveCase(\n    togetherSinceDate?.monthName\n  )} ${togetherSinceDate?.year} года`;\n\n  const emailText = `написать ${inclineFirstname(mentorName, 'dative')}`;\n  const nextArticleLink = `${STORIES_URL}/${currentStory.nextArticle?.id}`;\n\n  const photoCarouselRef = useRef(null);\n  const { pageSize } = usePageWidth(MAX_SCREEN_WIDTH, CAROUSEL_ITEM_PADDINGS);\n\n  const openFullPhoto = (imageSrc, caption) => {\n    setCurrentPhoto({\n      photoSrc: imageSrc,\n      caption,\n    });\n    openPhotoPopup();\n  };\n\n  const handleFilters = (inputValue) => {\n    handleRadioBehavior(setStoriesTags, { inputValue, isChecked: true });\n    history.push(`${STORIES_URL}/${inputValue}`);\n  };\n\n  const fetchTags = ({ limit, offset }) => {\n    if (tagsOffset <= storiesTags.length) {\n      getStoriesPageTags({ limit, offset })\n        .then(({ results }) => {\n          if (results?.length) {\n            const storiesTagsData = results.map((tag) => ({\n              filter: tag.id,\n              name: tag.pair,\n              isActive: +storyId === +tag.id,\n            }));\n            setStoriesTags((prevTags) => [...prevTags, ...storiesTagsData]);\n            setTagsOffset((prevOffset) => prevOffset + limit);\n          } else {\n            setIsPageLoading(false);\n          }\n        })\n        .catch(() => {\n          setIsPageError(true);\n          setIsPageLoading(false);\n        });\n    }\n  };\n\n  // подгрузка тегов при переключении по ссылкам внизу\n  const fetchTagsOnNextLink = () => {\n    if (currentStoryId === storiesTags[storiesTags.length - 1].filter) {\n      fetchTags({ limit: tagsLimit, offset: tagsOffset });\n    }\n  };\n\n  // получение списка всех историй\n  useEffect(() => {\n    fetchTags({ limit: tagsLimit, offset: tagsOffset });\n  }, []);\n\n  // получение конкретной истории по id\n  useEffect(() => {\n    if (currentStoryId) {\n      setIsStoryLoading(true);\n      getStoryById(currentStoryId)\n        .then(setCurrentStory)\n        .catch((err) => {\n          if (err.status === ERROR_CODES.notFound) history.push(NOT_FOUND_URL);\n          else setIsPageError(true);\n        })\n        .finally(() => {\n          setIsStoryLoading(false);\n          if (isPageLoading) setIsPageLoading(false);\n        });\n    }\n  }, [currentStoryId]);\n\n  // синхронизация фильтров в зависимости от выбранной истории\n  useEffect(() => {\n    if (storiesTags.length) {\n      const tagToBeActive = storiesTags.find(\n        (tag) => tag.filter === currentStoryId\n      );\n      if (tagToBeActive) {\n        handleRadioBehavior(setStoriesTags, {\n          inputValue: tagToBeActive.filter,\n          isChecked: true,\n        });\n      }\n    }\n  }, [currentStoryId, tagsOffset]);\n\n  // прокрутка наверх при переключении историй\n  const scrollAnchorRef = useRef(null);\n\n  useEffect(() => {\n    if (scrollAnchorRef && scrollAnchorRef.current) {\n      setTimeout(() => {\n        scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n      }, scrollUpDelay);\n    }\n  }, [storyId]);\n\n  if (isPageLoading) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <>\n      <BasePage headTitle={headTitle} headDescription={headDescription}>\n        {renderPageContent()}\n      </BasePage>\n      <PopupPhoto\n        isOpen={isPopupPhotoOpen}\n        onClose={closePhotoPopup}\n        currentPhoto={currentPhoto}\n      />\n    </>\n  );\n\n  // функции рендера\n  function renderPageContent() {\n    if (isPageError || !storiesTags.length) {\n      return renderAnimatedContainer();\n    }\n\n    return (\n      <div className=\"stories page__section fade-in\">\n        <TitleH1 title={title} sectionClass=\"stories__title\" />\n        <p className=\"stories__subtitle\">{subtitle}</p>\n\n        {renderTags()}\n\n        {isStoryLoading ? (\n          <Loader isPaginate />\n        ) : (\n          <>\n            {renderUpperBlock()}\n\n            <ReactMarkdown className=\"markdown stories__markdown fade-in\">\n              {currentStory.uperBody}\n            </ReactMarkdown>\n\n            {renderPhotosCarousel()}\n\n            <ReactMarkdown className=\"markdown stories__markdown stories__markdown_last fade-in\">\n              {currentStory.lowerBody}\n            </ReactMarkdown>\n\n            {renderLinksBlock()}\n          </>\n        )}\n      </div>\n    );\n  }\n\n  // заглушка\n  function renderAnimatedContainer() {\n    return (\n      <AnimatedPageContainer\n        titleText={\n          isPageError\n            ? ERROR_MESSAGES.generalErrorMessage.title\n            : textStubNoData\n        }\n      />\n    );\n  }\n\n  function renderUpperBlock() {\n    return (\n      <>\n        <img\n          className=\"stories__main-photo scale-in\"\n          src={`${staticImageUrl}/${currentStory.image}`}\n          alt={pairTitle}\n        />\n        <TitleH2 title={pairTitle} sectionClass=\"stories__pair-title fade-in\" />\n        <Caption\n          title={togetherSinceText}\n          sectionClass=\"stories__caption fade-in\"\n        />\n        <p className=\"stories__subtitle stories__subtitle_last fade-in\">\n          {currentStory.description}\n        </p>\n      </>\n    );\n  }\n\n  function renderLinksBlock() {\n    return (\n      <div className=\"stories__links fade-in\">\n        {currentUser && currentStory.mentor?.email && (\n          <a\n            className=\"link stories__link\"\n            href={`mailto:${currentStory.mentor.email}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {emailText}\n          </a>\n        )}\n\n        {currentStory.nextArticle && (\n          <NextArticleLink\n            text={currentStory.nextArticle.title}\n            href={nextArticleLink}\n            onClick={fetchTagsOnNextLink}\n            sectionClass=\"stories__link_next\"\n          />\n        )}\n      </div>\n    );\n  }\n\n  function renderTags() {\n    return (\n      <div className=\"stories__tags-carousel fade-in\">\n        <span className=\"stories__scroll-anchor\" ref={scrollAnchorRef} />\n        <ScrollableContainer\n          step={5}\n          useButtons\n          disableMouseDrag\n          onScrollCallback={() =>\n            fetchTags({ limit: tagsLimit, offset: tagsOffset })\n          }\n          sectionClass=\"stories__scroll-container\"\n          prevButtonClass=\"stories__prev-button\"\n          nextButtonClass=\"stories__next-button\"\n        >\n          {storiesTags.map((item) => (\n            <PseudoButtonTag\n              key={item.filter}\n              name={item.name}\n              value={item.filter}\n              title={item.name}\n              isActive={item.isActive}\n              onClick={handleFilters}\n              sectionClass=\"scrollable-container__child\"\n            />\n          ))}\n        </ScrollableContainer>\n      </div>\n    );\n  }\n\n  function renderPhotosCarousel() {\n    return (\n      <div className=\"stories__photo-carousel-container\">\n        <div className=\"stories__photo-carousel-wrapper\">\n          <Carousel\n            ref={photoCarouselRef}\n            className=\"stories__photo-carousel\"\n            itemsToScroll={1}\n            itemsToShow={3}\n            initialActiveIndex={0}\n            itemPadding={pageSize}\n            pagination={false}\n            enableMouseSwipe={false}\n          >\n            <div aria-hidden className=\"stories__carousel-image\" />\n            {currentStory.images?.map((image, idx) => (\n              <div\n                key={image.id}\n                className=\"stories__carousel-image-wrap\"\n                onClick={() => {\n                  photoCarouselRef.current.goTo(idx);\n                  openFullPhoto(\n                    `${staticImageUrl}/${image.image}`,\n                    image.imageCaption\n                  );\n                }}\n                onKeyPress={() => {\n                  photoCarouselRef.current.goTo(idx);\n                  openFullPhoto(\n                    `${staticImageUrl}/${image.image}`,\n                    image.imageCaption\n                  );\n                }}\n                role=\"button\"\n                tabIndex={0}\n              >\n                <img\n                  className=\"stories__carousel-image\"\n                  draggable={false}\n                  src={`${staticImageUrl}/${image.image}`}\n                  alt={image.imageCaption}\n                />\n              </div>\n            ))}\n            <div aria-hidden className=\"stories__carousel-image\" />\n          </Carousel>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Stories;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение списка историй (список фильтров)\nfunction getStoriesPageTags({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/history/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getStoryById(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/history/${id}/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getStoriesPageTags, getStoryById };\n"],"sourceRoot":""}