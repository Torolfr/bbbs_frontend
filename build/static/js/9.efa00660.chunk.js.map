{"version":3,"sources":["pages/Profile/locales/RU.js","api/profile-page.js","components/Cards/ProfileEventCard/locales/RU.js","components/Cards/ProfileEventCard/ProfileEventCard.js","components/ProfileForm/locales/RU.js","utils/rating-captions.js","components/ProfileForm/ProfileForm.js","components/ProfileDiary/locales/RU.js","assets/icon-logo-no-text.svg","components/ProfileDiary/ProfileDiary.js","components/Popups/PopupDeleteDiary/locales/RU.js","components/Popups/PopupDeleteDiary/PopupDeleteDiary.js","pages/Profile/Profile.js"],"names":["profilePageTexts","headTitle","MAIN_PAGE_TITLE","PROFILE_TITLE","headDescription","eventsTitle","eventsTitleArchive","eventsArchiveButton","eventsCurrentButton","eventsTitleNoResults","eventsTitleNoResultsArchive","formTitle","getProfileDiariesData","limit","offset","axios","get","baseURL","apiUrl","params","then","response","data","catch","err","Promise","reject","texts","buttonLabel","eventCanceled","ProfileEventCard","onOpen","sectionClass","startDay","formatDate","startAt","buttonClassNames","join","trim","cardClassNames","canceled","dayClassNames","titleClassNames","className","type","aria-label","onClick","setLocalStorageData","localStAfishaEvent","day","month","title","defaultProps","rateCaptionText","uploadCaptionText","placePlaceholder","datePlaceholder","datePlaceholderError","descrPlaceholder","buttonAddText","buttonDeleteText","buttonCancelText","buttonSaveText","buttonLoadingText","captions","good","neutral","bad","validationSettings","minLength","maxLength","ProfileForm","isEditMode","isOpen","onClose","onSubmit","isWaitingResponse","classNames","useContext","ErrorsContext","serverError","clearError","errorsString","getServerErrors","useState","caption","setCaption","userImage","setUserImage","useFormWithValidation","values","handleChange","errors","isValid","resetForm","setValues","handleChangeFiles","handleSubmit","evt","preventDefault","mark","useEffect","image","imageUrl","URL","createObjectURL","handleChangeImage","id","date","place","description","name","noValidate","src","staticImageUrl","alt","htmlFor","accept","onChange","regExpImages","color","isSpan","placeholder","value","required","error","onFocus","currentTarget","isTextarea","ratingType","checked","isDisabled","isSubmittable","buttonShareText","buttonTextShared","buttonTextSharing","buttonEditText","ProfileDiary","onEdit","onDelete","onShare","selectedDiaryId","sentToCurator","hasCurator","eventDay","isSendingToCurator","classNamesSendToCuratorButton","defaultImage","CardAnnotationContainer","monthName","year","undefined","submitButtonText","cancelButtonText","loadingButtonText","PopupDeleteDiary","onCardDelete","cardData","useCloseOnEscape","formatMonthsGenitiveCase","Popup","typeContainer","withoutCloseButton","parseInt","unauthorized","ERROR_CODES","badRequest","Profile","PopupsContext","openPopupAboutEvent","openPopupError","setError","isArchiveOpen","setIsArchiveOpen","events","setEvents","archivedEvents","setArchivedEvents","eventsOffset","setEventsOffset","diaries","setDiaries","selectedDiary","setSelectedDiary","setIsWaitingResponse","isFormOpen","setIsFormOpen","setIsEditMode","formDataToEdit","setFormDataToEdit","isDeleteDiaryPopupOpen","setIsDeleteDiaryPopupOpen","isLoadingEvents","setIsLoadingEvents","isPageError","setIsPageError","scrollAnchorRef","useRef","titleH1Current","length","titleH1Archive","filtersAndPaginationSettings","apiGetDataCallback","pageSize","useFiltrationAndPagination","dataToRender","isPageLoading","isPaginationUsed","totalPages","pageIndex","changePageIndex","getCurrentBookedEvents","selectedEvent","useEventBooking","prevEvents","filter","event","current","scrollIntoView","closeForm","isCentered","BasePage","AnimatedPageContainer","titleText","ERROR_MESSAGES","generalErrorMessage","isSmallGrid","handleClick","openCurrentEvents","openArchiveOfEvents","step","onScrollCallback","getArchiveOfEvents","renderEventCards","ref","renderAddDiaryButton","renderDiaryForm","renderDiaries","pageCount","dontUseScrollUp","renderPageContent","closeDeleteDiaryPopup","diary","diaryId","delete","prevDiaries","prevDiary","finally","getArchiveOfBookedEvents","eventsData","prevOffset","getBookedEvents","updatedEvents","map","updatedEvent","booked","openEventCard","openForm","behavior","handleEditMode","setTimeout","DELAY_RENDER","createFormData","formData","FormData","append","handleErrorOnFormSubmit","status","handleCreateDiary","post","headers","createDiary","newDiary","handleEditDiary","patch","editDiary","handleSubmitDiary","handleShareDiary","sharedDiary","find","openDeleteDiaryPopup","renderingEvents","item","isSmall","isPaginate"],"mappings":"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","file":"static/js/9.efa00660.chunk.js","sourcesContent":["import { MAIN_PAGE_TITLE, PROFILE_TITLE } from '../../../config/routes';\n\nconst profilePageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${PROFILE_TITLE}`,\n  headDescription: 'Личный кабинет наставника.',\n  eventsTitle: 'Вы записаны на мероприятия:',\n  eventsTitleArchive: 'Ваши прошлые мероприятия:',\n  eventsArchiveButton: 'Архив мероприятий',\n  eventsCurrentButton: 'Текущие мероприятия',\n  eventsTitleNoResults: 'У вас нет записи на мероприятия',\n  eventsTitleNoResultsArchive: 'Вы ещё не участвовали в мероприятиях',\n  formTitle:\n    'Составьте историю вашей дружбы с младшим. Эта страница доступна только вам.',\n};\n\nexport default profilePageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getProfileDiariesData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/diaries/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// создать дневник\nfunction createDiary(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// редактировать дневник\nfunction editDiary(diaryId, data) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// удалить дневник\nfunction deleteDiary(diaryId) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// открыть дневник куратору\nfunction shareDiary(diaryId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/send/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport {\n  getProfileDiariesData,\n  createDiary,\n  editDiary,\n  deleteDiary,\n  shareDiary,\n};\n","const texts = {\n  buttonLabel: 'Открыть карточку',\n  eventCanceled: 'Мероприятие отменено',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport { formatDate } from '../../../utils/utils';\nimport { Card } from '../../utils';\nimport './ProfileEventCard.scss';\n\nfunction ProfileEventCard({ data, onOpen, sectionClass }) {\n  const startDay = formatDate(data?.startAt);\n\n  const handleOpen = () => {\n    setLocalStorageData(localStAfishaEvent, data);\n    onOpen();\n  };\n\n  const buttonClassNames = ['profile-event-card', sectionClass]\n    .join(' ')\n    .trim();\n\n  const cardClassNames = [\n    'profile-event-card__card',\n    data?.canceled ? 'profile-event-card__card_canceled' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const dayClassNames = [\n    'profile-event-card__day',\n    data?.canceled ? 'profile-event-card__day_canceled' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const titleClassNames = [\n    'profile-event-card__title',\n    data?.canceled ? 'profile-event-card__title_canceled' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={buttonClassNames}\n      type=\"button\"\n      aria-label={texts.buttonLabel}\n      onClick={handleOpen}\n    >\n      <Card sectionClass={cardClassNames}>\n        {data?.canceled && (\n          <p className=\"profile-event-card__text-canceled\">\n            {texts.eventCanceled}\n          </p>\n        )}\n        <p className={dayClassNames}>{`${startDay?.day}.${startDay?.month}`}</p>\n        <p className={titleClassNames}>{data?.title}</p>\n      </Card>\n    </button>\n  );\n}\n\nProfileEventCard.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any).isRequired,\n  onOpen: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nProfileEventCard.defaultProps = {\n  onOpen: () => {},\n  sectionClass: '',\n};\n\nexport default ProfileEventCard;\n","const texts = {\n  rateCaptionText: 'Оцените проведенное время',\n  uploadCaptionText: 'Загрузить фото',\n  placePlaceholder: 'Место встречи',\n  datePlaceholder: 'Дата __.__.____',\n  datePlaceholderError: 'Дата* ',\n  descrPlaceholder:\n    'Опишите вашу встречу, какие чувства вы испытывали, что понравилось / не понравилось',\n  buttonAddText: 'Добавить',\n  buttonDeleteText: 'Удалить',\n  buttonCancelText: 'Отмена',\n  buttonSaveText: 'Сохранить',\n  buttonLoadingText: 'Сохранение...',\n};\n\nexport default texts;\n","const captions = {\n  good: 'Было классно!',\n  neutral: 'Нормально',\n  bad: 'Что-то пошло не так',\n};\n\nexport default captions;\n","import { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { ErrorsContext } from '../../contexts';\nimport { useFormWithValidation } from '../../hooks';\nimport captions from '../../utils/rating-captions';\nimport getServerErrors from '../../utils/form-errors';\nimport { staticImageUrl } from '../../config/config';\nimport { regExpImages } from '../../config/constants';\nimport { Button, ButtonRound, Caption, Card, Input, Rating } from '../utils';\nimport './ProfileForm.scss';\n\nconst {\n  rateCaptionText,\n  uploadCaptionText,\n  placePlaceholder,\n  datePlaceholder,\n  descrPlaceholder,\n  buttonAddText,\n  buttonDeleteText,\n  buttonCancelText,\n  buttonSaveText,\n  buttonLoadingText,\n} = texts;\n\nconst validationSettings = {\n  place: {\n    minLength: 5,\n    maxLength: 128,\n  },\n  description: {\n    maxLength: 1024,\n  },\n};\n\nfunction ProfileForm({\n  data,\n  sectionClass,\n  isEditMode,\n  isOpen,\n  onClose,\n  onSubmit,\n  isWaitingResponse,\n}) {\n  const classNames = ['card-container', 'profile-form', sectionClass]\n    .join(' ')\n    .trim();\n\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const errorsString = serverError ? getServerErrors(serverError) : '';\n\n  const [caption, setCaption] = useState(rateCaptionText);\n  const [userImage, setUserImage] = useState(null);\n\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n    handleChangeFiles,\n  } = useFormWithValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!values?.mark) {\n      values.mark = 'neutral';\n    }\n    onSubmit(values);\n  };\n\n  const handleFocusDataInput = (evt) => {\n    // eslint-disable-next-line no-param-reassign\n    evt.currentTarget.type = 'date';\n  };\n\n  const handleChangeImage = () => {\n    if (values?.image) {\n      // ссылка-блоб для отображения загруженной картинки\n      const imageUrl = URL.createObjectURL(values.image);\n      setUserImage({ ...userImage, imageUrl });\n    }\n  };\n\n  const handleCloseForm = () => {\n    setUserImage(null);\n    resetForm();\n    clearError();\n    setCaption(rateCaptionText);\n    onClose();\n  };\n\n  useEffect(() => {\n    if (values?.mark) setCaption(captions[values.mark]);\n    else setCaption(rateCaptionText);\n  }, [values.mark]);\n\n  useEffect(() => {\n    handleChangeImage();\n  }, [values.image]);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (data) {\n        setUserImage({ image: data.image });\n        setValues({\n          id: data?.id,\n          date: data?.date,\n          place: data?.place,\n          description: data?.description,\n          mark: data?.mark,\n        });\n      }\n    }\n  }, [isOpen, data]);\n\n  return (\n    <form\n      name=\"addStoryForm\"\n      onSubmit={(evt) => handleSubmit(evt)}\n      className={classNames}\n      noValidate\n    >\n      <Card sectionClass=\"profile-form__photo-upload\">\n        {(userImage?.imageUrl || userImage?.image) && (\n          <img\n            src={userImage.imageUrl || `${staticImageUrl}/${userImage.image}`}\n            alt={data?.place}\n            className=\"profile-form__uploaded-image\"\n          />\n        )}\n\n        <div\n          className={`profile-form__input-upload ${\n            (userImage?.imageUrl || userImage?.image) && !errors?.image\n              ? 'profile-form__input-upload_hidden'\n              : ''\n          } ${errors?.image ? 'profile-form__input-upload_error' : ''}\n          `}\n        >\n          <label htmlFor=\"input-upload\" className=\"profile-form__label-file\">\n            <input\n              id=\"input-upload\"\n              type=\"file\"\n              accept=\"image/*\"\n              name=\"image\"\n              className=\"profile-form__input-file\"\n              onChange={(evt) => handleChangeFiles(evt, regExpImages)}\n            />\n            <ButtonRound\n              sectionClass={`profile-form__pseudo-button ${\n                errors?.image ? 'profile-form__pseudo-button_error' : ''\n              }`}\n              color={`${errors?.image ? 'error' : 'lightGray'}`}\n              isSpan\n            />\n            <Caption\n              title={errors?.image || uploadCaptionText}\n              sectionClass={`profile-form__caption ${\n                errors?.image ? 'profile-form__caption_error' : ''\n              }`}\n            />\n          </label>\n        </div>\n      </Card>\n\n      <Card sectionClass=\"profile-form__text-container\">\n        <div className=\"profile-form__texts\">\n          <Input\n            id=\"profileInputPlace\"\n            type=\"text\"\n            name=\"place\"\n            placeholder={placePlaceholder}\n            onChange={handleChange}\n            value={values.place}\n            required\n            minLength={validationSettings.place.minLength}\n            maxLength={validationSettings.place.maxLength}\n            error={errors?.place}\n          />\n\n          <Input\n            id=\"profileInputDate\"\n            type=\"text\"\n            name=\"date\"\n            placeholder={datePlaceholder}\n            onFocus={handleFocusDataInput}\n            onChange={handleChange}\n            value={values.date}\n            required\n            error={errors?.date}\n          />\n\n          <Input\n            id=\"profileInputTextarea\"\n            type=\"text\"\n            name=\"description\"\n            placeholder={descrPlaceholder}\n            sectionClass=\"profile-form__input-wrap profile-form__input-wrap_textarea\"\n            onChange={handleChange}\n            value={values.description}\n            required\n            maxLength={validationSettings.description.maxLength}\n            error={errors?.description}\n            isTextarea\n          />\n\n          <div className=\"profile-form__submit-zone\">\n            <span className=\"form-error-message\">{errorsString}</span>\n            <div className=\"profile-form__ratings-buttons\">\n              <div className=\"profile-form__ratings\">\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"good\"\n                  onChange={handleChange}\n                  value=\"good\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'good'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"neutral\"\n                  onChange={handleChange}\n                  value=\"neutral\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'neutral'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"bad\"\n                  onChange={handleChange}\n                  value=\"bad\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'bad'}\n                />\n                <Caption\n                  title={caption}\n                  sectionClass={`profile-form__ratings-text profile-form__ratings-text_type_${values.mark}`}\n                />\n              </div>\n              <div className=\"profile-form__buttons\">\n                <Button\n                  title={`${isEditMode ? buttonCancelText : buttonDeleteText}`}\n                  color=\"gray-borderless\"\n                  sectionClass=\"profile-form__button_el_delete\"\n                  onClick={handleCloseForm}\n                />\n                <Button\n                  title={\n                    isWaitingResponse\n                      ? buttonLoadingText\n                      : `${isEditMode ? buttonSaveText : buttonAddText}`\n                  }\n                  sectionClass=\"profile-form__button_el_add\"\n                  isDisabled={isWaitingResponse || !isValid}\n                  isSubmittable\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Card>\n    </form>\n  );\n}\n\nProfileForm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  sectionClass: PropTypes.string,\n  onClose: PropTypes.func,\n  isOpen: PropTypes.bool,\n  isEditMode: PropTypes.bool,\n  onSubmit: PropTypes.func,\n  isWaitingResponse: PropTypes.bool,\n};\n\nProfileForm.defaultProps = {\n  data: {},\n  sectionClass: '',\n  onClose: () => {},\n  isOpen: false,\n  isEditMode: false,\n  onSubmit: () => {},\n  isWaitingResponse: false,\n};\n\nexport default ProfileForm;\n","const texts = {\n  buttonShareText: 'Поделиться с куратором',\n  buttonTextShared: 'Открыто куратору',\n  buttonTextSharing: 'Отправка...',\n  buttonEditText: 'Редактировать',\n  buttonDeleteText: 'Удалить',\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/icon-logo-no-text.5f8eb2e5.svg\";","import { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate } from '../../utils/utils';\nimport captions from '../../utils/rating-captions';\nimport { staticImageUrl } from '../../config/config';\nimport defaultImage from '../../assets/icon-logo-no-text.svg';\nimport CardAnnotationContainer from '../Cards/CardAnnotation/CardAnnotationContainer';\nimport { Button, Caption, Card, Rating, TitleH2 } from '../utils';\nimport './ProfileDiary.scss';\n\nfunction ProfileDiary({\n  data,\n  onEdit,\n  onDelete,\n  onShare,\n  sectionClass,\n  selectedDiaryId,\n  isWaitingResponse,\n}) {\n  const { image, place, description, mark, date, sentToCurator, hasCurator } =\n    data;\n\n  const eventDay = formatDate(date);\n  const [caption, setCaption] = useState('');\n  const isSendingToCurator = isWaitingResponse && selectedDiaryId === data?.id;\n\n  useEffect(() => {\n    setCaption(captions[mark]);\n  }, [mark]);\n\n  const handleEditButtonClick = () => {\n    onEdit(data);\n  };\n\n  const handleDeleteButtonClick = () => {\n    onDelete(data);\n  };\n\n  const handleShareButtonClick = () => {\n    if (!sentToCurator) {\n      onShare(data);\n    }\n  };\n\n  const classNamesSendToCuratorButton = [\n    'profile-diary__button',\n    'profile-diary__button_curator',\n    sentToCurator ? 'profile-diary__button_curator-shared' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={`card-container profile-diary ${sectionClass}`}>\n      <Card sectionClass=\"profile-diary__image-container\">\n        <img\n          className={\n            image ? 'profile-diary__image' : 'profile-diary__image_default'\n          }\n          src={image ? `${staticImageUrl}/${image}` : defaultImage}\n          alt={place}\n        />\n      </Card>\n      <Card sectionClass=\"profile-diary__date-container\">\n        <div className=\"profile-diary__text-wrap\">\n          <TitleH2 sectionClass=\"profile-diary__card-title\" title={place} />\n          <div className=\"profile-diary__card-text\">\n            <CardAnnotationContainer>\n              <p className=\"profile-diary__paragraph\">{description}</p>\n            </CardAnnotationContainer>\n          </div>\n        </div>\n        <div className=\"profile-diary__card-date\">\n          <p className=\"profile-diary__weekday\">{`${eventDay.monthName}, ${eventDay.year}`}</p>\n          <p className=\"profile-diary__day\">{eventDay.day}</p>\n        </div>\n        <div className=\"profile-diary__actions\">\n          <div className=\"profile-diary__rating\">\n            <Rating\n              type=\"radio\"\n              ratingType={mark}\n              value={mark}\n              checked\n              sectionClass=\"profile-diary__rate\"\n            />\n            <Caption\n              title={caption}\n              sectionClass={`profile-diary__ratings-text profile-diary__ratings-text_type_${\n                mark || 'neutral'\n              }`}\n            />\n          </div>\n          <div className=\"profile-diary__action-elements\">\n            {hasCurator && (\n              <Button\n                title={\n                  isSendingToCurator\n                    ? texts.buttonTextSharing\n                    : `${\n                        sentToCurator\n                          ? texts.buttonTextShared\n                          : texts.buttonShareText\n                      }`\n                }\n                color=\"gray-borderless\"\n                sectionClass={classNamesSendToCuratorButton}\n                onClick={handleShareButtonClick}\n                isDisabled={isSendingToCurator}\n              />\n            )}\n            <Button\n              title={texts.buttonEditText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleEditButtonClick}\n            />\n            <Button\n              title={texts.buttonDeleteText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleDeleteButtonClick}\n            />\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nProfileDiary.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  onEdit: PropTypes.func,\n  onDelete: PropTypes.func,\n  onShare: PropTypes.func,\n  sectionClass: PropTypes.string,\n  selectedDiaryId: PropTypes.number,\n  isWaitingResponse: PropTypes.bool,\n};\n\nProfileDiary.defaultProps = {\n  data: {},\n  onEdit: () => {},\n  onDelete: () => {},\n  onShare: () => {},\n  sectionClass: '',\n  selectedDiaryId: undefined,\n  isWaitingResponse: false,\n};\n\nexport default ProfileDiary;\n","const texts = {\n  title: 'Удалить встречу в',\n  submitButtonText: 'Удалить',\n  cancelButtonText: 'Отменить',\n  loadingButtonText: 'Удаление...',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { useCloseOnEscape } from '../../../hooks';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport './PopupDeleteDiary.scss';\n\nfunction PopupDeleteDiary({\n  isOpen,\n  onClose,\n  onCardDelete,\n  cardData,\n  isWaitingResponse,\n}) {\n  useCloseOnEscape(isOpen, onClose);\n\n  const { place, date } = cardData;\n  const day = formatDate(date);\n  const month = formatMonthsGenitiveCase(day?.monthName);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onCardDelete(cardData);\n  };\n\n  return (\n    <Popup\n      type=\"confirm-delete-diary\"\n      typeContainer=\"confirm-diary\"\n      isOpen={isOpen}\n      onClose={onClose}\n      withoutCloseButton\n      sectionClass=\"popup-diary\"\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <TitleH2\n          title={`${texts.title} ${place} ${parseInt(day.day, 10)} ${month} ${\n            day.year\n          }?`}\n          sectionClass=\"popup-diary__title\"\n        />\n        <div className=\"popup-diary__buttons\">\n          <Button\n            color=\"gray\"\n            sectionClass=\"popup-diary__button\"\n            title={\n              isWaitingResponse\n                ? texts.loadingButtonText\n                : texts.submitButtonText\n            }\n            isDisabled={isWaitingResponse}\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            sectionClass=\"popup-diary__button\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupDeleteDiary.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  onCardDelete: PropTypes.func,\n  cardData: PropTypes.objectOf(PropTypes.any),\n  isWaitingResponse: PropTypes.bool,\n};\n\nPopupDeleteDiary.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  onCardDelete: () => {},\n  cardData: {},\n  isWaitingResponse: false,\n};\n\nexport default PopupDeleteDiary;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport profilePageTexts from './locales/RU';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\nimport {\n  DELAY_RENDER,\n  ERROR_CODES,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport { useEventBooking, useFiltrationAndPagination } from '../../hooks';\nimport {\n  createDiary,\n  deleteDiary,\n  editDiary,\n  getProfileDiariesData,\n  shareDiary,\n} from '../../api/profile-page';\nimport {\n  getArchiveOfBookedEvents,\n  getBookedEvents,\n} from '../../api/event-participants';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  ButtonRound,\n  Loader,\n  Paginate,\n  PopupDeleteDiary,\n  ProfileDiary,\n  ProfileEventCard,\n  ProfileForm,\n  ScrollableContainer,\n  TitleH2,\n  UserMenuButton,\n} from './index';\nimport './Profile.scss';\n\nconst {\n  headTitle,\n  headDescription,\n  eventsTitle,\n  eventsTitleNoResults,\n  formTitle,\n  eventsArchiveButton,\n  eventsCurrentButton,\n  eventsTitleArchive,\n  eventsTitleNoResultsArchive,\n} = profilePageTexts;\n\nconst { unauthorized, badRequest } = ERROR_CODES;\n\nconst diariesPerPageCount = 10;\nconst eventsLimit = 10;\n\nfunction Profile() {\n  const { openPopupAboutEvent, openPopupError } = useContext(PopupsContext);\n  const { serverError, setError } = useContext(ErrorsContext);\n\n  const [isArchiveOpen, setIsArchiveOpen] = useState(false);\n  const [events, setEvents] = useState([]);\n  const [archivedEvents, setArchivedEvents] = useState([]);\n  const [eventsOffset, setEventsOffset] = useState(0);\n\n  const [diaries, setDiaries] = useState([]);\n  // удаление дневника\n  const [selectedDiary, setSelectedDiary] = useState({});\n\n  const [isWaitingResponse, setIsWaitingResponse] = useState(false);\n\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [formDataToEdit, setFormDataToEdit] = useState(null);\n  const [isDeleteDiaryPopupOpen, setIsDeleteDiaryPopupOpen] = useState(false);\n\n  const [isLoadingEvents, setIsLoadingEvents] = useState(true);\n  const [isPageError, setIsPageError] = useState(false);\n\n  // якорь для скролла при работе с дневниками\n  const scrollAnchorRef = useRef(null);\n\n  const titleH1Current = events.length > 0 ? eventsTitle : eventsTitleNoResults;\n  const titleH1Archive =\n    archivedEvents.length > 0\n      ? eventsTitleArchive\n      : eventsTitleNoResultsArchive;\n\n  // пагинация\n  const filtersAndPaginationSettings = {\n    apiGetDataCallback: getProfileDiariesData,\n    pageSize: diariesPerPageCount,\n    setIsPageError,\n  };\n\n  const {\n    dataToRender,\n    isPageLoading,\n    isPaginationUsed,\n    totalPages,\n    pageIndex,\n    changePageIndex,\n  } = useFiltrationAndPagination(filtersAndPaginationSettings);\n\n  useEffect(() => {\n    setDiaries(dataToRender);\n  }, [dataToRender]);\n\n  useEffect(() => {\n    getCurrentBookedEvents({ limit: eventsLimit, offset: eventsOffset });\n  }, []);\n\n  // отписка от ивентов\n  const { selectedEvent } = useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setEvents((prevEvents) =>\n        prevEvents.filter((event) =>\n          event?.id === selectedEvent?.id ? null : event\n        )\n      );\n    }\n  }, [selectedEvent]);\n\n  // эффект при переключении страниц пагинации\n  useEffect(() => {\n    if (scrollAnchorRef && scrollAnchorRef.current) {\n      scrollAnchorRef.current.scrollIntoView();\n    }\n    if (isFormOpen) closeForm();\n  }, [pageIndex]);\n\n  if (isPageLoading) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <>\n      <BasePage headTitle={headTitle} headDescription={headDescription}>\n        <section className=\"profile fade-in\">{renderPageContent()}</section>\n      </BasePage>\n      <PopupDeleteDiary\n        isOpen={isDeleteDiaryPopupOpen}\n        cardData={selectedDiary}\n        onClose={closeDeleteDiaryPopup}\n        onCardDelete={handleDeleteDiary}\n        isWaitingResponse={isWaitingResponse && isDeleteDiaryPopupOpen}\n      />\n    </>\n  );\n\n  // функционал\n  // КАРТОЧКИ ИВЕНТОВ\n  function getArchiveOfEvents({ limit, offset }) {\n    if (offset <= archivedEvents.length) {\n      getArchiveOfBookedEvents({ limit, offset })\n        .then((eventsData) => {\n          setArchivedEvents((prevEvents) => [...prevEvents, ...eventsData]);\n          setEventsOffset((prevOffset) => prevOffset + limit);\n        })\n        .catch(() => {\n          setError(ERROR_MESSAGES.generalErrorMessage);\n          openPopupError();\n        })\n        .finally(() => setIsLoadingEvents(false));\n    }\n  }\n\n  function getCurrentBookedEvents({ limit, offset }) {\n    if (offset <= events.length) {\n      getBookedEvents({ limit, offset })\n        .then((eventsData) => {\n          const updatedEvents = eventsData.map(({ event }) => {\n            const updatedEvent = event;\n            updatedEvent.booked = true;\n            return updatedEvent;\n          });\n          setEvents((prevEvents) => [...prevEvents, ...updatedEvents]);\n          setEventsOffset((prevOffset) => prevOffset + limit);\n        })\n        .catch(() => {\n          setError(ERROR_MESSAGES.generalErrorMessage);\n          openPopupError();\n        })\n        .finally(() => setIsLoadingEvents(false));\n    }\n  }\n\n  function openEventCard() {\n    if (isArchiveOpen) {\n      // без записи на ивент\n      openPopupAboutEvent(true);\n    } else openPopupAboutEvent();\n  }\n\n  function openArchiveOfEvents() {\n    setEvents([]);\n    setEventsOffset(0);\n    setIsArchiveOpen(true);\n    setIsLoadingEvents(true);\n    getArchiveOfEvents({ limit: eventsLimit, offset: 0 });\n  }\n\n  function openCurrentEvents() {\n    setArchivedEvents([]);\n    setEventsOffset(0);\n    setIsArchiveOpen(false);\n    setIsLoadingEvents(true);\n    getCurrentBookedEvents({ limit: eventsLimit, offset: 0 });\n  }\n\n  // ФОРМА И ДНЕВНИКИ\n  function scrollToForm() {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  }\n\n  function openForm(data) {\n    if (!data) setIsEditMode(false);\n    setIsFormOpen(true);\n    scrollToForm();\n  }\n\n  function closeForm() {\n    setIsFormOpen(false);\n    setIsEditMode(false);\n    setFormDataToEdit(null);\n  }\n\n  function handleEditMode(data) {\n    setIsFormOpen(false);\n    //! небольшая задержка перед ререндером\n    setTimeout(() => {\n      setIsEditMode(true);\n      setFormDataToEdit(data);\n      openForm(data);\n    }, DELAY_RENDER);\n  }\n\n  function createFormData(data) {\n    const formData = new FormData();\n    if (data) {\n      if (data.id) formData.append('id', data.id);\n      if (data.image) formData.append('image', data.image);\n      formData.append('date', data.date);\n      formData.append('place', data.place);\n      formData.append('description', data.description);\n      formData.append('mark', data.mark);\n    }\n    return formData;\n  }\n\n  function handleErrorOnFormSubmit(err) {\n    if (err?.status === badRequest || err?.status === unauthorized) {\n      setError(err?.data);\n    } else openPopupError();\n  }\n\n  function handleCreateDiary(data) {\n    createDiary(createFormData(data))\n      .then((newDiary) => {\n        setDiaries((prevDiaries) => [newDiary, ...prevDiaries]);\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err))\n      .finally(() => setIsWaitingResponse(false));\n  }\n\n  function handleEditDiary(data) {\n    editDiary(data?.id, createFormData(data))\n      .then((newDiary) => {\n        setDiaries((prevDiaries) =>\n          prevDiaries.map((diary) =>\n            diary?.id === newDiary?.id ? newDiary : diary\n          )\n        );\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err))\n      .finally(() => setIsWaitingResponse(false));\n  }\n\n  function handleSubmitDiary(data) {\n    setIsWaitingResponse(true);\n    if (isEditMode) handleEditDiary(data);\n    else handleCreateDiary(data);\n  }\n\n  function handleShareDiary(sharedDiary) {\n    setIsWaitingResponse(true);\n    setSelectedDiary(sharedDiary);\n    shareDiary(sharedDiary?.id)\n      .then(() => {\n        const newDiary = diaries.find((diary) => diary?.id === sharedDiary?.id);\n        newDiary.sentToCurator = true;\n        setDiaries((prevDiaries) =>\n          prevDiaries.map((diary) =>\n            diary?.id === newDiary?.id ? newDiary : diary\n          )\n        );\n      })\n      .catch(() => {\n        setError(ERROR_MESSAGES.generalErrorMessage);\n        openPopupError();\n      })\n      .finally(() => setIsWaitingResponse(false));\n  }\n\n  // УДАЛЕНИЕ ДНЕВНИКА\n  function openDeleteDiaryPopup(diary) {\n    setIsDeleteDiaryPopupOpen(true);\n    setSelectedDiary(diary);\n  }\n\n  function closeDeleteDiaryPopup() {\n    setIsDeleteDiaryPopupOpen(false);\n  }\n\n  function handleDeleteDiary(diary) {\n    setIsWaitingResponse(true);\n    deleteDiary(diary?.id)\n      .then(() => {\n        setDiaries((prevDiaries) =>\n          prevDiaries.filter((prevDiary) =>\n            prevDiary?.id === diary?.id ? null : prevDiary\n          )\n        );\n      })\n      .catch(() => {\n        setError(ERROR_MESSAGES.generalErrorMessage);\n        openPopupError();\n      })\n      .finally(() => {\n        setIsWaitingResponse(false);\n        closeDeleteDiaryPopup();\n      });\n  }\n\n  // РЕНДЕРИНГ\n  function renderEventCards() {\n    const renderingEvents = isArchiveOpen ? archivedEvents : events;\n    if (renderingEvents.length > 0) {\n      return (\n        <>\n          {renderingEvents.map((item) => (\n            <ProfileEventCard\n              key={item?.id}\n              data={item}\n              onOpen={openEventCard}\n              sectionClass=\"scrollable-container__child slide-in\"\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  }\n\n  function renderAddDiaryButton() {\n    if (!isFormOpen && diaries && diaries.length > 0) {\n      return (\n        <button\n          className=\"profile__button-add-diary fade-in\"\n          type=\"button\"\n          onClick={openForm}\n        >\n          <ButtonRound color=\"blue\" isSmall isSpan />\n        </button>\n      );\n    }\n    return null;\n  }\n\n  function renderDiaryForm() {\n    if (isFormOpen || (diaries && diaries.length === 0 && !isPageLoading)) {\n      return (\n        <div className=\"profile__form-container\">\n          {!isEditMode && (\n            <TitleH2 sectionClass=\"profile__title fade-in\" title={formTitle} />\n          )}\n          <ProfileForm\n            sectionClass=\"profile__diary-form scale-in\"\n            isEditMode={isEditMode}\n            isOpen={isFormOpen}\n            data={formDataToEdit}\n            onClose={closeForm}\n            onSubmit={handleSubmitDiary}\n            isWaitingResponse={isWaitingResponse}\n          />\n        </div>\n      );\n    }\n    return null;\n  }\n\n  function renderDiaries() {\n    if (isPaginationUsed) return <Loader isPaginate />;\n\n    if (diaries && diaries.length > 0) {\n      return (\n        <>\n          {diaries.map((diary) => (\n            <ProfileDiary\n              key={diary?.id}\n              data={diary}\n              onEdit={handleEditMode}\n              onDelete={openDeleteDiaryPopup}\n              onShare={handleShareDiary}\n              sectionClass=\"scale-in\"\n              selectedDiaryId={selectedDiary?.id}\n              isWaitingResponse={isWaitingResponse && !isDeleteDiaryPopupOpen}\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  }\n\n  function renderPageContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return (\n      <>\n        <div className=\"profile__events-area page__section\">\n          {!isLoadingEvents ? (\n            <>\n              <div className=\"profile__events-heading\">\n                <UserMenuButton\n                  sectionClass=\"profile__archive-button\"\n                  title={\n                    isArchiveOpen ? eventsCurrentButton : eventsArchiveButton\n                  }\n                  handleClick={\n                    isArchiveOpen ? openCurrentEvents : openArchiveOfEvents\n                  }\n                />\n                <TitleH2\n                  sectionClass=\"profile__title profile__title_shifted\"\n                  title={isArchiveOpen ? titleH1Archive : titleH1Current}\n                />\n              </div>\n              {(events.length > 0 || archivedEvents.length > 0) && (\n                <ScrollableContainer\n                  sectionClass=\"profile__events\"\n                  step={3}\n                  onScrollCallback={() => {\n                    if (!serverError) {\n                      if (isArchiveOpen) {\n                        getArchiveOfEvents({\n                          limit: eventsLimit,\n                          offset: eventsOffset,\n                        });\n                      } else {\n                        getCurrentBookedEvents({\n                          limit: eventsLimit,\n                          offset: eventsOffset,\n                        });\n                      }\n                    }\n                  }}\n                >\n                  {renderEventCards()}\n                </ScrollableContainer>\n              )}\n            </>\n          ) : (\n            <Loader isSmallGrid />\n          )}\n        </div>\n\n        <div className=\"profile__diaries page__section\">\n          <span className=\"profile__scroll-anchor\" ref={scrollAnchorRef} />\n          <div className=\"profile__diaries-container\">\n            {renderAddDiaryButton()}\n\n            {renderDiaryForm()}\n\n            {renderDiaries()}\n\n            {totalPages > 1 && (\n              <Paginate\n                sectionClass=\"cards-section__pagination\"\n                pageCount={totalPages}\n                value={pageIndex}\n                onChange={changePageIndex}\n                dontUseScrollUp\n              />\n            )}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Profile;\n"],"sourceRoot":""}