(this.webpackJsonpbbbs_team3_react=this.webpackJsonpbbbs_team3_react||[]).push([[21],{245:function(e,t,i){},258:function(e,t,i){"use strict";i.r(t);var n=i(25),c=i(3),s=i(1),a=i(197),o=i(200),r=i(15),l=i(238),u=i(5),d={headTitle:"".concat(u.n," | \u0418\u0441\u0442\u043e\u0440\u0438\u0438 \u0434\u0440\u0443\u0436\u0431\u044b"),headDescription:"\u0418\u0441\u0442\u043e\u0440\u0438\u0438 \u0434\u0440\u0443\u0436\u0431\u044b \u0441 \u043c\u043b\u0430\u0434\u0448\u0438\u043c\u0438 \u043e\u0442 \u043d\u0430\u0448\u0438\u0445 \u043d\u0430\u0441\u0442\u0430\u0432\u043d\u0438\u043a\u043e\u0432",title:"\u0418\u0441\u0442\u043e\u0440\u0438\u0438 \u0434\u0440\u0443\u0436\u0431\u044b",subtitle:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043d\u0430\u0448\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u043b\u043e\u0436\u043d\u043e \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u0430\u043c\u0438. \u041a\u0430\u043a \u0438\u0437\u043c\u0435\u0440\u0438\u0442\u044c \u0438 \u0432\u0437\u0432\u0435\u0441\u0438\u0442\u044c \u0434\u0440\u0443\u0436\u0431\u0443? \u041a\u0430\u043a \u043e\u0446\u0435\u043d\u0438\u0442\u044c \u0443\u0441\u043f\u0435\u0445\u0438 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u043e \u0440\u0430\u0437\u043d\u044b\u0445 \u0434\u0435\u0442\u0435\u0439? \u0423 \u043a\u0430\u0436\u0434\u043e\u0439 \u043f\u0430\u0440\u044b \u2014 \u0441\u0432\u043e\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438 \u0441\u0432\u043e\u0438 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f. \u0418\u043c\u0435\u043d\u043d\u043e \u043e\u0431 \u044d\u0442\u043e\u043c \u043c\u044b \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u044f\u0445.",textStubNoData:"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043e \u0438\u0441\u0442\u043e\u0440\u0438\u044f\u043c\u0438 \u0434\u0440\u0443\u0436\u0431\u044b \u043f\u0443\u0441\u0442\u0430. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u043f\u043e\u0437\u0436\u0435!"},j=i(7),b=i(2),f=i(6),m=i(11),O=i(10),h=i(18),_=i(14),v=i.n(_);var p=i(44),x=i(45),g=i(27),N=i(4),C=(i(245),i(0)),k={default:[0,65],medium:[0,15],small:[0,7.5]},S={small:706,medium:1100},w=d.headTitle,y=d.headDescription,T=d.title,A=d.subtitle,D=d.textStubNoData;t.default=function(){var e,t,i,d,_,P=Object(r.i)().storyId,B=Object(r.g)(),E=Object(s.useContext)(j.b).currentUser,F=Object(s.useState)(!0),I=Object(c.a)(F,2),M=I[0],V=I[1],H=Object(s.useState)(!1),J=Object(c.a)(H,2),R=J[0],z=J[1],K=Object(s.useState)(!1),U=Object(c.a)(K,2),q=U[0],G=U[1],L=Object(s.useState)([]),Q=Object(c.a)(L,2),W=Q[0],X=Q[1],Y=Object(s.useState)(0),Z=Object(c.a)(Y,2),$=Z[0],ee=Z[1],te=Object(s.useState)({}),ie=Object(c.a)(te,2),ne=ie[0],ce=ie[1],se=Object(s.useState)(!1),ae=Object(c.a)(se,2),oe=ae[0],re=ae[1],le=Object(s.useState)({}),ue=Object(c.a)(le,2),de=ue[0],je=ue[1],be=+(null!==P&&void 0!==P?P:null===(e=W[0])||void 0===e?void 0:e.filter),fe=null!==(t=null===(i=ne.mentor)||void 0===i?void 0:i.firstName)&&void 0!==t?t:"",me=null!==(d=ne.child)&&void 0!==d?d:"",Oe="".concat(fe," \u0438 ").concat(me),he=Object(O.b)(ne.togetherSince),_e="\u0412\u043c\u0435\u0441\u0442\u0435 \u0441 ".concat(Object(O.d)(null===he||void 0===he?void 0:he.monthName)," ").concat(null===he||void 0===he?void 0:he.year," \u0433\u043e\u0434\u0430"),ve="\u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c ".concat(Object(l.inclineFirstname)(fe,"dative")),pe="".concat(u.H,"/").concat(null===(_=ne.nextArticle)||void 0===_?void 0:_.id),xe=Object(s.useRef)(null),ge=Object(m.n)(S,k).pageSize,Ne=function(e,t){je({photoSrc:e,caption:t}),re(!0)},Ce=function(e){Object(h.d)(X,{inputValue:e,isChecked:!0}),B.push("".concat(u.H,"/").concat(e))},ke=function(e){var t=e.limit,i=e.offset;$<=W.length&&function(e){var t=e.limit,i=e.offset;return v.a.get("".concat(f.b).concat(f.a,"/history/"),{params:{limit:t,offset:i}}).then((function(e){return e.data})).catch((function(e){return Promise.reject(null===e||void 0===e?void 0:e.response)}))}({limit:t,offset:i}).then((function(e){var i=e.results;if(null===i||void 0===i?void 0:i.length){var c=i.map((function(e){return{filter:e.id,name:e.pair,isActive:+P===+e.id}}));X((function(e){return[].concat(Object(n.a)(e),Object(n.a)(c))})),ee((function(e){return e+t}))}else V(!1)})).catch((function(){G(!0),V(!1)}))},Se=function(){be===W[W.length-1].filter&&ke({limit:10,offset:$})};Object(s.useEffect)((function(){ke({limit:10,offset:$})}),[]),Object(s.useEffect)((function(){var e;be&&(z(!0),(e=be,v.a.get("".concat(f.b).concat(f.a,"/history/").concat(e,"/")).then((function(e){return e.data})).catch((function(e){return Promise.reject(null===e||void 0===e?void 0:e.response)}))).then(ce).catch((function(e){e.status===b.g.notFound?B.push(u.s):G(!0)})).finally((function(){z(!1),M&&V(!1)})))}),[be]),Object(s.useEffect)((function(){if(W.length){var e=W.find((function(e){return e.filter===be}));e&&Object(h.d)(X,{inputValue:e.filter,isChecked:!0})}}),[be,$]);var we=Object(s.useRef)(null);return Object(s.useEffect)((function(){we&&we.current&&setTimeout((function(){we.current.scrollIntoView({behavior:"smooth"})}),150)}),[P]),M?Object(C.jsx)(N.l,{isCentered:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(p.a,{headTitle:w,headDescription:y,children:function(){if(q||!W.length)return Object(C.jsx)(x.a,{titleText:q?b.h.generalErrorMessage.title:D});return Object(C.jsxs)("div",{className:"stories page__section fade-in",children:[Object(C.jsx)(N.x,{title:T,sectionClass:"stories__title"}),Object(C.jsx)("p",{className:"stories__subtitle",children:A}),Object(C.jsxs)("div",{className:"stories__tags-carousel fade-in",children:[Object(C.jsx)("span",{className:"stories__scroll-anchor",ref:we}),Object(C.jsx)(N.v,{step:5,useButtons:!0,disableMouseDrag:!0,onScrollCallback:function(){return ke({limit:10,offset:$})},sectionClass:"stories__scroll-container",prevButtonClass:"stories__prev-button",nextButtonClass:"stories__next-button",children:W.map((function(e){return Object(C.jsx)(N.s,{name:e.name,value:e.filter,title:e.name,isActive:e.isActive,onClick:Ce,sectionClass:"scrollable-container__child"},e.filter)}))})]}),R?Object(C.jsx)(N.l,{isPaginate:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("img",{className:"stories__main-photo scale-in",src:"".concat(f.c,"/").concat(ne.image),alt:Oe}),Object(C.jsx)(N.y,{title:Oe,sectionClass:"stories__pair-title fade-in"}),Object(C.jsx)(N.e,{title:_e,sectionClass:"stories__caption fade-in"}),Object(C.jsx)("p",{className:"stories__subtitle stories__subtitle_last fade-in",children:ne.description})]}),Object(C.jsx)(a.a,{className:"markdown stories__markdown fade-in",children:ne.uperBody}),Te(),Object(C.jsx)(a.a,{className:"markdown stories__markdown stories__markdown_last fade-in",children:ne.lowerBody}),ye()]})]})}()}),Object(C.jsx)(g.f,{isOpen:oe,onClose:function(){re(!1)},currentPhoto:de})]});function ye(){var e;return Object(C.jsxs)("div",{className:"stories__links fade-in",children:[E&&(null===(e=ne.mentor)||void 0===e?void 0:e.email)&&Object(C.jsx)("a",{className:"link stories__link",href:"mailto:".concat(ne.mentor.email),target:"_blank",rel:"noopener noreferrer",children:ve}),ne.nextArticle&&Object(C.jsx)(N.p,{text:ne.nextArticle.title,href:pe,onClick:Se,sectionClass:"stories__link_next"})]})}function Te(){var e;return Object(C.jsx)("div",{className:"stories__photo-carousel-container",children:Object(C.jsx)("div",{className:"stories__photo-carousel-wrapper",children:Object(C.jsxs)(o.a,{ref:xe,className:"stories__photo-carousel",itemsToScroll:1,itemsToShow:3,initialActiveIndex:0,itemPadding:ge,pagination:!1,enableMouseSwipe:!1,children:[Object(C.jsx)("div",{"aria-hidden":!0,className:"stories__carousel-image"}),null===(e=ne.images)||void 0===e?void 0:e.map((function(e,t){return Object(C.jsx)("div",{className:"stories__carousel-image-wrap",onClick:function(){xe.current.goTo(t),Ne("".concat(f.c,"/").concat(e.image),e.imageCaption)},onKeyPress:function(){xe.current.goTo(t),Ne("".concat(f.c,"/").concat(e.image),e.imageCaption)},role:"button",tabIndex:0,children:Object(C.jsx)("img",{className:"stories__carousel-image",draggable:!1,src:"".concat(f.c,"/").concat(e.image),alt:e.imageCaption})},e.id)})),Object(C.jsx)("div",{"aria-hidden":!0,className:"stories__carousel-image"})]})})})}}}}]);
//# sourceMappingURL=21.041ff899.chunk.js.map