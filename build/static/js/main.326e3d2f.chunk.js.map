{"version":3,"sources":["config/constants.js","components/utils/Blockquote/Blockquote.js","components/utils/Button/Button.js","components/utils/ButtonDots/ButtonDots.js","components/utils/ButtonRound/ButtonRound.js","components/utils/Caption/Caption.js","components/utils/Card/Card.js","components/utils/NavItem/NavItem.js","utils/drop-down-menu-link.js","components/utils/DropDownMenu/DropDownMenu.js","components/utils/DropDownSelect/locales/RU.js","components/utils/DropDownSelect/DropDownSelect.js","components/utils/Input/Input.js","components/utils/LinkableHeading/LinkableHeading.js","components/utils/Logo/locales/RU.js","assets/logo.svg","assets/footer-logo.svg","components/utils/Logo/Logo.js","components/utils/ModificatedScrollbars/ModificatedScrollbars.js","components/utils/NoDataNotificationBox/locales/RU.js","components/utils/NoDataNotificationBox/NoDataNotificationBox.js","components/utils/Paginate/Paginate.js","components/utils/PseudoButtonTag/PseudoButtonTag.js","components/utils/Rating/Rating.js","components/utils/Rubric/Rubric.js","components/utils/ScrollableContainer/locales/RU.js","components/utils/ScrollableContainer/ScrollableContainer.js","components/utils/SearchButton/locales/RU.js","components/utils/SearchButton/SearchButton.js","components/utils/TitleH1/TitleH1.js","components/utils/TitleH2/TitleH2.js","components/utils/TitleH3/TitleH3.js","components/utils/UserIconButton/UserIconButton.js","components/utils/UserMenuButton/UserMenuButton.js","components/utils/Widget/locales/RU.js","components/utils/Widget/Widget.js","components/utils/NextArticleLink/NextArticleLink.js","components/utils/IconEye/IconEye.js","config/routes.js","config/config.js","contexts/CurrentUserContext.js","contexts/CitiesContext.js","contexts/PopupsContext.js","contexts/ErrorsContext.js","hooks/useLocalStorage.js","utils/utils.js","hooks/useClickOutside.js","hooks/useScrollToTop.js","api/auth.js","hooks/useAuth.js","api/cities.js","hooks/useDebounce.js","hooks/useCities.js","hooks/useActivityTypes.js","hooks/useEventBooking.js","hooks/useFormWithValidation.js","hooks/useInfiniteScroll.js","hooks/useCloseOnEscape.js","hooks/useFiltrationAndPagination.js","hooks/useFiltrationWithMainCard.js","utils/age-filters.js","hooks/useFiltrationForPlaces.js","hooks/usePageWidth.js","hooks/useSingleCardAtDynamicRoute.js","components/Popups/Popup/locales/RU.js","components/Popups/Popup/Popup.js","utils/filter-tags.js","utils/external-links.js","components/Popups/PopupConfirmation/locales/RU.js","components/Popups/PopupConfirmation/PopupConfirmation.js","components/Popups/PopupSuccessfully/locales/RU.js","components/Popups/PopupSuccessfully/PopupSuccessfully.js","components/Popups/PopupRecommendSuccess/locales/RU.js","components/Popups/PopupRecommendSuccess/PopupRecommendSuccess.js","components/Popups/PopupLogin/locales/RU.js","components/Popups/PopupLogin/PopupLogin.js","components/Popups/PopupAboutEvent/locales/RU.js","components/Popups/PopupAboutEvent/PopupAboutEvent.js","components/Popups/PopupCities/locales/RU.js","components/Popups/PopupCities/PopupCities.js","components/Popups/PopupError/PopupError.js","components/Popups/PopupVideo/PopupVideo.js","components/Popups/PopupPhoto/PopupPhoto.js","api/user.js","utils/parser-link-youtube.js","components/utils/Loader/Loader.js","api/event-participants.js","components/Header/locales/RU.js","components/NavBar/locales/RU.js","components/NavItemWithDropdown/NavItemWithDropdown.js","components/Search/locales/RU.js","api/search.js","components/Search/Search.js","components/NavBar/NavBar.js","components/Header/Header.js","components/Footer/locales/RU.js","components/Footer/Footer.js","layout/BasePage.js","components/AnimatedPageContainer/locales/RU.js","components/AnimatedPageContainer/AnimatedPageContainer.js","components/Cards/CardAnnotation/CardAnnotation.js","components/Cards/CardFilm/locales/RU.js","components/Cards/CardFilm/CardFilm.js","utils/form-errors.js","components/Cards/CardCalendar/locales/RU.js","components/Cards/CardCalendar/CardCalendar.js","components/Cards/CardPlace/locales/RU.js","components/Cards/CardPlace/CardPlace.js","components/Cards/CardVideoMain/locales/RU.js","components/Cards/CardVideoMain/CardVideoMain.js","components/Cards/CardQuestion/locales/RU.js","components/Cards/CardQuestion/CardQuestion.js","api/places-page.js","pages/Places/locales/RU.js","components/Cards/CardAnnotation/CardAnnotationContainer.js","components/ProtectedRoute/ProtectedRoute.js","pages/MainPage/locales/RU.js","api/main-page.js","components/Cards/CardStub/locales/RU.js","components/Cards/CardStub/CardStub.js","components/Cards/CardArticleBig/locales/RU.js","components/Cards/CardArticleBig/CardArticleBig.js","components/Cards/CardAnimatedPlug/CardAnimatedPlug.js","pages/MainPage/MainPage.js","navigation/Router.js","App.js","index.js"],"names":["weekdays","months","COLORS","FIGURES","ALL_CATEGORIES_TAG","RESOURCE_GROUP_TAG","CHOSEN_BY_MENTOR_TAG","DEFAULT_CITY","regExpImages","DELAY_DEBOUNCE","DELAY_RENDER","localStUserCity","localStAfishaEvent","jwt","jwtRefresh","localStChosenVideo","ERROR_MESSAGES","generalErrorMessage","title","button","eventAddErrorMessage","eventCancelErrorMessage","citiesErrorMessage","filterErrorMessage","ERROR_CODES","badRequest","unauthorized","notFound","Blockquote","sectionWrapperClass","sectionTitleClass","text","className","defaultProps","Button","titleSelected","color","isSubmittable","isDisabled","onClick","isBooked","sectionClass","classNames","join","trim","type","disabled","undefined","ButtonDots","handleClick","ButtonRound","label","isSmall","isSpan","isClick","aria-label","Caption","Card","children","NavItem","sectionLinkClass","href","linkText","rel","target","to","dropDownMenuLink","CATALOG_TITLE","url","CATALOG_URL","VIDEO_TITLE","VIDEO_URL","ARTICLES_TITLE","ARTICLES_URL","MOVIES_TITLE","MOVIES_URL","BOOKS_TITLE","BOOKS_URL","DropDownMenu","map","item","texts","buttonAriaLabel","DropDownSelect","placeholder","options","inputName","onChange","error","isFormOpen","useState","isOpen","setIsOpen","optionSelected","setOptionSelected","classNamesButton","classNamesDropDown","classNamesArrow","dropdownRef","useClickOutside","useEffect","viewBox","fill","xmlns","d","ref","aria-hidden","option","name","htmlFor","id","value","Input","required","max","min","minLength","maxLength","pattern","isTextarea","onFocus","errorMessage","classNamesWrap","classNamesInput","classNamesTextarea","LinkableHeading","HeadingComponent","Component","path","titleSectionClass","linkSectionClass","altText","Logo","isWhite","src","whiteLogo","blueLogo","alt","ModificatedScrollbars","horizontalScrollClass","useRef","renderTrackHorizontal","style","opacity","renderThumbVertical","defaultText","NoDataNotificationBox","isAnimated","Paginate","props","pageCount","dontUseScrollUp","useScrollToTop","containerClassName","pageClassName","pageLinkClassName","activeLinkClassName","previousClassName","breakClassName","nextClassName","disabledClassName","pageRangeDisplayed","marginPagesDisplayed","forcePage","onPageChange","selected","initialPage","PseudoButtonTag","isActive","checked","event","Rating","ratingType","pseudoButtonClassNames","defaultChecked","Rubric","ariaLabelPrevButton","ariaLabelNextButton","ScrollableContainer","reference","step","onScrollCallback","useButtons","disableMouseDrag","prevButtonClass","nextButtonClass","parentRef","firstChildRef","lastChildRef","isPrevButtonDisabled","setIsPrevButtonDisabled","isNextButtonDisabled","setIsNextButtonDisabled","useInfiniteScroll","isScrolling","clientX","scrollX","state","setState","scrollHandler","deltaY","current","scrollTo","left","scrollLeft","behavior","scrollByWheel","useCallback","evt","preventDefault","scrollByButtons","useLayoutEffect","addEventListener","removeEventListener","onMouseDown","contains","setTimeout","onMouseMove","onMouseUp","onMouseLeave","ariaLabelText","SearchButton","handleClickButton","width","height","cx","cy","r","stroke","strokeLinecap","TitleH1","isLinkable","TitleH2","TitleH3","authorizedColor","UserIconButton","isAuthorized","PROFILE_TITLE","UserMenuButton","textStub","Widget","link","allow","NextArticleLink","fillRule","clipRule","IconEye","isClosed","x1","y1","x2","y2","strokeWidth","MAIN_PAGE_URL","AFISHA_URL","ABOUT_US_URL","QUESTIONS_URL","PROFILE_URL","PLACES_URL","RIGHTS_URL","RIGHTS_ARTICLE_URL","READ_AND_WATCH_URL","CATALOG_ITEM_URL","STORIES_URL","NOT_FOUND_URL","PLACES_ID_PARAM","ARTICLES_ID_PARAM","BOOKS_ID_PARAM","STORIES_ID_PARAM","MAIN_PAGE_TITLE","AFISHA_TITLE","ABOUT_US_TITLE","QUESTIONS_TITLE","PLACES_TITLE","RIGHTS_TITLE","READ_AND_WATCH_TITLE","STORIES_TITLE","NOT_FOUND_TITLE","baseURL","apiUrl","staticImageUrl","CurrentUserContext","createContext","CitiesContext","PopupsContext","ErrorsContext","setLocalStorageData","key","localStorage","setItem","JSON","stringify","removeLocalStorageData","removeItem","clearLocalStorage","clear","getLocalStorageData","parse","getItem","dispatchLocalStorageEvent","Event","window","dispatchEvent","useLocalStorage","getLocalStorageItem","formatDuration","duration","hours","Math","floor","minutes","seconds","format","formatDate","date","parsedDate","Date","day","getDate","month","getMonth","weekdayName","getDay","monthName","hour","String","getHours","year","getFullYear","getMinutes","formatWordCase","remainSeats","lastTwoDigits","lastDigit","changeCaseOfFirstLetter","str","toUpperCase","slice","formatMonthsGenitiveCase","randomizeArray","arr","size","length","array","Array","splice","random","formatPhoneNumber","phoneNum","str1","str2","str3","str4","str5","callback","clickListener","document","deps","top","AuthApi","accessToken","axios","defaults","headers","common","Authorization","loginData","post","then","response","data","catch","err","Promise","reject","refreshToken","useAuth","setCurrentUser","isCheckingToken","setIsCheckingToken","isWaitingResponse","setIsWaitingResponse","popups","useContext","errors","history","useHistory","handleError","status","setError","message","handleTokenError","clearAuth","checkRefreshToken","refresh","access","setAuth","getUserData","userData","finally","handleLogout","push","handleLogin","authorize","token","Error","closePopupLogin","checkToken","getCities","timer","get","useCities","cities","setCities","defaultCity","setDefaultCity","citiesData","mainCity","find","city","console","useDebounce","delay","args","clearTimeout","useActivityTypes","activityTypes","setActivityTypes","activityTypesSimplified","reduce","obj","getActivityTypes","openPopupError","useEventBooking","openPopupSuccessfully","openPopupConfirmation","closeAllPopups","selectedEvent","setSelectedEvent","listenCancel","newEvent","booked","listenRegister","registerOnEvent","card","makeEventRegistration","register","setRegisterEvent","cancelRegistration","cancelEventRegistration","cancel","setCancelRegisterEvent","handleEventBooking","noConfirm","useFormWithValidation","values","setValues","setErrors","isValid","setIsValid","resetForm","newValues","newErrors","newIsValid","handleChange","validationMessage","closest","checkValidity","handleChangeFiles","file","files","test","childRef","callbackOnIntersect","callbackOnHide","observer","root","rootMargin","threshold","IntersectionObserver","isIntersecting","observe","unobserve","useCloseOnEscape","closeOnEsc","useFiltrationAndPagination","apiGetDataCallback","apiGetFiltersCallback","apiFilterNames","pageSize","setIsPageError","isCalendarPage","dontStartWhileTrue","dataToRender","setDataToRender","filters","setFilters","isFiltersUsed","setIsFiltersUsed","isPaginationUsed","setIsPaginationUsed","isPageLoading","setIsPageLoading","totalPages","setTotalPages","pageIndex","setPageIndex","isNoFilters","debounceFiltration","defineParamsAndGetData","activeFilters","getActiveFilters","apiCallback","getData","isFiltersCallback","debouncePaginate","limit","results","count","ceil","firstPageRender","changePageIndex","changeFilter","inputValue","isChecked","some","f","filter","selectOneTag","setFiltersAndResetPagination","handleCheckboxBehavior","deselectOneTag","params","offset","all","tags","filtersArray","tag","slug","toLowerCase","defineFilters","useFiltrationWithMainCard","user","isVideoPage","mainCard","setMainCard","isMainCardShown","setIsMainCardShown","isMainCard","pinnedFullSize","isNoFilteredResults","setIsNoFilteredResults","handleMainCard","defaultTags","currentUser","resourceGroup","resourceGroupData","tagsWithResourceGroup","isResourceGroupSelected","isFiltersActive","fixedLimit","fixedOffset","pinnedFullSizeCard","filteredCards","ageFiltersArray","placesPageTexts","ageFilterNames","ageFilter","useFiltrationForPlaces","apiGetMainCardCallback","userCity","ageFilters","setAgeFilters","isMainCardInFirstResponse","setIsMainCardInFirstResponse","chosen","isFormRecommendationShown","setIsFormRecommendationShown","activeAges","isChosenByMentorFlag","isAllAlreadyActive","isAnyAgeFilters","deselectAllTags","changeAgeFilter","resetStatesAndGetNewData","category","age","chosenByMentorCard","cards","totalCards","isChosenCard","isOnFirstResponse","definePlaces","isChosenPlace","ageRestriction","usePageWidth","maxWindowWidths","pageSizeSettings","setPageSize","isSmallQuery","setIsSmallQuery","isMediumQuery","setIsMediumQuery","isBigQuery","setIsBigQuery","smallQuery","mediumQuery","bigQuery","small","matchMedia","medium","big","listener","matches","default","useSingleCardAtDynamicRoute","dynamicParam","singleCard","setSingleCard","isSingleCardShown","closeButtonLabel","Popup","typeContainer","onClose","withoutCloseButton","currentTarget","stateFilters","filterItem","handleRadioBehavior","tagName","socialLinks","bbbsLinks","about","donations","volunteering","partners","developmentLinks","praktikum","design","submitButtonText","submitButtonTextLoading","cancelButtonText","PopupConfirmation","startDay","startAt","endDay","endAt","onSubmit","parseInt","popupTitle","paragraph","buttonTextCalendarPage","buttonTextDefault","PopupSuccessfully","pathname","useLocation","buttonText","actionOnButtonClick","animationContainer","Lottie","loadAnimation","container","renderer","loop","autoplay","animationData","animationSuccess","PopupRecommendSuccess","animationRecommendSuccess","firstParagraph","secondParagraph","loginPlaceholder","passwordPlaceholder","showPasswordButton","hidePasswordButton","forgotButtonText","loadingButtonTextLogin","titleForgotForm","paragraphForgotForm","emailPlaceholder","backButtonText","submitButtonTextForgot","loadingButtonTextForgot","validationSettings","PopupLogin","updateUser","serverError","clearError","isShownPassword","setIsShownPassword","isForgotPassword","setIsForgotPassword","isSuccess","setSuccessMessage","errorsString","getServerErrors","closePopup","closePopupOnEsc","classNameAuth","handleSubmit","noValidate","username","password","buttonTitle","buttonTitleLoading","buttonTitleSelected","buttonCancelLoading","buttonTitleDisabled","remainSeatsText","PopupAboutEvent","isWithoutRegister","startDateParts","endDayParts","isCanceling","isRegistering","address","contact","phoneNumber","description","PopupCities","currentUserCity","debounceSubmitCity","cityId","updateUserProfile","res","isPrimary","renderCityItem","PopupError","PopupVideo","frameSrc","parserLinkYoutube","image","frameBorder","allowFullScreen","seamless","info","PopupPhoto","currentPhoto","photoSrc","caption","dataToUpdate","patch","recoverPassword","email","idVideo","getYouTubeID","imagePreview","Loader","isNested","isCentered","isSmallGrid","isPaginate","eventId","delete","getBookedEvents","getArchiveOfBookedEvents","changeCity","changeCityDefault","logoutText","searchPlaceholder","NavItemWithDropdown","notFoundText","searchText","ariaLabelCloseButton","search","Search","isOpenSearch","setIsOpenSearch","isMobileMenuOpen","setIsMobileMenuOpen","currentAnonymousCity","searchResults","setSearchResults","isVoidSearch","setIsVoidSearch","isLoadingSearch","setIsLoadingSearch","inputRef","getPathName","animateListItem","idx","animation","animateLink","handleClickLink","handleSearchRequest","a","searchParams","currentRequest","handleDebouncedRequest","focus","autoComplete","page","modelName","NavBar","onUserButtonClick","onBurgerButtonClick","onCityChangeClick","onLogout","userCityName","React","Children","toArray","renderUserMenuButtons","Header","isTransparentOnTop","openPopupCities","openPopupLogin","setUserCityName","currentCity","debounceTimer","headerRef","handleCloseMobileMenu","classList","isHeaderActive","setIsHeaderActive","isHeaderOnTop","setIsHeaderOnTop","prevScrollPos","detectScrollUp","scrollY","currentScrollPos","pageYOffset","debouncedScrollUp","classNamesHeader","onKeyPress","renderExitButton","logoAlt","logoLink","helpButtonText","helpButtonLink","devText","devLink","devOrg","designText","designLink","designOrg","copyright","Footer","BasePage","headTitle","headDescription","scrollUpDeps","isNoFooter","isHeaderTransparentOnTop","sectionClassMain","classNamesMain","content","title404","AnimatedPageContainer","is404","titleText","staticPage","urlBack","isNoButton","animation404","CardAnnotation","isMain","linkTextMovie","linkTextVideo","CardFilm","isVideo","isMobile","openPopupVideo","isPlayingVideo","setIsPlayingVideo","openPopupVideoOnClick","playVideoOnClick","draggable","renderPreview","renderVideoPlayback","durationString","renderDurationOrTags","serverErrorObj","isArray","Object","eventCanceled","CardCalendar","cardData","onEventSignUpClick","onEventDescriptionClick","loadingEventId","isDescription","canceled","changeStateOfEvent","prepareDataForAboutEventPopup","genderMale","genderFemale","chosenTagText","activityTypeDefault","CardPlace","gender","activityType","isBig","isMainPage","cardColor","cardSize","sexType","imageClassNames","renderImage","imageAlt","CardVideoMain","labelText","CardQuestion","childElement","answer","isQuestionsPage","isOpenByDefault","isOpened","setIsOpened","setIsAnimated","tagsClassNames","answerWrapperClassNames","role","tabIndex","minHeight","clientHeight","getPlacesTags","getPlaces","age_restriction","query","getChosenPlace","postPlace","getPlaceById","textStubNoData","paragraphNoContent","mentorTag","toMainPageLinkTitle","CardAnnotationContainer","classNamesDesc","ProtectedRoute","component","mainPageTexts","CardAnimatedPlugText","getMainPageData","CardStub","CardArticleBig","articleUrl","CardAnimatedPlug","PAGE_SIZE_PAGINATE","MAX_SCREEN_WIDTH","MainPage","openPopupAboutEvent","mainPageData","setMainPageData","randomQuestions","setRandomQuestions","randomMovies","setRandomMovies","isCityChanging","setIsCityChanging","isPageError","prevData","questions","movies","renderEventsBlock","renderHistoryBlock","fromMainPage","question","place","articles","renderArticleSection","renderMoviesSection","video","renderPageContent","article","additionalMoviesClasses","movie","AboutUs","lazy","Calendar","Questions","Profile","Places","Rights","RightsArticle","Movies","ReadAndWatch","Catalog","CatalogArticle","Video","Books","Articles","Stories","PageNotFound","Router","fallback","exact","App","isPopupConfirmationOpen","setIsPopupConfirmationOpen","isPopupSuccessfullyOpen","setIsPopupSuccessfullyOpen","isPopupAboutDescriptionOpen","setIsPopupAboutDescriptionOpen","isPopupErrorOpen","setIsPopupErrorOpen","isPopupLoginOpen","setIsPopupLoginOpen","isPopupCitiesOpen","setIsPopupCitiesOpen","isVideoPopupOpen","setIsVideoPopupOpen","setIsWithoutRegister","closePopupError","closePopupCities","popupsContextValue","withoutRegister","currentUserContextValue","useMemo","citiesContextValue","setServerError","errorsContextValue","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.326e3d2f.chunk.js","sourcesContent":["export const weekdays = [\n  'воскресенье',\n  'понедельник',\n  'вторник',\n  'среда',\n  'четверг',\n  'пятница',\n  'суббота',\n];\n\nexport const months = [\n  'январь',\n  'февраль',\n  'март',\n  'апрель',\n  'май',\n  'июнь',\n  'июль',\n  'август',\n  'сентябрь',\n  'октябрь',\n  'ноябрь',\n  'декабрь',\n];\n\nexport const COLORS = [\n  'yellow',\n  'green',\n  'yellow',\n  'pink',\n  'blue',\n  'pink',\n  'green',\n  'yellow',\n  'green',\n  'blue',\n  'pink',\n  'blue',\n];\n\nexport const FIGURES = [\n  'square',\n  'circle',\n  'arch',\n  'circle',\n  'arch',\n  'square',\n  'arch',\n  'square',\n  'circle',\n];\n\nexport const ALL_CATEGORIES_TAG = 'Все';\nexport const RESOURCE_GROUP_TAG = 'Ресурсная группа';\nexport const CHOSEN_BY_MENTOR_TAG = 'Выбор наставников';\nexport const DEFAULT_CITY = 'Москва';\n\nexport const regExpImages = /^[\\W\\w\\S\\s]+\\.(jpe?g|png|webp|jfif|bmp)$/i;\n\nexport const DELAY_DEBOUNCE = 300;\nexport const DELAY_RENDER = 100;\n\nexport const localStUserCity = 'userCity';\nexport const localStAfishaEvent = 'afishaEvent';\nexport const jwt = 'jwt';\nexport const jwtRefresh = 'jwtRefresh';\nexport const localStChosenVideo = 'chosenVideo';\n\nexport const ERROR_MESSAGES = {\n  generalErrorMessage: {\n    title:\n      'При передаче данных произошла ошибка. Повторите попытку позже или перезагрузите страницу.',\n    button: 'Вернуться',\n  },\n  eventAddErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте записаться снова',\n    button: 'Вернуться к мероприятию',\n  },\n  eventCancelErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте отписаться снова',\n    button: 'Вернуться к мероприятию',\n  },\n  citiesErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте выбрать город снова',\n    button: 'Вернуться',\n  },\n  filterErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте выбрать фильтр снова',\n    button: 'Вернуться',\n  },\n};\n\nexport const ERROR_CODES = {\n  badRequest: 400,\n  unauthorized: 401,\n  notFound: 404,\n};\n","import PropTypes from 'prop-types';\n\nfunction Blockquote({ sectionWrapperClass, sectionTitleClass, text }) {\n  return (\n    <blockquote className={sectionWrapperClass}>\n      <h3 className={`chapter-title ${sectionTitleClass}`}>{text}</h3>\n    </blockquote>\n  );\n}\n\nBlockquote.propTypes = {\n  sectionWrapperClass: PropTypes.string,\n  sectionTitleClass: PropTypes.string,\n  text: PropTypes.string,\n};\n\nBlockquote.defaultProps = {\n  sectionWrapperClass: '',\n  sectionTitleClass: '',\n  text: '',\n};\n\nexport default Blockquote;\n","import './Button.scss';\nimport PropTypes from 'prop-types';\n\nfunction Button({\n  title,\n  titleSelected,\n  color,\n  isSubmittable,\n  isDisabled,\n  onClick,\n  isBooked,\n  sectionClass,\n}) {\n  const classNames = [\n    'button',\n    `button_color_${color}`,\n    sectionClass,\n    isBooked ? `button_color_${color}_selected` : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type={isSubmittable ? 'submit' : 'button'}\n      disabled={isDisabled}\n      onClick={onClick}\n    >\n      {!isBooked ? title : titleSelected || title}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  title: PropTypes.string,\n  titleSelected: PropTypes.string,\n  color: PropTypes.string,\n  isSubmittable: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  isBooked: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nButton.defaultProps = {\n  title: '',\n  color: 'blue',\n  isSubmittable: false,\n  titleSelected: undefined,\n  onClick: () => {},\n  isDisabled: false,\n  isBooked: false,\n  sectionClass: '',\n};\n\nexport default Button;\n","import './ButtonDots.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonDots({ handleClick }) {\n  return (\n    <button className=\"button-dots\" type=\"button\" onClick={handleClick}>\n      &#8226;&#8226;&#8226;\n    </button>\n  );\n}\n\nButtonDots.propTypes = {\n  handleClick: PropTypes.func,\n};\n\nButtonDots.defaultProps = {\n  handleClick: () => {},\n};\n\nexport default ButtonDots;\n","import './ButtonRound.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonRound({\n  label,\n  sectionClass,\n  color,\n  isSmall,\n  isDisabled,\n  isSpan,\n  onClick,\n  isClick,\n}) {\n  const classNames = [\n    'button-round',\n    `button-round_color_${color}`,\n    isSmall ? 'button-round_small' : '',\n    sectionClass,\n    isClick ? 'button-round_active' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  if (isSpan) {\n    return <span className={classNames} />;\n  }\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      onClick={onClick}\n      disabled={isDisabled}\n      aria-label={label}\n    />\n  );\n}\n\nButtonRound.propTypes = {\n  label: PropTypes.string,\n  sectionClass: PropTypes.string,\n  color: PropTypes.string,\n  isSmall: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isSpan: PropTypes.bool,\n  onClick: PropTypes.func,\n  isClick: PropTypes.bool,\n};\n\nButtonRound.defaultProps = {\n  label: '',\n  sectionClass: '',\n  color: '',\n  isSmall: false,\n  isDisabled: false,\n  isSpan: false,\n  onClick: undefined,\n  isClick: false,\n};\n\nexport default ButtonRound;\n","import PropTypes from 'prop-types';\n\nfunction Caption({ title, sectionClass }) {\n  return <p className={`caption ${sectionClass}`}>{title}</p>;\n}\n\nCaption.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCaption.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Caption;\n","import './Card.scss';\nimport PropTypes from 'prop-types';\n\nfunction Card({ color, sectionClass, children }) {\n  const classNames = ['card', `card_color_${color}`, sectionClass]\n    .join(' ')\n    .trim();\n\n  return <div className={classNames}>{children}</div>;\n}\n\nCard.propTypes = {\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCard.defaultProps = {\n  color: 'white',\n  sectionClass: '',\n  children: null,\n};\n\nexport default Card;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nfunction NavItem({\n  sectionWrapperClass,\n  sectionLinkClass,\n  href,\n  linkText,\n  rel,\n  target,\n}) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className={sectionLinkClass} to={href} rel={rel} target={target}>\n        {linkText}\n      </NavLink>\n    </li>\n  );\n}\n\nNavItem.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  sectionLinkClass: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  linkText: PropTypes.string.isRequired,\n  rel: PropTypes.string,\n  target: PropTypes.string,\n};\n\nNavItem.defaultProps = {\n  rel: '',\n  target: '_self',\n  href: '',\n};\n\nexport default NavItem;\n","import {\n  ARTICLES_TITLE,\n  ARTICLES_URL,\n  BOOKS_TITLE,\n  BOOKS_URL,\n  CATALOG_TITLE,\n  CATALOG_URL,\n  MOVIES_TITLE,\n  MOVIES_URL,\n  VIDEO_TITLE,\n  VIDEO_URL,\n} from '../config/routes';\n\nconst dropDownMenuLink = [\n  {\n    title: CATALOG_TITLE,\n    url: CATALOG_URL,\n  },\n  {\n    title: VIDEO_TITLE,\n    url: VIDEO_URL,\n  },\n  {\n    title: ARTICLES_TITLE,\n    url: ARTICLES_URL,\n  },\n  {\n    title: MOVIES_TITLE,\n    url: MOVIES_URL,\n  },\n  {\n    title: BOOKS_TITLE,\n    url: BOOKS_URL,\n  },\n];\n\nexport default dropDownMenuLink;\n","import PropTypes from 'prop-types';\nimport NavItem from '../NavItem/NavItem';\nimport './DropDownMenu.scss';\nimport dropDownMenuLink from '../../../utils/drop-down-menu-link';\n\nfunction DropDownMenu({ sectionWrapperClass }) {\n  return (\n    <ul className={sectionWrapperClass}>\n      {dropDownMenuLink.map((item) => (\n        <NavItem\n          key={item.title}\n          sectionWrapperClass=\"menu__dropdown-list-item\"\n          sectionLinkClass=\"link menu__dropdown-link\"\n          href={item.url}\n          linkText={item.title}\n        />\n      ))}\n    </ul>\n  );\n}\n\nDropDownMenu.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n};\n\nexport default DropDownMenu;\n","const texts = {\n  buttonAriaLabel: 'Выберите опцию',\n};\n\nexport default texts;\n","import './DropDownSelect.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { useClickOutside } from '../../../hooks';\n\nfunction DropDownSelect({\n  placeholder,\n  options,\n  inputName,\n  onChange,\n  error,\n  sectionClass,\n  isFormOpen,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [optionSelected, setOptionSelected] = useState(null);\n\n  const classNames = ['select', sectionClass].join(' ').trim();\n  const classNamesButton = [\n    'select__button',\n    isOpen ? 'select__button_pressed' : '',\n    optionSelected ? 'select__button_selected' : '',\n    error ? 'select__button_error' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesDropDown = [\n    'select__dropdown',\n    isOpen ? 'select__dropdown_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesArrow = [\n    'select__arrow',\n    isOpen ? 'select__arrow_pressed' : '',\n    error ? 'select__arrow_error' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const dropdownRef = useClickOutside(() => setIsOpen(false));\n\n  useEffect(() => {\n    if (isFormOpen) {\n      setOptionSelected(null);\n      setIsOpen(false);\n    }\n  }, [isFormOpen]);\n\n  return (\n    <div className={classNames}>\n      <button\n        aria-label={`${texts.buttonAriaLabel} ${placeholder}`}\n        className={classNamesButton}\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n      >\n        {optionSelected || placeholder}\n        <svg\n          viewBox=\"0 0 24 19\"\n          fill=\"none\"\n          className={classNamesArrow}\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M5 7L11.8814 14L19 7\" />\n        </svg>\n      </button>\n      <ul className={classNamesDropDown} ref={dropdownRef}>\n        <li aria-hidden=\"true\">\n          <button\n            className=\"select__option_hidden\"\n            aria-hidden=\"true\"\n            type=\"button\"\n            onClick={() => setIsOpen(false)}\n          />\n        </li>\n        {options &&\n          options.map((option) => (\n            <li key={option?.id} className=\"select__option\">\n              <label\n                aria-label={option?.name}\n                htmlFor={`${option?.id}-${option?.name}`}\n                className=\"select__label\"\n              >\n                <input\n                  id={`${option?.id}-${option?.name}`}\n                  className=\"select__input\"\n                  type=\"radio\"\n                  name={inputName}\n                  value={option?.id}\n                  onClick={() => {\n                    setOptionSelected(option?.name);\n                    setIsOpen(!isOpen);\n                  }}\n                  onChange={onChange}\n                />\n                <span className=\"select__span\">{option?.name}</span>\n              </label>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n}\n\nDropDownSelect.propTypes = {\n  placeholder: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.any),\n  inputName: PropTypes.string,\n  onChange: PropTypes.func,\n  error: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isFormOpen: PropTypes.bool,\n};\n\nDropDownSelect.defaultProps = {\n  placeholder: '',\n  options: [],\n  inputName: '',\n  onChange: () => {},\n  error: undefined,\n  sectionClass: '',\n  isFormOpen: false,\n};\n\nexport default DropDownSelect;\n","import './Input.scss';\nimport PropTypes from 'prop-types';\n\nfunction Input({\n  id,\n  type,\n  name,\n  placeholder,\n  value,\n  required,\n  max,\n  min,\n  minLength,\n  maxLength,\n  pattern,\n  error,\n  sectionClass,\n  isTextarea,\n  onFocus,\n  onChange,\n}) {\n  const errorMessage = error ? `${placeholder}*` : '';\n\n  const classNamesWrap = ['input-wrap', sectionClass].join(' ').trim();\n\n  const classNamesInput = ['input', error ? 'input__error' : '']\n    .join(' ')\n    .trim();\n  const classNamesTextarea = ['input', error ? 'input__error' : '', 'textarea']\n    .join(' ')\n    .trim();\n\n  if (isTextarea) {\n    return (\n      <label className={classNamesWrap} htmlFor={id}>\n        <textarea\n          id={id}\n          className={classNamesTextarea}\n          name={name}\n          placeholder={errorMessage || placeholder}\n          onFocus={onFocus}\n          onChange={onChange}\n          value={value}\n          maxLength={maxLength}\n          minLength={minLength}\n          required={required}\n        />\n        {error && <span className=\"input__error-message\">{error}</span>}\n      </label>\n    );\n  }\n\n  return (\n    <label className={classNamesWrap} htmlFor={id}>\n      <input\n        id={id}\n        className={classNamesInput}\n        type={type}\n        name={name}\n        placeholder={errorMessage || placeholder}\n        onFocus={onFocus}\n        onChange={onChange}\n        value={value}\n        maxLength={maxLength}\n        minLength={minLength}\n        max={max}\n        min={min}\n        pattern={pattern}\n        required={required}\n      />\n      {error && <span className=\"input__error-message\">{error}</span>}\n    </label>\n  );\n}\n\nInput.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  sectionClass: PropTypes.string,\n  isTextarea: PropTypes.bool,\n  onChange: PropTypes.func,\n  required: PropTypes.bool,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  maxLength: PropTypes.number,\n  minLength: PropTypes.number,\n  pattern: PropTypes.string,\n  error: PropTypes.string,\n  onFocus: PropTypes.func,\n};\n\nInput.defaultProps = {\n  placeholder: '',\n  value: '',\n  sectionClass: '',\n  isTextarea: false,\n  onChange: () => {},\n  required: false,\n  max: undefined,\n  min: undefined,\n  maxLength: undefined,\n  minLength: undefined,\n  pattern: undefined,\n  error: undefined,\n  onFocus: () => {},\n};\n\nexport default Input;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nfunction LinkableHeading({\n  Component: HeadingComponent,\n  title,\n  path,\n  titleSectionClass,\n  linkSectionClass,\n}) {\n  return (\n    <Link className={linkSectionClass} to={path}>\n      <HeadingComponent title={title} sectionClass={titleSectionClass} />\n    </Link>\n  );\n}\n\nLinkableHeading.propTypes = {\n  Component: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  titleSectionClass: PropTypes.string,\n  linkSectionClass: PropTypes.string,\n};\n\nLinkableHeading.defaultProps = {\n  titleSectionClass: '',\n  linkSectionClass: '',\n};\n\nexport default LinkableHeading;\n","const texts = {\n  altText: 'Логотип Старшие Братья Старшие Сестры России',\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/logo.44535fba.svg\";","export default __webpack_public_path__ + \"static/media/footer-logo.6f701154.svg\";","import './Logo.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport blueLogo from '../../../assets/logo.svg';\nimport whiteLogo from '../../../assets/footer-logo.svg';\n\nfunction Logo({ isWhite, sectionClass }) {\n  const classNames = ['logo', sectionClass].join(' ').trim();\n\n  return (\n    <img\n      src={isWhite ? whiteLogo : blueLogo}\n      alt={texts.altText}\n      className={classNames}\n    />\n  );\n}\n\nLogo.propTypes = {\n  isWhite: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nLogo.defaultProps = {\n  isWhite: false,\n  sectionClass: '',\n};\n\nexport default Logo;\n","import { Scrollbars } from 'react-custom-scrollbars';\nimport { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction ModificatedScrollbars({ horizontalScrollClass, children }) {\n  const ref = useRef();\n\n  return (\n    <Scrollbars\n      ref={ref}\n      renderTrackHorizontal={() => <div style={{ opacity: 'none' }} />}\n      renderThumbVertical={() => <div className={horizontalScrollClass} />}\n    >\n      {children}\n    </Scrollbars>\n  );\n}\n\nModificatedScrollbars.propTypes = {\n  children: PropTypes.node,\n  horizontalScrollClass: PropTypes.string,\n};\n\nModificatedScrollbars.defaultProps = {\n  children: null,\n  horizontalScrollClass: '',\n};\n\nexport default ModificatedScrollbars;\n","const texts = {\n  defaultText: 'Данных нет',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport './NoDataNotificationBox.scss';\nimport texts from './locales/RU';\n\nfunction NoDataNotificationBox({ text, sectionClass, isAnimated }) {\n  const classNames = [\n    'no-data-text',\n    isAnimated ? 'no-data-text_animated' : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n  return <p className={classNames}>{text}</p>;\n}\n\nNoDataNotificationBox.propTypes = {\n  text: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isAnimated: PropTypes.bool,\n};\n\nNoDataNotificationBox.defaultProps = {\n  text: texts.defaultText,\n  sectionClass: '',\n  isAnimated: false,\n};\n\nexport default NoDataNotificationBox;\n","import './Paginate.scss';\nimport ReactPaginate from 'react-paginate';\nimport PropTypes from 'prop-types';\nimport { useScrollToTop } from '../../../hooks';\n\nconst Paginate = (props) => {\n  const { pageCount, sectionClass, value, onChange, dontUseScrollUp } = props;\n\n  if (!dontUseScrollUp) {\n    useScrollToTop(value);\n  }\n\n  return (\n    <ReactPaginate\n      containerClassName={`pagination ${sectionClass}`}\n      pageClassName=\"pagination__element\"\n      pageLinkClassName=\"pagination__element-link\"\n      activeLinkClassName=\"pagination__element-link_type_active\"\n      previousClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_previous\"\n      breakClassName=\"pagination__element\"\n      nextClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_next\"\n      disabledClassName=\"pagination__arrow-element_type_disabled\"\n      pageCount={pageCount}\n      pageRangeDisplayed={3}\n      marginPagesDisplayed={1}\n      forcePage={value}\n      onPageChange={({ selected }) => onChange(selected)}\n      initialPage={0}\n    />\n  );\n};\n\nPaginate.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func,\n  pageCount: PropTypes.number.isRequired,\n  sectionClass: PropTypes.string,\n  dontUseScrollUp: PropTypes.bool,\n};\n\nPaginate.defaultProps = {\n  onChange: () => {},\n  sectionClass: '',\n  dontUseScrollUp: false,\n};\n\nexport default Paginate;\n","import './PseudoButtonTag.scss';\nimport PropTypes from 'prop-types';\n\nfunction PseudoButtonTag({\n  name,\n  value,\n  title,\n  isActive,\n  onClick,\n  sectionClass,\n}) {\n  const id = `filter-button-${value}`;\n\n  const classNames = ['pseudo-button-label', sectionClass].join(' ').trim();\n\n  function handleClick(event) {\n    onClick(value, event.target.checked);\n  }\n\n  return (\n    <label className={classNames} htmlFor={id}>\n      <input\n        id={id}\n        className=\"pseudo-button-checkbox\"\n        type=\"checkbox\"\n        name={name}\n        value={value}\n        checked={isActive}\n        onChange={() => {}}\n        onClick={handleClick}\n      />\n      <span className=\"button pseudo-button\">{title}</span>\n    </label>\n  );\n}\n\nPseudoButtonTag.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string,\n  isActive: PropTypes.bool,\n  onClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nPseudoButtonTag.defaultProps = {\n  name: '',\n  value: '',\n  title: '',\n  isActive: false,\n  onClick: () => {},\n  sectionClass: '',\n};\n\nexport default PseudoButtonTag;\n","import './Rating.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rating({\n  type,\n  name,\n  value,\n  ratingType,\n  sectionClass,\n  checked,\n  onChange,\n}) {\n  const classNames = ['rating', sectionClass].join(' ').trim();\n\n  const pseudoButtonClassNames = [\n    'rating__pseudo-button',\n    `rating__pseudo-button_type_${ratingType}_default`,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <label className={classNames} htmlFor={`rating-${name}-${value}`}>\n      <input\n        id={`rating-${name}-${value}`}\n        className=\"rating__checkbox\"\n        type={type}\n        name={name}\n        value={value}\n        defaultChecked={checked}\n        onChange={onChange}\n      />\n      <span className={pseudoButtonClassNames} />\n    </label>\n  );\n}\n\nRating.propTypes = {\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  ratingType: PropTypes.string,\n  sectionClass: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n};\n\nRating.defaultProps = {\n  name: '',\n  value: 'neutral',\n  ratingType: 'neutral',\n  sectionClass: '',\n  checked: false,\n  onChange: () => {},\n};\n\nexport default Rating;\n","import './Rubric.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rubric({ title, sectionClass }) {\n  return <span className={`rubric ${sectionClass}`}>{title}</span>;\n}\n\nRubric.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nRubric.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Rubric;\n","const texts = {\n  ariaLabelPrevButton: 'Предыдущие',\n  ariaLabelNextButton: 'Следующие',\n};\n\nexport default texts;\n","import './ScrollableContainer.scss';\nimport PropTypes from 'prop-types';\nimport { useCallback, useLayoutEffect, useRef, useState } from 'react';\nimport texts from './locales/RU';\nimport { useInfiniteScroll } from '../../../hooks';\n\nconst DELAY_NO_POINTER_EVENTS = 150;\nconst DEFAULT_DELTA_Y = 100;\n\nfunction ScrollableContainer({\n  reference,\n  children,\n  step,\n  sectionClass,\n  onScrollCallback,\n  useButtons,\n  disableMouseDrag,\n  prevButtonClass,\n  nextButtonClass,\n}) {\n  const parentRef = reference ?? useRef(null);\n  const firstChildRef = useRef(null);\n  const lastChildRef = useRef(null);\n\n  const [isPrevButtonDisabled, setIsPrevButtonDisabled] = useState(true);\n  const [isNextButtonDisabled, setIsNextButtonDisabled] = useState(false);\n\n  const disablePrevButton = () => {\n    setIsPrevButtonDisabled(true);\n  };\n\n  const enablePrevButton = () => {\n    setIsPrevButtonDisabled(false);\n  };\n\n  const disableNextButton = () => {\n    setIsNextButtonDisabled(true);\n  };\n\n  const enableNextButton = () => {\n    setIsNextButtonDisabled(false);\n  };\n\n  // колбэк при достижении правой границы скролла (для подгрузки данных, например)\n  if (onScrollCallback) {\n    useInfiniteScroll(parentRef, lastChildRef, onScrollCallback);\n  }\n\n  // скрытие стрелки Prev\n  if (useButtons) {\n    useInfiniteScroll(\n      parentRef,\n      firstChildRef,\n      disablePrevButton,\n      enablePrevButton\n    );\n  }\n\n  // скрытие стрелки Next\n  if (useButtons) {\n    useInfiniteScroll(\n      parentRef,\n      lastChildRef,\n      disableNextButton,\n      enableNextButton\n    );\n  }\n\n  const [state, setState] = useState({\n    isScrolling: false,\n    clientX: 0,\n    scrollX: 0,\n  });\n\n  const scrollHandler = (deltaY) => {\n    parentRef.current.scrollTo({\n      left: parentRef.current.scrollLeft + deltaY * step,\n      behavior: 'smooth',\n    });\n  };\n\n  const scrollByWheel = useCallback(\n    (evt) => {\n      if (parentRef && parentRef.current) {\n        evt.preventDefault();\n        scrollHandler(evt.deltaY);\n      }\n    },\n    [parentRef.current]\n  );\n\n  const scrollByButtons = (type) => {\n    const deltaY = type === 'prev' ? -DEFAULT_DELTA_Y : DEFAULT_DELTA_Y;\n    scrollHandler(deltaY);\n  };\n\n  // eslint-disable-next-line consistent-return\n  useLayoutEffect(() => {\n    if (parentRef && parentRef.current) {\n      parentRef.current.addEventListener('wheel', scrollByWheel);\n      return () =>\n        parentRef.current.removeEventListener('wheel', scrollByWheel);\n    }\n  }, [parentRef.current]);\n\n  const onMouseDown = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    evt.preventDefault();\n    setTimeout(() => {\n      setState({\n        ...state,\n        isScrolling: true,\n        clientX: evt.clientX,\n      });\n    }, DELAY_NO_POINTER_EVENTS);\n  };\n\n  const onMouseUp = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    evt.preventDefault();\n    setState({\n      ...state,\n      isScrolling: false,\n    });\n  };\n\n  const onMouseMove = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    const { clientX, scrollX, isScrolling } = state;\n    if (isScrolling) {\n      parentRef.current.scrollLeft = scrollX - evt.clientX + clientX;\n      setState({\n        ...state,\n        scrollX: scrollX - evt.clientX + clientX,\n        clientX: evt.clientX,\n      });\n    }\n  };\n\n  const onMouseLeave = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    evt.preventDefault();\n    setState({\n      ...state,\n      isScrolling: false,\n    });\n  };\n\n  const classNames = [\n    'scrollable-container',\n    state.isScrolling && !disableMouseDrag\n      ? 'scrollable-container_scrolling'\n      : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <>\n      {useButtons && renderButtons()}\n\n      {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\n      <div\n        className={classNames}\n        onMouseDown={disableMouseDrag ? undefined : onMouseDown}\n        onMouseMove={disableMouseDrag ? undefined : onMouseMove}\n        onMouseUp={disableMouseDrag ? undefined : onMouseUp}\n        onMouseLeave={disableMouseDrag ? undefined : onMouseLeave}\n        ref={parentRef}\n      >\n        <div\n          className=\"scrollable-container__callback-anchor\"\n          ref={firstChildRef}\n          aria-hidden\n        >\n          .\n        </div>\n        {children}\n        <div\n          className=\"scrollable-container__callback-anchor\"\n          ref={lastChildRef}\n          aria-hidden\n        >\n          .\n        </div>\n      </div>\n    </>\n  );\n\n  function renderButtons() {\n    return (\n      <>\n        <button\n          className={`scrollable-container__button scrollable-container__button_prev ${prevButtonClass}`}\n          type=\"button\"\n          aria-label={texts.ariaLabelPrevButton}\n          onClick={() => scrollByButtons('prev')}\n          disabled={isPrevButtonDisabled}\n        />\n        <button\n          className={`scrollable-container__button scrollable-container__button_next ${nextButtonClass}`}\n          type=\"button\"\n          aria-label={texts.ariaLabelNextButton}\n          onClick={() => scrollByButtons('next')}\n          disabled={isNextButtonDisabled}\n        />\n      </>\n    );\n  }\n}\n\nScrollableContainer.propTypes = {\n  reference: PropTypes.node,\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n  step: PropTypes.number,\n  onScrollCallback: PropTypes.func,\n  useButtons: PropTypes.bool,\n  prevButtonClass: PropTypes.string,\n  nextButtonClass: PropTypes.string,\n  disableMouseDrag: PropTypes.bool,\n};\n\nScrollableContainer.defaultProps = {\n  reference: null,\n  sectionClass: '',\n  children: null,\n  step: 1,\n  onScrollCallback: undefined,\n  useButtons: false,\n  prevButtonClass: '',\n  nextButtonClass: '',\n  disableMouseDrag: false,\n};\n\nexport default ScrollableContainer;\n","const texts = {\n  ariaLabelText: 'Поиск',\n};\n\nexport default texts;\n","import './SearchButton.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction SearchButton({ handleClickButton }) {\n  return (\n    <button\n      className=\"search-button search__button\"\n      type=\"button\"\n      aria-label={texts.ariaLabelText}\n      title={texts.ariaLabelText}\n      onClick={handleClickButton}\n    >\n      <svg\n        width=\"22\"\n        height=\"22\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle cx=\"9\" cy=\"9.364\" r=\"8\" stroke=\"#000\" />\n        <path\n          d=\"m14.999 15.364 5.333 5.333\"\n          stroke=\"#000\"\n          strokeLinecap=\"square\"\n        />\n      </svg>\n    </button>\n  );\n}\n\nSearchButton.propTypes = {\n  handleClickButton: PropTypes.func,\n};\n\nSearchButton.defaultProps = {\n  handleClickButton: () => {},\n};\n\nexport default SearchButton;\n","import './TitleH1.scss';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nfunction TitleH1({ title, sectionClass, isLinkable, href }) {\n  if (isLinkable) {\n    return (\n      <Link to={href} className={`linkable ${sectionClass}`}>\n        <h1 className=\"main-title\">{title}</h1>\n      </Link>\n    );\n  }\n\n  return <h1 className={`main-title ${sectionClass}`}>{title}</h1>;\n}\n\nTitleH1.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isLinkable: PropTypes.bool,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nTitleH1.defaultProps = {\n  title: '',\n  sectionClass: '',\n  isLinkable: false,\n  href: '/',\n};\n\nexport default TitleH1;\n","import PropTypes from 'prop-types';\n\nfunction TitleH2({ title, sectionClass }) {\n  return <h2 className={`section-title ${sectionClass}`}>{title}</h2>;\n}\n\nTitleH2.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH2.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH2;\n","import PropTypes from 'prop-types';\n\nfunction TitleH3({ title, sectionClass }) {\n  return <h3 className={`chapter-title ${sectionClass}`}>{title}</h3>;\n}\n\nTitleH3.propTypes = {\n  title: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nTitleH3.defaultProps = {\n  sectionClass: '',\n};\n\nexport default TitleH3;\n","import './UserIconButton.scss';\nimport PropTypes from 'prop-types';\nimport { PROFILE_TITLE } from '../../../config/routes';\n\nconst authorizedColor = '#224CFF';\nconst unauthorizedColor = '#000';\n\nfunction UserIconButton({ sectionClass, isAuthorized, handleClick }) {\n  const classNames = ['user-button', sectionClass].join(' ').trim();\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      aria-label={PROFILE_TITLE}\n      title={PROFILE_TITLE}\n      onClick={handleClick}\n    >\n      <svg\n        width=\"20\"\n        height=\"21\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M14.5 5.364c0 2.486-2.014 4.5-4.5 4.5a4.499 4.499 0 0 1-4.5-4.5c0-2.487 2.014-4.5 4.5-4.5s4.5 2.013 4.5 4.5zm-14 12.5c0-.648.32-1.252.932-1.817.616-.568 1.491-1.061 2.502-1.466 2.023-.81 4.46-1.217 6.066-1.217 1.606 0 4.043.407 6.066 1.217 1.01.405 1.887.898 2.502 1.466.612.565.932 1.169.932 1.817v2H.5v-2z\"\n          stroke={`${isAuthorized ? authorizedColor : unauthorizedColor}`}\n          fill={`${isAuthorized ? authorizedColor : 'none'}`}\n        />\n      </svg>\n    </button>\n  );\n}\n\nUserIconButton.propTypes = {\n  sectionClass: PropTypes.string,\n  isAuthorized: PropTypes.bool,\n  handleClick: PropTypes.func,\n};\n\nUserIconButton.defaultProps = {\n  sectionClass: '',\n  isAuthorized: false,\n  handleClick: () => {},\n};\n\nexport default UserIconButton;\n","import './UserMenuButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction UserMenuButton({ title, handleClick, sectionClass }) {\n  const classNames = ['user-menu-button', sectionClass].join(' ').trim();\n\n  return (\n    <button className={classNames} type=\"button\" onClick={handleClick}>\n      {title}\n    </button>\n  );\n}\n\nUserMenuButton.propTypes = {\n  title: PropTypes.string,\n  handleClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nUserMenuButton.defaultProps = {\n  title: '',\n  handleClick: () => {},\n  sectionClass: '',\n};\n\nexport default UserMenuButton;\n","const texts = {\n  textStub: 'Ваш браузер случайно заблокировал наш виджет',\n};\n\nexport default texts;\n","import './Widget.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction Widget({ link, title }) {\n  return (\n    <div className=\"widget\">\n      <iframe\n        className=\"widget__iframe\"\n        title={title}\n        src={link}\n        allow=\"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share\"\n      />\n      <p className=\"widget__stub\">{texts.textStub}</p>\n    </div>\n  );\n}\n\nWidget.propTypes = {\n  link: PropTypes.string,\n  title: PropTypes.string,\n};\n\nWidget.defaultProps = {\n  link: '#',\n  title: '',\n};\n\nexport default Widget;\n","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './NextArticleLink.scss';\n\nfunction NextArticleLink({ text, href, sectionClass, onClick }) {\n  const classNames = ['next-article-link', sectionClass].join(' ').trim();\n\n  return (\n    <Link className={classNames} to={href} onClick={onClick}>\n      <span className=\"next-article-link__text\">{text}</span>\n      <svg\n        className=\"next-article-link__arrow\"\n        width=\"30\"\n        height=\"30\"\n        viewBox=\"0 0 30 30\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M16.5916 0L30 14.3793L15.5318 30H13.4987L23.3441 19.3448C25.5145 17.1724 24.9357 15.3103 22.1865 15.1552H0V13.6034H22.0418C24.791 13.4483 25.3698 11.8966 23.6334 9.72414L14.5659 0H16.5916Z\"\n          fill=\"#224CFF\"\n        />\n      </svg>\n    </Link>\n  );\n}\n\nNextArticleLink.propTypes = {\n  text: PropTypes.string,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  sectionClass: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nNextArticleLink.defaultProps = {\n  text: 'Link',\n  href: '/',\n  sectionClass: '',\n  onClick: () => {},\n};\n\nexport default NextArticleLink;\n","import './IconEye.scss';\nimport PropTypes from 'prop-types';\n\nfunction IconEye({ isClosed, sectionClass }) {\n  const classNames = ['icon-eye', sectionClass].join(' ').trim();\n\n  if (isClosed) {\n    return (\n      <svg\n        className={classNames}\n        viewBox=\"0 0 105 40\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M54.2855 25C23.1208 25 6 5 0.519531 0.530273C7.26436 12.4919 27.4244 34.6788 54.2855 34.6788C79 34.6788 98.9941 11.3343 104.583 0.530273C98 6 82.2225 25 54.2855 25Z\"\n          fill=\"white\"\n        />\n        <line\n          x1=\"15.0607\"\n          y1=\"17.0607\"\n          x2=\"9.06066\"\n          y2=\"23.0607\"\n          stroke=\"white\"\n          strokeWidth=\"3\"\n        />\n        <line\n          x1=\"38.1287\"\n          y1=\"31.4784\"\n          x2=\"35.4224\"\n          y2=\"39.5205\"\n          stroke=\"white\"\n          strokeWidth=\"3\"\n        />\n        <line\n          x1=\"69.3376\"\n          y1=\"31.3212\"\n          x2=\"73.1777\"\n          y2=\"38.8878\"\n          stroke=\"white\"\n          strokeWidth=\"3\"\n        />\n        <line\n          x1=\"92.0513\"\n          y1=\"15.9301\"\n          x2=\"98.1036\"\n          y2=\"21.8773\"\n          stroke=\"white\"\n          strokeWidth=\"3\"\n        />\n      </svg>\n    );\n  }\n\n  return (\n    <svg\n      className={classNames}\n      viewBox=\"0 0 105 69\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M0.519531 34.5301C6.68624 22.5684 26.0728 -1.00756 54.2855 0.381535C82.4982 1.77063 99.5722 23.726 104.583 34.5301C98.9941 45.3341 81.1106 67.2895 54.2855 68.6786C27.4603 70.0677 7.26436 46.4917 0.519531 34.5301ZM52.5548 58.8389C65.9651 58.8389 76.8362 47.9554 76.8362 34.5298C76.8362 21.1043 65.9651 10.2207 52.5548 10.2207C39.1446 10.2207 28.2734 21.1043 28.2734 34.5298C28.2734 47.9554 39.1446 58.8389 52.5548 58.8389Z\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n}\n\nIconEye.propTypes = {\n  isClosed: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nIconEye.defaultProps = {\n  isClosed: false,\n  sectionClass: '',\n};\n\nexport default IconEye;\n","export const MAIN_PAGE_URL = '/';\nexport const AFISHA_URL = '/afisha';\nexport const ABOUT_US_URL = '/about-us';\nexport const QUESTIONS_URL = '/questions';\nexport const PROFILE_URL = '/profile';\nexport const PLACES_URL = '/places';\nexport const RIGHTS_URL = '/rights';\nexport const RIGHTS_ARTICLE_URL = '/rights/:articleId';\nexport const READ_AND_WATCH_URL = '/read-and-watch';\nexport const CATALOG_URL = '/catalog';\nexport const CATALOG_ITEM_URL = '/catalog/:articleId';\nexport const VIDEO_URL = '/video';\nexport const ARTICLES_URL = '/articles';\nexport const MOVIES_URL = '/movies';\nexport const BOOKS_URL = '/books';\nexport const STORIES_URL = '/stories';\nexport const NOT_FOUND_URL = '/*';\n\nexport const PLACES_ID_PARAM = ':placeId';\nexport const ARTICLES_ID_PARAM = ':articleId';\nexport const BOOKS_ID_PARAM = ':bookId';\nexport const STORIES_ID_PARAM = ':storyId';\n\nexport const MAIN_PAGE_TITLE = 'наставники.про';\nexport const AFISHA_TITLE = 'Календарь';\nexport const ABOUT_US_TITLE = 'О проекте';\nexport const QUESTIONS_TITLE = 'Вопросы';\nexport const PROFILE_TITLE = 'Личный кабинет';\nexport const PLACES_TITLE = 'Куда пойти';\nexport const RIGHTS_TITLE = 'Права детей';\nexport const READ_AND_WATCH_TITLE = 'Читать и смотреть';\nexport const CATALOG_TITLE = 'Справочник';\nexport const VIDEO_TITLE = 'Видео';\nexport const ARTICLES_TITLE = 'Статьи';\nexport const MOVIES_TITLE = 'Фильмы';\nexport const BOOKS_TITLE = 'Книги';\nexport const STORIES_TITLE = 'Истории';\nexport const NOT_FOUND_TITLE = 'Страницы не существует';\n","export const baseURL = 'http://195.24.66.127';\nexport const apiUrl = '/api/v1';\nexport const adminUrl = 'http://195.24.66.127';\nexport const staticImageUrl = `${adminUrl}/media`;\n","import { createContext } from 'react';\n\nconst CurrentUserContext = createContext();\nexport default CurrentUserContext;\n","import { createContext } from 'react';\n\nconst CitiesContext = createContext();\nexport default CitiesContext;\n","import { createContext } from 'react';\n\nconst PopupsContext = createContext();\nexport default PopupsContext;\n","import { createContext } from 'react';\n\nconst ErrorsContext = createContext();\nexport default ErrorsContext;\n","import { useCallback, useEffect } from 'react';\n\n// вспомогательные функции\nexport const setLocalStorageData = (key, value) =>\n  localStorage.setItem(key, JSON.stringify(value));\n\nexport const removeLocalStorageData = (key) => localStorage.removeItem(key);\n\nexport const clearLocalStorage = () => localStorage.clear();\n\nexport const getLocalStorageData = (key) =>\n  JSON.parse(localStorage.getItem(key));\n\nexport const dispatchLocalStorageEvent = (key, value) => {\n  const event = new Event('changeLocalStorage');\n  setLocalStorageData(key, value);\n  window.dispatchEvent(event);\n};\n\n// хук слушает изменение определённого ключа в localStorage и возвращает его значение при любом изменении\n// работает в связке с dispatchLocalStorageEvent\nexport const useLocalStorage = (key) => {\n  const getLocalStorageItem = useCallback(\n    () => getLocalStorageData(key),\n    [key]\n  );\n\n  useEffect(() => {\n    window.addEventListener('changeLocalStorage', getLocalStorageItem);\n    return () =>\n      window.removeEventListener('changeLocalStorage', getLocalStorageItem);\n  }, []);\n\n  return getLocalStorageItem;\n};\n","import { months, weekdays } from '../config/constants';\n\n// форматирует секунды в часы, минуты и секунды, принимает на вход number\nexport const formatDuration = (duration) => {\n  const hours = Math.floor(duration / (60 * 60));\n  const minutes = Math.floor((duration / 60) % 60);\n  const seconds = duration % 60;\n  const format = (value) => (value < 10 ? `0${value}` : `${value}`);\n\n  return {\n    hours: format(hours),\n    minutes: format(minutes),\n    seconds: format(seconds),\n  };\n};\n\n// форматирует дату в объект по разным ключам, принимает на вход string вида \"2021-05-08T21:22:00Z\"\nexport const formatDate = (date) => {\n  const parsedDate = new Date(date);\n  let day = parsedDate.getDate();\n  let month = parsedDate.getMonth() + 1;\n  const weekdayName = weekdays[parsedDate.getDay()];\n  const monthName = months[parsedDate.getMonth()];\n  const hour = String(parsedDate.getHours());\n  const year = String(parsedDate.getFullYear());\n  let minutes = parsedDate.getMinutes();\n\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n\n  if (day < 10) {\n    day = `0${day}`;\n  }\n\n  if (month < 10) {\n    month = `0${month}`;\n  }\n\n  return {\n    year,\n    day,\n    month,\n    weekdayName,\n    monthName,\n    hour,\n    minutes,\n  };\n};\n\n// форматирует дату типа \"2021-05-08T21:22:00Z\" в 'YYYY/MM/DD'\nexport const parseDate = (dateString) => {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  let month = date.getMonth() + 1;\n  let day = date.getDate();\n  if (day < 10) {\n    day = `0${day}`;\n  }\n  if (month < 10) {\n    month = `0${month}`;\n  }\n  return `${year}-${month}-${day}`;\n};\n\n// падеж слова \"место\" в зависимости от числа мест\n// принимает на вход количество оставшихся мест из чего формирует падеж слова\n// нужно в карточках, попапах\nexport const formatWordCase = (remainSeats) => {\n  // промежуток 11 - 14\n  const lastTwoDigits = remainSeats % 100;\n  if (lastTwoDigits > 10 && lastTwoDigits < 15) {\n    return 'мест';\n  }\n  // если кончается на 1 - окончание О\n  // если кончается на 2 3 4 - окончание A\n  // если кончается на другое - окончания нет\n  const lastDigit = remainSeats % 10;\n\n  if (lastDigit === 1) {\n    return 'место';\n  }\n  if (lastDigit === 2 || lastDigit === 3 || lastDigit === 4) {\n    return 'местa';\n  }\n  return 'мест';\n};\n\n// меняет в слове первую букву на заглавную\nexport const changeCaseOfFirstLetter = (str) => {\n  if (!str) return str;\n\n  return str[0].toUpperCase() + str.slice(1);\n};\n\n// управление падежами месяцев\nexport const formatMonthsGenitiveCase = (month) => {\n  if (month) {\n    if (month === 'март' || month === 'август') return `${month}а`;\n    return `${month.slice(0, -1)}я`;\n  }\n  return month;\n};\n\nexport const randomizeArray = (arr, size) => {\n  if (arr && size < arr.length) {\n    const array = arr.slice();\n    return [...Array(size)].map(\n      () => array.splice(Math.floor(Math.random() * array.length), 1)[0]\n    );\n  }\n  return arr;\n};\n\nexport const formatPhoneNumber = (phoneNum) => {\n  if (phoneNum?.length === 12) {\n    const str1 = phoneNum.slice(0, 2);\n    const str2 = phoneNum.slice(2, 5);\n    const str3 = phoneNum.slice(5, 8);\n    const str4 = phoneNum.slice(8, 10);\n    const str5 = phoneNum.slice(10, 12);\n    return `${str1} ${str2} ${str3}-${str4}-${str5}`;\n  }\n  return phoneNum;\n};\n","import { useCallback, useEffect, useRef } from 'react';\n\n// отслеживает, что клик произошёл вне контейнера-рефа и запускает колбэк\nconst useClickOutside = (callback) => {\n  const ref = useRef(null);\n\n  const clickListener = useCallback(\n    (evt) => {\n      if (ref && ref.current) {\n        if (!ref.current.contains(evt.target)) {\n          callback();\n        }\n      }\n    },\n    [ref.current]\n  );\n\n  useEffect(() => {\n    document.addEventListener('mousedown', clickListener);\n    return () => document.removeEventListener('mousedown', clickListener);\n  }, []);\n\n  return ref;\n};\n\nexport default useClickOutside;\n","import { useEffect } from 'react';\n\n// прокрутка к верху страницы\nconst useScrollToTop = (...deps) => {\n  useEffect(() => {\n    window.scrollTo({ top: 0 });\n  }, [...deps]);\n};\n\nexport default useScrollToTop;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nclass AuthApi {\n  // установить заголовки авторизации\n  static setAuth(accessToken) {\n    axios.defaults.headers.common.Authorization = `Bearer ${accessToken}`;\n  }\n\n  // очистить заголовки авторизации\n  static clearAuth() {\n    axios.defaults.headers.common.Authorization = '';\n  }\n\n  // функция авторизации\n  static authorize(loginData) {\n    return axios\n      .post(`${baseURL}${apiUrl}/token/`, loginData)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(err?.response));\n  }\n\n  // функция рефреша токена\n  static refreshToken(refreshToken) {\n    return axios\n      .post(`${baseURL}${apiUrl}/token/refresh/`, refreshToken)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(err?.response));\n  }\n}\n\nexport default AuthApi;\n","import { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { ErrorsContext, PopupsContext } from '../contexts/index';\nimport AuthApi from '../api/auth';\nimport { getUserData } from '../api/user';\nimport { MAIN_PAGE_URL } from '../config/routes';\nimport {\n  clearLocalStorage,\n  getLocalStorageData,\n  removeLocalStorageData,\n  setLocalStorageData,\n} from './useLocalStorage';\nimport {\n  ERROR_CODES,\n  ERROR_MESSAGES,\n  jwt,\n  jwtRefresh,\n} from '../config/constants';\n\nconst useAuth = (setCurrentUser) => {\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [isCheckingToken, setIsCheckingToken] = useState(true);\n  // для попапа логина\n  const [isWaitingResponse, setIsWaitingResponse] = useState(false);\n\n  // не деструктурируется, на момент чтения undefined\n  const popups = useContext(PopupsContext);\n  const errors = useContext(ErrorsContext);\n\n  const history = useHistory();\n\n  const handleError = (err) => {\n    if (err?.status === badRequest || err?.status === unauthorized)\n      errors.setError(err?.data);\n    else\n      errors.setError({\n        message: ERROR_MESSAGES.generalErrorMessage.title,\n      });\n  };\n\n  const handleLogout = () => {\n    AuthApi.clearAuth();\n    setCurrentUser(null);\n    clearLocalStorage();\n    history.push(MAIN_PAGE_URL);\n  };\n\n  const handleLogin = (loginData) => {\n    setIsWaitingResponse(true);\n    AuthApi.authorize(loginData)\n      .then((token) => {\n        const { access, refresh } = token;\n        if (refresh && access) {\n          AuthApi.setAuth(access);\n          setLocalStorageData(jwt, access);\n          setLocalStorageData(jwtRefresh, refresh);\n          getUserData()\n            .then((userData) => setCurrentUser(userData))\n            .then(() => popups.closePopupLogin())\n            .catch((err) => handleError(err))\n            .finally(() => setIsWaitingResponse(false));\n        } else {\n          throw new Error(ERROR_MESSAGES.generalErrorMessage.title);\n        }\n      })\n      .catch((err) => handleError(err)) // авторизация (работа с сервером) закончилась ошибкой\n      .finally(() => setIsWaitingResponse(false));\n  };\n\n  const handleTokenError = () => {\n    AuthApi.clearAuth();\n    removeLocalStorageData(jwt);\n    removeLocalStorageData(jwtRefresh);\n    setIsCheckingToken(false);\n    setCurrentUser(null);\n  };\n\n  const checkRefreshToken = (refresh) => {\n    AuthApi.refreshToken({ refresh })\n      .then(({ access }) => {\n        AuthApi.setAuth(access);\n        setLocalStorageData(jwt, access);\n        getUserData()\n          .then((userData) => setCurrentUser(userData))\n          .catch(() => handleTokenError())\n          .finally(() => setIsCheckingToken(false));\n      })\n      .catch(() => handleTokenError());\n  };\n\n  // происходит фоном\n  const checkToken = () => {\n    const token = getLocalStorageData(jwt);\n    const refreshToken = getLocalStorageData(jwtRefresh);\n    if (token) {\n      AuthApi.setAuth(token);\n      getUserData()\n        .then((userData) => {\n          setCurrentUser(userData);\n          setIsCheckingToken(false);\n        })\n        .catch((err) => {\n          // токен просрочен\n          AuthApi.clearAuth();\n          if (err?.status === unauthorized && refreshToken) {\n            checkRefreshToken(refreshToken);\n          } else {\n            handleTokenError();\n          }\n        });\n    } else if (refreshToken) {\n      checkRefreshToken(refreshToken);\n    } else {\n      handleTokenError();\n    }\n  };\n\n  return {\n    isCheckingToken,\n    isWaitingResponse,\n    handleLogout,\n    handleLogin,\n    checkToken,\n  };\n};\n\nexport default useAuth;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить города\nfunction getCities() {\n  return axios\n    .get(`${baseURL}${apiUrl}/cities/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport default getCities;\n","import { useCallback } from 'react';\n\nlet timer;\nconst useDebounce = (callback, delay) =>\n  useCallback(\n    (...args) => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(() => {\n        callback(...args);\n      }, delay);\n    },\n    [callback, delay]\n  );\n\nexport default useDebounce;\n","import { useEffect, useState } from 'react';\nimport getCities from '../api/cities';\nimport { DEFAULT_CITY } from '../config/constants';\n\nconst useCities = () => {\n  const [cities, setCities] = useState(null);\n  const [defaultCity, setDefaultCity] = useState({});\n\n  useEffect(() => {\n    getCities()\n      .then((citiesData) => {\n        setCities(citiesData);\n        const mainCity = citiesData.find((city) => city?.name === DEFAULT_CITY);\n        setDefaultCity(mainCity);\n      })\n      .catch(console.error);\n  }, []);\n\n  return { cities, defaultCity };\n};\n\nexport default useCities;\n","import { useContext, useEffect, useState } from 'react';\nimport { getActivityTypes } from '../api/places-page';\nimport { ErrorsContext, PopupsContext } from '../contexts/index';\nimport { ERROR_MESSAGES } from '../config/constants';\n\nconst useActivityTypes = () => {\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  // не деструктурируется, на момент чтения undefined\n  const popups = useContext(PopupsContext);\n  const errors = useContext(ErrorsContext);\n\n  const [activityTypes, setActivityTypes] = useState(null);\n  // для карточек Куда пойти\n  const activityTypesSimplified = activityTypes?.reduce(\n    (obj, { id, name }) => ({\n      ...obj,\n      [id]: name,\n    }),\n    {}\n  );\n\n  useEffect(() => {\n    getActivityTypes()\n      .then(setActivityTypes)\n      .catch(() => {\n        errors.setError(generalErrorMessage);\n        popups.openPopupError();\n      });\n  }, []);\n\n  return { activityTypes, activityTypesSimplified };\n};\n\nexport default useActivityTypes;\n","import { useContext, useEffect, useState } from 'react';\nimport {\n  cancelEventRegistration,\n  makeEventRegistration,\n} from '../api/event-participants';\nimport { ErrorsContext, PopupsContext } from '../contexts';\nimport { getLocalStorageData } from './useLocalStorage';\nimport { ERROR_MESSAGES, localStAfishaEvent } from '../config/constants';\n\n// хук отслеживает события записи и отписки от ивента\nconst useEventBooking = () => {\n  const {\n    openPopupSuccessfully,\n    openPopupConfirmation,\n    closeAllPopups,\n    openPopupError,\n  } = useContext(PopupsContext);\n\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [isWaitingResponse, setIsWaitingResponse] = useState(false);\n  const { setError } = useContext(ErrorsContext);\n\n  // события отписки и регистрации на мероприятие\n  const setRegisterEvent = () => {\n    const register = new Event('registerEvent');\n    window.dispatchEvent(register);\n  };\n\n  const setCancelRegisterEvent = () => {\n    const cancel = new Event('cancelRegisterEvent');\n    window.dispatchEvent(cancel);\n  };\n\n  // объект кладётся в localStorage при клике на карточку на странице\n  // обработчики событий берут объект произошедшего события из localStorage и меняют им свойство booked\n  // затем этот объект передается на страницу для отрисовки\n  const listenCancel = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = false;\n    setSelectedEvent(newEvent);\n  };\n\n  const listenRegister = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = true;\n    setSelectedEvent(newEvent);\n  };\n\n  useEffect(() => {\n    window.addEventListener('cancelRegisterEvent', listenCancel);\n    window.addEventListener('registerEvent', listenRegister);\n    return () => {\n      window.removeEventListener('cancelRegisterEvent', listenCancel);\n      window.removeEventListener('registerEvent', listenRegister);\n    };\n  }, []);\n\n  // функции-утилиты, запускающие события, их используют компоненты\n  const registerOnEvent = (card) => {\n    setIsWaitingResponse(true);\n    makeEventRegistration({ event: card.id })\n      .then(() => setRegisterEvent())\n      .then(() => closeAllPopups())\n      .then(() => openPopupSuccessfully())\n      .catch(() => {\n        setError(ERROR_MESSAGES.eventAddErrorMessage);\n        openPopupError();\n      })\n      .finally(() => setIsWaitingResponse(false));\n  };\n\n  const cancelRegistration = (card) => {\n    setIsWaitingResponse(true);\n    cancelEventRegistration(card.id)\n      .then(() => setCancelRegisterEvent())\n      .then(() => closeAllPopups())\n      .catch(() => {\n        setError(ERROR_MESSAGES.eventCancelErrorMessage);\n        openPopupError();\n      })\n      .finally(() => setIsWaitingResponse(false));\n  };\n\n  const handleEventBooking = (card, noConfirm) => {\n    if (card.booked) {\n      // мы записаны на ивент, надо отписаться\n      cancelRegistration(card);\n    } else if (noConfirm) {\n      registerOnEvent(card);\n    } else {\n      // мы НЕ записаны на ивент\n      closeAllPopups(); // закрываем попап подробно\n      openPopupConfirmation(); // открываем попап \"подтвердите\"\n    }\n  };\n\n  return {\n    handleEventBooking,\n    registerOnEvent,\n    selectedEvent,\n    isWaitingResponse,\n  };\n};\n\nexport default useEventBooking;\n","import { useCallback, useState } from 'react';\n\nconst useFormWithValidation = () => {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const handleChange = (evt) => {\n    const { target } = evt;\n    const { name, value } = target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const handleChangeFiles = (evt, pattern) => {\n    const file = evt.target.files[0];\n    const { name } = evt.target;\n\n    if (!file) {\n      return;\n    }\n\n    if (file && pattern.test(file.name)) {\n      setValues({ ...values, [name]: file });\n      setErrors({ ...errors, [name]: '' });\n    } else {\n      setErrors({ ...errors, [name]: 'Некорректный формат файла' });\n    }\n    setIsValid(evt.target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return {\n    values,\n    handleChange,\n    handleChangeFiles,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n  };\n};\n\nexport default useFormWithValidation;\n","import { useLayoutEffect, useRef } from 'react';\n\n// хук используется для подгрузки данных и других манипуляций при появлении childRef в parentRef\nconst useInfiniteScroll = (\n  parentRef,\n  childRef,\n  callbackOnIntersect,\n  callbackOnHide\n) => {\n  const observer = useRef();\n\n  // eslint-disable-next-line consistent-return\n  useLayoutEffect(() => {\n    if (parentRef && parentRef.current && childRef && childRef.current) {\n      const options = {\n        root: parentRef.current,\n        rootMargin: '0px',\n        threshold: 0,\n      };\n\n      observer.current = new IntersectionObserver(([target]) => {\n        if (target.isIntersecting) {\n          callbackOnIntersect();\n        } else if (callbackOnHide) {\n          callbackOnHide();\n        }\n      }, options);\n\n      observer.current.observe(childRef.current);\n\n      return () => {\n        observer.current.unobserve(childRef.current);\n      };\n    }\n  }, [callbackOnIntersect, callbackOnHide, parentRef, childRef]);\n};\n\nexport default useInfiniteScroll;\n","import { useEffect } from 'react';\n\nconst useCloseOnEscape = (isOpen, callback) => {\n  const closeOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      callback();\n    }\n  };\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (isOpen) {\n      window.addEventListener('keyup', closeOnEsc);\n      return () => window.removeEventListener('keyup', closeOnEsc);\n    }\n  }, [isOpen]);\n};\n\nexport default useCloseOnEscape;\n","import { useContext, useEffect, useState } from 'react';\nimport { ErrorsContext, PopupsContext } from '../contexts';\nimport {\n  ALL_CATEGORIES_TAG,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n  months,\n} from '../config/constants';\nimport useDebounce from './useDebounce';\nimport { changeCaseOfFirstLetter } from '../utils/utils';\nimport {\n  deselectOneTag,\n  handleCheckboxBehavior,\n  selectOneTag,\n} from '../utils/filter-tags';\n\n// обычный хук фильтрации/пагинации для большинства страниц проекта\n\nconst useFiltrationAndPagination = ({\n  apiGetDataCallback,\n  apiGetFiltersCallback,\n  apiFilterNames,\n  pageSize,\n  setIsPageError,\n  isCalendarPage, // особое формирование списка фильтров и своя первая загрузка\n  dontStartWhileTrue, // данные НЕ загружаются, если условие true, по умолчанию воспринимается как false\n}) => {\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n  // данные\n  const [dataToRender, setDataToRender] = useState([]);\n  const [filters, setFilters] = useState([]);\n  // лоадеры, флаги\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  const [isPaginationUsed, setIsPaginationUsed] = useState(false);\n  // по факту запускает всю цепочку скриптов\n  const [isPageLoading, setIsPageLoading] = useState(!dontStartWhileTrue);\n  // пагинация\n  const [totalPages, setTotalPages] = useState(0);\n  const [pageIndex, setPageIndex] = useState(0);\n  const isNoFilters = !apiGetFiltersCallback;\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getData, DELAY_DEBOUNCE);\n\n  // Первая отрисовка страницы\n  useEffect(() => {\n    if (isPageLoading && pageSize && !isCalendarPage && !dontStartWhileTrue) {\n      if (isNoFilters) firstPageRenderNoFilters();\n      else firstPageRender();\n    }\n  }, [pageSize, isPageLoading]);\n\n  // Переход по пагинации, страница уже загружена\n  useEffect(() => {\n    if (!isPageLoading && !isFiltersUsed && !dontStartWhileTrue) {\n      const activeFilters = getActiveFilters();\n\n      defineParamsAndGetData({\n        activeFilters,\n        apiCallback: debouncePaginate,\n        isFiltersCallback: false,\n      });\n    }\n  }, [pageSize, pageIndex]);\n\n  // Фильтры, страница уже загружена\n  useEffect(() => {\n    if (!isPageLoading && isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // слушатель разрешения запуска скриптов\n  useEffect(() => {\n    if (!dontStartWhileTrue) {\n      setIsPageLoading(true);\n    }\n  }, [dontStartWhileTrue]);\n\n  return {\n    dataToRender,\n    filters,\n    isPageLoading,\n    isFiltersUsed,\n    isPaginationUsed,\n    totalPages,\n    pageIndex,\n    changePageIndex,\n    changeFilter,\n    getActiveFilters,\n    firstPageRender, // для повторной загрузки всех данных (при смене города, например)\n  };\n\n  // ПАГИНАЦИЯ\n  function changePageIndex(value) {\n    if (value !== pageIndex) {\n      setPageIndex(value);\n      setIsPaginationUsed(true);\n    }\n  }\n\n  // ФИЛЬТРЫ\n  function getActiveFilters() {\n    return filters\n      .filter((f) => f.isActive && f.filter !== ALL_CATEGORIES_TAG)\n      .map((f) => f.filter)\n      .join(',');\n  }\n\n  function setFiltersAndResetPagination() {\n    // сбрасываем пагинацию\n    setPageIndex(0);\n    // ставим флажок фильтров\n    setIsFiltersUsed(true);\n  }\n\n  // хэндлер клика по фильтру\n  function changeFilter(inputValue, isChecked) {\n    if (inputValue === ALL_CATEGORIES_TAG) {\n      // кнопка \"Все\", если она уже нажата, то ничего не делаем\n      const isAllAlreadyActive = filters.some(\n        (f) => f.isActive && f.filter === ALL_CATEGORIES_TAG\n      );\n      if (!isAllAlreadyActive) {\n        selectOneTag(setFilters, ALL_CATEGORIES_TAG);\n        setFiltersAndResetPagination();\n      }\n    } else {\n      handleCheckboxBehavior(setFilters, { inputValue, isChecked });\n      deselectOneTag(setFilters, ALL_CATEGORIES_TAG);\n      setFiltersAndResetPagination();\n    }\n  }\n\n  // функция-фильтратор\n  // eslint-disable-next-line consistent-return\n  function handleFiltration() {\n    if (filters.length && isFiltersUsed) {\n      const activeFilters = getActiveFilters();\n\n      defineParamsAndGetData({\n        activeFilters,\n        apiCallback: getData,\n        isFiltersCallback: true,\n      });\n    }\n  }\n\n  function defineFilters(tags) {\n    let filtersArray;\n    if (isCalendarPage) {\n      filtersArray = tags.map((tag) => {\n        const filterName = changeCaseOfFirstLetter(months[tag - 1]); // бэк считает с 1, у нас массив с 0\n        return {\n          filter: tag,\n          name: filterName,\n          isActive: false,\n        };\n      });\n    } else {\n      filtersArray = tags.map((tag) => ({\n        filter: tag?.slug.toLowerCase(),\n        name: changeCaseOfFirstLetter(tag?.name),\n        isActive: false,\n      }));\n    }\n\n    return setFilters([\n      { filter: ALL_CATEGORIES_TAG, name: ALL_CATEGORIES_TAG, isActive: true },\n      ...filtersArray,\n    ]);\n  }\n\n  // РАБОТА С API\n  function getData({ params }) {\n    const offset = isFiltersUsed ? 0 : pageSize * pageIndex;\n\n    apiGetDataCallback({ limit: pageSize, offset, ...params })\n      .then(({ results, count }) => {\n        if (results.length > 0) {\n          setDataToRender(results);\n          setTotalPages(Math.ceil(count / pageSize));\n        } else if (results.length === 0 && count > 0) {\n          // если count > 0 при пустом массиве, значит мы забегаем вперед по офсету\n          // откатываемся на предыдущую страницу\n          // возможно при ресайзах экрана\n          setPageIndex(pageIndex - 1);\n        } else {\n          setDataToRender([]);\n        }\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError(ERROR_MESSAGES.filterErrorMessage);\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsPaginationUsed(false);\n        setIsFiltersUsed(false);\n      });\n  }\n\n  function firstPageRender() {\n    Promise.all([\n      apiGetFiltersCallback(),\n      apiGetDataCallback({ limit: pageSize }),\n    ])\n      .then(([tags, { results, count }]) => {\n        if (tags.length > 0) {\n          defineFilters(tags);\n        } else {\n          setFilters([]);\n        }\n\n        if (results.length > 0) {\n          setDataToRender(results);\n          setTotalPages(Math.ceil(count / pageSize));\n        } else {\n          setDataToRender([]);\n        }\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsPageLoading(false));\n  }\n\n  function firstPageRenderNoFilters() {\n    apiGetDataCallback({ limit: pageSize })\n      .then(({ results, count }) => {\n        if (results.length > 0) {\n          setDataToRender(results);\n          setTotalPages(Math.ceil(count / pageSize));\n        } else {\n          setDataToRender([]);\n        }\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsPageLoading(false));\n  }\n\n  function defineParamsAndGetData({\n    activeFilters,\n    apiCallback,\n    isFiltersCallback,\n  }) {\n    if (activeFilters) {\n      const params = {\n        [apiFilterNames.tags]: activeFilters,\n      };\n      apiCallback({ params });\n    } else {\n      if (isFiltersCallback) selectOneTag(setFilters, ALL_CATEGORIES_TAG);\n      apiCallback({});\n    }\n  }\n};\n\nexport default useFiltrationAndPagination;\n","import { useContext, useEffect, useState } from 'react';\nimport { CurrentUserContext, ErrorsContext, PopupsContext } from '../contexts';\nimport {\n  ALL_CATEGORIES_TAG,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n  RESOURCE_GROUP_TAG,\n} from '../config/constants';\nimport useDebounce from './useDebounce';\nimport { changeCaseOfFirstLetter } from '../utils/utils';\nimport {\n  deselectOneTag,\n  handleCheckboxBehavior,\n  selectOneTag,\n} from '../utils/filter-tags';\n\n// хук для фильтров/пагинации на страницах Video и Articles\n// в первой выдаче имеется главная карточка, поэтому запрос на 1 карточку больше\n// в дальнейшем её не учитываем при формировании страниц\n// если карточки не оказалось, то приходится подрезать первую выдачу на 1 карточку для сохранения сетки\n\nconst useFiltrationWithMainCard = ({\n  apiGetDataCallback,\n  apiGetFiltersCallback,\n  apiFilterNames,\n  pageSize,\n  setIsPageError,\n  isVideoPage,\n  dontStartWhileTrue, // данные НЕ загружаются, если условие true, по умолчанию воспринимается как false\n}) => {\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n  let user;\n  if (isVideoPage) {\n    user = useContext(CurrentUserContext);\n  }\n\n  // данные\n  const [dataToRender, setDataToRender] = useState([]);\n  const [filters, setFilters] = useState([]);\n\n  // главная карточка\n  const [mainCard, setMainCard] = useState({});\n  const [isMainCardShown, setIsMainCardShown] = useState(false);\n  const isMainCard = !!mainCard.pinnedFullSize;\n\n  // лоадеры, флаги\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  const [isPaginationUsed, setIsPaginationUsed] = useState(false);\n  const [isNoFilteredResults, setIsNoFilteredResults] = useState(false);\n  // по факту запускает всю цепочку скриптов\n  const [isPageLoading, setIsPageLoading] = useState(!dontStartWhileTrue);\n\n  // пагинация\n  const [totalPages, setTotalPages] = useState(0);\n  const [pageIndex, setPageIndex] = useState(0);\n  const isNoFilters = !apiGetFiltersCallback;\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getData, DELAY_DEBOUNCE);\n\n  // Первая отрисовка страницы\n  useEffect(() => {\n    if (isPageLoading && pageSize && !dontStartWhileTrue) {\n      if (isNoFilters) firstPageRenderNoFilters();\n      else firstPageRender();\n    }\n  }, [pageSize, isPageLoading]);\n\n  // Переход по пагинации, страница уже загружена\n  useEffect(() => {\n    if (!isPageLoading && !isFiltersUsed && !dontStartWhileTrue) {\n      const activeFilters = getActiveFilters();\n\n      defineParamsAndGetData({\n        activeFilters,\n        apiCallback: debouncePaginate,\n        isFiltersCallback: false,\n      });\n    }\n  }, [pageSize, pageIndex]);\n\n  // Фильтры, страница уже загружена\n  useEffect(() => {\n    if (!isPageLoading && isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // слушатель разрешения запуска скриптов\n  useEffect(() => {\n    if (!dontStartWhileTrue) {\n      setIsPageLoading(true);\n    }\n  }, [dontStartWhileTrue]);\n\n  // перезапуск в связи с авторизацией/выходом - меняется контент\n  useEffect(() => {\n    if (isVideoPage && !dontStartWhileTrue && !isPageLoading) {\n      setIsPageLoading(true);\n    }\n  }, [user]);\n\n  return {\n    dataToRender,\n    filters,\n    mainCard,\n    isMainCard,\n    isMainCardShown,\n    isPageLoading,\n    isFiltersUsed,\n    isPaginationUsed,\n    isNoFilteredResults,\n    totalPages,\n    pageIndex,\n    changePageIndex,\n    changeFilter,\n  };\n\n  // РАБОТА С ПАГИНАЦИЕЙ\n  function changePageIndex(value) {\n    if (value !== pageIndex) {\n      setPageIndex(value);\n      setIsPaginationUsed(true);\n      if (isMainCard && isMainCardShown) setIsMainCardShown(false);\n    }\n  }\n\n  // РАБОТА С ФИЛЬТРАМИ\n  function getActiveFilters() {\n    let activeFilters = filters.filter(\n      (f) => f.isActive && f.filter !== ALL_CATEGORIES_TAG\n    );\n\n    if (isVideoPage) {\n      const isResourceGroupSelected = activeFilters.some(\n        (tag) => tag.filter === RESOURCE_GROUP_TAG\n      );\n\n      if (!isResourceGroupSelected) {\n        activeFilters = activeFilters.map((f) => f.filter).join(',');\n      } else {\n        activeFilters = activeFilters\n          .filter((tag) => tag.filter !== RESOURCE_GROUP_TAG)\n          .map((f) => f.filter)\n          .join(',');\n      }\n\n      return { activeFilters, isResourceGroupSelected };\n    }\n\n    activeFilters = activeFilters.map((f) => f.filter).join(',');\n    return { activeFilters };\n  }\n\n  function setFiltersAndResetPagination() {\n    // сбрасываем пагинацию\n    setPageIndex(0);\n    // ставим флажок фильтров\n    setIsFiltersUsed(true);\n  }\n\n  // хэндлер клика по фильтру\n  function changeFilter(inputValue, isChecked) {\n    if (inputValue === ALL_CATEGORIES_TAG) {\n      // кнопка \"Все\", если она уже нажата, то ничего не делаем\n      const isAllAlreadyActive = filters.some(\n        (f) => f.isActive && f.filter === ALL_CATEGORIES_TAG\n      );\n      if (!isAllAlreadyActive) {\n        selectOneTag(setFilters, ALL_CATEGORIES_TAG);\n        if (isMainCard) setIsMainCardShown(true);\n        setFiltersAndResetPagination();\n      }\n    } else {\n      handleCheckboxBehavior(setFilters, { inputValue, isChecked });\n      deselectOneTag(setFilters, ALL_CATEGORIES_TAG);\n      if (isMainCard && isMainCardShown) setIsMainCardShown(false);\n      setFiltersAndResetPagination();\n    }\n  }\n\n  // функция-фильтратор\n  // eslint-disable-next-line consistent-return\n  function handleFiltration() {\n    if (filters.length && isFiltersUsed) {\n      const activeFilters = getActiveFilters();\n\n      defineParamsAndGetData({\n        activeFilters,\n        apiCallback: getData,\n        isFiltersCallback: true,\n      });\n    }\n  }\n\n  // РАБОТА С API\n  function getData({ isFiltersActive, params }) {\n    // isFiltersUsed учитывает кнопку ВСЕ\n    // isFiltersActive - только активные\n    const offset = isFiltersUsed ? 0 : pageSize * pageIndex;\n\n    // большая карточка всегда будет в первой выдаче\n    const fixedLimit =\n      pageIndex === 0 && isMainCard && !isFiltersActive\n        ? pageSize + 1 // кнопка ВСЕ и пагинация на 1 страницу, когда есть карточка\n        : pageSize;\n\n    const fixedOffset =\n      pageIndex > 0 && isMainCard && !isFiltersActive ? offset + 1 : offset;\n\n    apiGetDataCallback({\n      limit: fixedLimit,\n      offset: fixedOffset,\n      ...params,\n    })\n      .then(({ results, count }) => {\n        if (results.length === 0 && count === 0) {\n          // показывать нечего\n          setIsNoFilteredResults(true);\n          setDataToRender([]);\n        } else if (results.length === 0 && count > 0) {\n          // если count > 0 при пустом массиве, значит мы забегаем вперед по офсету\n          // откатываемся на предыдущую страницу\n          // возможно при ресайзах экрана\n          setPageIndex(pageIndex - 1);\n        } else {\n          if (isMainCard && !isFiltersActive) {\n            // при пагинации без фильтров на всех страницах\n            // если карточка есть, то исключаем её из учёта\n            setTotalPages(Math.ceil((count - 1) / pageSize));\n          } else {\n            setTotalPages(Math.ceil(count / pageSize));\n          }\n\n          if (pageIndex === 0 && isMainCard && !isFiltersActive) {\n            // вернулись на 1 страницу без фильтров и при карточке\n            setDataToRender(() =>\n              results.filter((item) => !item?.pinnedFullSize)\n            );\n            setIsMainCardShown(true);\n          } else {\n            setDataToRender(results);\n          }\n          if (isNoFilteredResults) setIsNoFilteredResults(false);\n        }\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError(ERROR_MESSAGES.filterErrorMessage);\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsPaginationUsed(false);\n        setIsFiltersUsed(false);\n      });\n  }\n\n  function firstPageRender() {\n    Promise.all([\n      apiGetFiltersCallback(),\n      apiGetDataCallback({ limit: pageSize + 1 }),\n    ])\n      .then(([tags, { results, count }]) => {\n        if (results.length > 0) {\n          handleMainCard({ results, count });\n        } else {\n          setDataToRender([]);\n        }\n\n        if (tags.length > 0) {\n          defineFilters(tags);\n        } else {\n          setFilters([]);\n        }\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsPageLoading(false));\n  }\n\n  function firstPageRenderNoFilters() {\n    apiGetDataCallback({ limit: pageSize + 1 })\n      .then(({ results, count }) => {\n        if (results.length > 0) {\n          handleMainCard({ results, count });\n        } else {\n          setDataToRender([]);\n        }\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsPageLoading(false));\n  }\n\n  // обработка пришедших с сервера фильтров\n  function defineFilters(tags) {\n    const filtersArray = tags.map((tag) => ({\n      filter: tag?.slug.toLowerCase(),\n      name: changeCaseOfFirstLetter(tag?.name),\n      isActive: false,\n    }));\n\n    const defaultTags = [\n      { filter: ALL_CATEGORIES_TAG, name: ALL_CATEGORIES_TAG, isActive: true },\n      ...filtersArray,\n    ];\n\n    if (isVideoPage && user?.currentUser) {\n      // проверка хоть на 1 видео из ресурсной группы\n      apiGetDataCallback({\n        limit: 1,\n        [apiFilterNames.resourceGroup]: true,\n      })\n        .then((resourceGroupData) => {\n          if (resourceGroupData.count > 0) {\n            const tagsWithResourceGroup = [\n              {\n                filter: ALL_CATEGORIES_TAG,\n                name: ALL_CATEGORIES_TAG,\n                isActive: true,\n              },\n              {\n                filter: RESOURCE_GROUP_TAG,\n                name: RESOURCE_GROUP_TAG,\n                isActive: false,\n              },\n              ...filtersArray,\n            ];\n\n            setFilters(tagsWithResourceGroup);\n          } else {\n            setFilters(defaultTags);\n          }\n        })\n        .catch(() => setIsPageError(true));\n    } else {\n      setFilters(defaultTags);\n    }\n  }\n\n  // обработка главной карточки\n  function handleMainCard({ results, count }) {\n    const pinnedFullSizeCard = results.find((item) => item.pinnedFullSize);\n    if (pinnedFullSizeCard) {\n      setMainCard(pinnedFullSizeCard);\n      setIsMainCardShown(true);\n      const filteredCards = results.filter((item) => !item.pinnedFullSize);\n      setDataToRender(filteredCards);\n      // не учитываем первую карточку в остальной выдаче\n      setTotalPages(Math.ceil((count - 1) / pageSize));\n    } else {\n      if (results.length > pageSize) {\n        setDataToRender(results.slice(0, -1));\n      } else {\n        setDataToRender(results);\n      }\n      setTotalPages(Math.ceil(count / pageSize));\n    }\n  }\n\n  function defineParamsAndGetData({\n    activeFilters,\n    apiCallback,\n    isFiltersCallback,\n  }) {\n    if (activeFilters.activeFilters || activeFilters.isResourceGroupSelected) {\n      // собираем все возможные фильтры\n      const params = {};\n      if (activeFilters.activeFilters) {\n        params[apiFilterNames.tags] = activeFilters.activeFilters;\n      }\n\n      if (activeFilters.isResourceGroupSelected) {\n        params[apiFilterNames.resourceGroup] =\n          activeFilters.isResourceGroupSelected;\n      }\n\n      apiCallback({ isFiltersActive: true, params });\n    } else {\n      // фильтров нет\n      if (isFiltersCallback) selectOneTag(setFilters, ALL_CATEGORIES_TAG);\n      apiCallback({ isFiltersActive: false });\n    }\n  }\n};\n\nexport default useFiltrationWithMainCard;\n","import placesPageTexts from '../pages/Places/locales/RU';\n\nconst { ageFilterNames } = placesPageTexts;\n\nconst ageFiltersArray = ageFilterNames.map((ageFilter) => ({\n  filter: ageFilter.filter,\n  name: ageFilter.name,\n  isActive: false,\n}));\n\nexport default ageFiltersArray;\n","import { useContext, useEffect, useState } from 'react';\nimport { ErrorsContext, PopupsContext } from '../contexts';\nimport {\n  ALL_CATEGORIES_TAG,\n  CHOSEN_BY_MENTOR_TAG,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n} from '../config/constants';\nimport useDebounce from './useDebounce';\nimport { changeCaseOfFirstLetter } from '../utils/utils';\nimport {\n  deselectAllTags,\n  deselectOneTag,\n  handleCheckboxBehavior,\n  selectOneTag,\n} from '../utils/filter-tags';\nimport ageFiltersArray from '../utils/age-filters';\n\n// хук для фильтров/пагинации на странице Places\n// частично повторяет хук useFiltrationWithMainCard, но\n// в отличие от страниц Articles и Video главная карточка может и не быть в первой выдаче\n// из-за этого больше условий и проверок\n\nconst useFiltrationForPlaces = ({\n  apiGetDataCallback,\n  apiGetFiltersCallback,\n  apiGetMainCardCallback,\n  apiFilterNames,\n  userCity,\n  pageSize,\n  setIsPageError,\n  dontStartWhileTrue, // данные НЕ загружаются, если условие true, по умолчанию воспринимается как false\n}) => {\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n  // данные\n  const [dataToRender, setDataToRender] = useState([]);\n  const [filters, setFilters] = useState([]);\n  const [ageFilters, setAgeFilters] = useState(ageFiltersArray);\n\n  // главная карточка\n  const [mainCard, setMainCard] = useState({});\n  const [isMainCardShown, setIsMainCardShown] = useState(false);\n  const [isMainCardInFirstResponse, setIsMainCardInFirstResponse] =\n    useState(false);\n  const isMainCard = !!mainCard.chosen;\n\n  // лоадеры, флаги\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  const [isPaginationUsed, setIsPaginationUsed] = useState(false);\n  const [isNoFilteredResults, setIsNoFilteredResults] = useState(false);\n  const [isFormRecommendationShown, setIsFormRecommendationShown] =\n    useState(true);\n  // по факту запускает всю цепочку скриптов\n  const [isPageLoading, setIsPageLoading] = useState(!dontStartWhileTrue);\n\n  // пагинация\n  const [totalPages, setTotalPages] = useState(0);\n  const [pageIndex, setPageIndex] = useState(0);\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getData, DELAY_DEBOUNCE);\n\n  // Первая отрисовка страницы\n  useEffect(() => {\n    if (isPageLoading && pageSize && userCity && !dontStartWhileTrue) {\n      firstPageRender();\n    }\n  }, [pageSize, isPageLoading, userCity]);\n\n  // Переход по пагинации, страница уже загружена\n  useEffect(() => {\n    if (!isPageLoading && !isFiltersUsed && !dontStartWhileTrue) {\n      const { activeFilters, activeAges, isChosenByMentorFlag } =\n        getActiveFilters();\n\n      defineParamsAndGetData({\n        activeFilters,\n        activeAges,\n        isChosenByMentorFlag,\n        apiCallback: debouncePaginate,\n        isFiltersCallback: false,\n      });\n    }\n  }, [pageSize, pageIndex]);\n\n  // Фильтры, страница уже загружена\n  useEffect(() => {\n    if (!isPageLoading && isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // слушатель разрешения запуска скриптов\n  useEffect(() => {\n    if (!dontStartWhileTrue) {\n      setIsPageLoading(true);\n    }\n  }, [dontStartWhileTrue]);\n\n  return {\n    dataToRender,\n    filters,\n    ageFilters,\n    mainCard,\n    isMainCard,\n    isMainCardShown,\n    isPageLoading,\n    isFiltersUsed,\n    isPaginationUsed,\n    isNoFilteredResults,\n    isFormRecommendationShown,\n    totalPages,\n    pageIndex,\n    changePageIndex,\n    changeFilter,\n    changeAgeFilter,\n    resetStatesAndGetNewData,\n  };\n\n  function resetStatesAndGetNewData() {\n    setMainCard({});\n    setIsMainCardShown(false);\n    setIsMainCardInFirstResponse(false);\n    setIsNoFilteredResults(false);\n    setIsFormRecommendationShown(true);\n    firstPageRender();\n  }\n\n  // РАБОТА С ПАГИНАЦИЕЙ\n  function changePageIndex(value) {\n    if (value !== pageIndex) {\n      setPageIndex(value);\n      setIsPaginationUsed(true);\n      if (isMainCard && isMainCardShown) setIsMainCardShown(false);\n      if (isFormRecommendationShown) setIsFormRecommendationShown(false);\n    }\n  }\n\n  // РАБОТА С ФИЛЬТРАМИ\n  function getActiveFilters() {\n    let activeFilters = filters.filter(\n      (category) => category.isActive && category.filter !== ALL_CATEGORIES_TAG\n    );\n\n    const isChosenByMentorFlag = activeFilters.some(\n      (tag) => tag.filter === CHOSEN_BY_MENTOR_TAG\n    );\n\n    if (isChosenByMentorFlag) {\n      activeFilters = activeFilters\n        .filter((tag) => tag.filter !== CHOSEN_BY_MENTOR_TAG)\n        .map((tag) => tag.filter)\n        .join(',');\n    } else {\n      activeFilters = activeFilters.map((tag) => tag.filter).join(',');\n    }\n\n    const activeAges = ageFilters\n      .filter((age) => age.isActive)\n      .map((age) => age.filter)\n      .join(',');\n\n    return {\n      activeFilters,\n      activeAges,\n      isChosenByMentorFlag,\n    };\n  }\n\n  function setFiltersAndResetPagination() {\n    // сбрасываем пагинацию\n    setPageIndex(0);\n    // ставим флажок фильтров\n    setIsFiltersUsed(true);\n  }\n\n  // хэндлер клика по фильтру\n  function changeFilter(inputValue, isChecked) {\n    if (inputValue === ALL_CATEGORIES_TAG) {\n      // кнопка \"Все\", если она уже нажата без фильтров возраста, то ничего не делаем\n      const isAllAlreadyActive = filters.some(\n        (f) => f.isActive && f.filter === ALL_CATEGORIES_TAG\n      );\n      const isAnyAgeFilters = ageFilters.some((f) => f.isActive);\n      if (isAllAlreadyActive && !isAnyAgeFilters) {\n        // ничего не делаем\n      } else {\n        selectOneTag(setFilters, ALL_CATEGORIES_TAG);\n        deselectAllTags(setAgeFilters);\n        if (isMainCard) setIsMainCardShown(true);\n        setFiltersAndResetPagination();\n      }\n    } else {\n      handleCheckboxBehavior(setFilters, { inputValue, isChecked });\n      deselectOneTag(setFilters, ALL_CATEGORIES_TAG);\n      if (isMainCard && isMainCardShown) setIsMainCardShown(false);\n      setFiltersAndResetPagination();\n    }\n  }\n\n  // хэндлер клика по фильтру ВОЗРАСТ\n  function changeAgeFilter(inputValue, isChecked) {\n    handleCheckboxBehavior(setAgeFilters, { inputValue, isChecked });\n    if (isMainCard && isMainCardShown) setIsMainCardShown(false);\n    // сбрасываем пагинацию\n    setPageIndex(0);\n    // ставим флажок фильтров\n    setIsFiltersUsed(true);\n  }\n\n  // функция-фильтратор\n  // eslint-disable-next-line consistent-return\n  function handleFiltration() {\n    if (filters.length && isFiltersUsed) {\n      if (isFormRecommendationShown) setIsFormRecommendationShown(false);\n\n      const { activeFilters, activeAges, isChosenByMentorFlag } =\n        getActiveFilters();\n\n      defineParamsAndGetData({\n        activeFilters,\n        activeAges,\n        isChosenByMentorFlag,\n        apiCallback: getData,\n        isFiltersCallback: true,\n      });\n    }\n  }\n\n  // РАБОТА С API\n  function getData({ isFiltersActive, params }) {\n    // isFiltersUsed учитывает кнопку ВСЕ\n    // isFiltersActive - только активные\n    const offset = isFiltersUsed ? 0 : pageSize * pageIndex;\n\n    const fixedLimit =\n      pageIndex === 0 &&\n      isMainCard &&\n      isMainCardInFirstResponse &&\n      !isFiltersActive\n        ? pageSize + 1 // кнопка ВСЕ и пагинация на 1 страницу, когда есть карточка\n        : pageSize;\n\n    const fixedOffset =\n      pageIndex > 0 &&\n      isMainCard &&\n      isMainCardInFirstResponse &&\n      !isFiltersActive\n        ? offset + 1\n        : offset;\n\n    apiGetDataCallback({\n      limit: fixedLimit,\n      offset: fixedOffset,\n      city: userCity,\n      ...params,\n    })\n      .then(({ results, count }) => {\n        if (results.length === 0 && count === 0) {\n          // показывать нечего\n          setIsNoFilteredResults(true);\n          setDataToRender([]);\n        } else if (results.length === 0 && count > 0) {\n          // если count > 0 при пустом массиве, значит мы забегаем вперед по офсету\n          // откатываемся на предыдущую страницу\n          // возможно при ресайзах экрана\n          setPageIndex(pageIndex - 1);\n        } else {\n          if (isMainCard && isMainCardInFirstResponse && !isFiltersActive) {\n            // при пагинации без фильтров на всех страницах\n            // если карточка есть и она в 1 выдаче, то исключаем её из учёта\n            setTotalPages(Math.ceil((count - 1) / pageSize));\n          } else {\n            setTotalPages(Math.ceil(count / pageSize));\n          }\n\n          if (pageIndex === 0 && isMainCard && !isFiltersActive) {\n            // вернулись на 1 страницу без фильтров и при карточке\n            if (isMainCardInFirstResponse) {\n              // карточка есть в 1 выдаче - фильтруем\n              setDataToRender(() =>\n                results.filter((card) => card.id !== mainCard.id)\n              );\n            } else {\n              setDataToRender(results);\n            }\n            setIsMainCardShown(true);\n            setIsFormRecommendationShown(true);\n          } else {\n            setDataToRender(results);\n          }\n          if (isNoFilteredResults) setIsNoFilteredResults(false);\n        }\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError(ERROR_MESSAGES.filterErrorMessage);\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsPaginationUsed(false);\n        setIsFiltersUsed(false);\n      });\n  }\n\n  function firstPageRender() {\n    Promise.all([\n      apiGetMainCardCallback({ city: userCity }),\n      apiGetDataCallback({\n        city: userCity,\n        limit: pageSize + 1,\n      }),\n      apiGetFiltersCallback(),\n    ])\n      .then(([chosenByMentorCard, { results, count }, tags]) => {\n        if (chosenByMentorCard?.chosen) {\n          setMainCard(chosenByMentorCard);\n          setIsMainCardShown(true);\n        }\n\n        if (results.length > 0) {\n          // т.к. стейты не успевают обновиться, то передаем напрямую\n          definePlaces({\n            chosenByMentorCard,\n            cards: results,\n            totalCards: count,\n          });\n        } else {\n          setDataToRender([]);\n        }\n\n        if (tags.length > 0) {\n          // т.к. стейты не успевают обновиться, то передаем напрямую\n          defineFilters({ tags, isChosenPlace: chosenByMentorCard?.chosen });\n        } else {\n          setFilters([]);\n        }\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsPageLoading(false));\n  }\n\n  // обработка пришедших с сервера фильтров\n  function defineFilters({ tags, isChosenPlace }) {\n    const filtersArray = tags.map((tag) => ({\n      filter: tag?.slug.toLowerCase(),\n      name: changeCaseOfFirstLetter(tag?.name),\n      isActive: false,\n    }));\n\n    const defaultTags = [\n      { filter: ALL_CATEGORIES_TAG, name: ALL_CATEGORIES_TAG, isActive: true },\n      ...filtersArray,\n    ];\n\n    if (isChosenPlace) {\n      setFilters([\n        {\n          filter: ALL_CATEGORIES_TAG,\n          name: ALL_CATEGORIES_TAG,\n          isActive: true,\n        },\n        {\n          filter: CHOSEN_BY_MENTOR_TAG,\n          name: CHOSEN_BY_MENTOR_TAG,\n          isActive: false,\n        },\n        ...filtersArray,\n      ]);\n    } else {\n      setFilters(defaultTags);\n    }\n  }\n\n  // обработка главной карточки в первом рендере\n  function definePlaces({ chosenByMentorCard, cards, totalCards }) {\n    const isChosenCard = chosenByMentorCard?.chosen;\n    let isOnFirstResponse = false;\n    if (isChosenCard) {\n      isOnFirstResponse = cards.some(\n        (card) => card.id === chosenByMentorCard.id\n      );\n      setIsMainCardInFirstResponse(isOnFirstResponse);\n    }\n\n    if (isChosenCard && isOnFirstResponse) {\n      // главная карточка в первой выдаче\n      // фильтруем остальные от неё и не учитываем её при формировании страниц\n      const filteredCards = cards.filter(\n        (card) => card.id !== chosenByMentorCard.id\n      );\n      setDataToRender(filteredCards);\n      setTotalPages(Math.ceil((totalCards - 1) / pageSize));\n    } else {\n      if (cards.length > pageSize) {\n        // главной карточки нет или она не в 1 выдаче\n        // подрезаем 1 карточку для ровной сетки\n        setDataToRender(cards.slice(0, -1));\n      } else {\n        setDataToRender(cards);\n      }\n      setTotalPages(Math.ceil(totalCards / pageSize));\n    }\n  }\n\n  function defineParamsAndGetData({\n    activeFilters,\n    activeAges,\n    isChosenByMentorFlag,\n    apiCallback,\n    isFiltersCallback,\n  }) {\n    if (activeFilters || activeAges || isChosenByMentorFlag) {\n      // собираем все возможные фильтры\n      const params = {};\n      if (activeFilters) {\n        params[apiFilterNames.tags] = activeFilters;\n      }\n\n      if (activeAges) {\n        params[apiFilterNames.ageRestriction] = activeAges;\n      }\n\n      if (isChosenByMentorFlag) {\n        params[apiFilterNames.chosen] = isChosenByMentorFlag;\n      }\n\n      apiCallback({ isFiltersActive: true, params });\n    } else {\n      // фильтров нет\n      if (isFiltersCallback) selectOneTag(setFilters, ALL_CATEGORIES_TAG);\n      apiCallback({ isFiltersActive: false });\n    }\n  }\n};\n\nexport default useFiltrationForPlaces;\n","import { useLayoutEffect, useState } from 'react';\n\n// Объект maxWindowWidths может содержать максимум 3 поля: small, medium, big\n\n// Объект pageSizeSettings может содержать максимум 4 поля:\n// small, medium, big и default\n// первые три соответствуют полям объекта windowWidths, default - ВСЕГДА самый большой, как дефолтный\n\n// eslint-disable-next-line consistent-return\nconst usePageWidth = (maxWindowWidths, pageSizeSettings) => {\n  if (maxWindowWidths && pageSizeSettings) {\n    const [pageSize, setPageSize] = useState(null);\n    const [isSmallQuery, setIsSmallQuery] = useState(false);\n    const [isMediumQuery, setIsMediumQuery] = useState(false);\n    const [isBigQuery, setIsBigQuery] = useState(false);\n\n    useLayoutEffect(() => {\n      let smallQuery;\n      let mediumQuery;\n      let bigQuery;\n\n      if (maxWindowWidths.small) {\n        smallQuery = window.matchMedia(\n          `(max-width: ${maxWindowWidths.small}px)`\n        );\n      }\n      if (maxWindowWidths.medium) {\n        mediumQuery = window.matchMedia(\n          `(max-width: ${maxWindowWidths.medium}px)`\n        );\n      }\n      if (maxWindowWidths.big) {\n        bigQuery = window.matchMedia(`(max-width: ${maxWindowWidths.big}px)`);\n      }\n\n      const listener = () => {\n        if (smallQuery && smallQuery.matches) {\n          setPageSize(pageSizeSettings.small);\n          setIsSmallQuery(true);\n          setIsMediumQuery(false);\n          setIsBigQuery(false);\n        } else if (mediumQuery && mediumQuery.matches) {\n          setPageSize(pageSizeSettings.medium);\n          setIsMediumQuery(true);\n          setIsSmallQuery(false);\n          setIsBigQuery(false);\n        } else if (bigQuery && bigQuery.matches) {\n          setPageSize(pageSizeSettings.big);\n          setIsBigQuery(true);\n          setIsSmallQuery(false);\n          setIsMediumQuery(false);\n        } else {\n          setPageSize(pageSizeSettings.default);\n          setIsSmallQuery(false);\n          setIsMediumQuery(false);\n          setIsBigQuery(false);\n        }\n      };\n      listener();\n\n      if (smallQuery) {\n        smallQuery.addEventListener('change', listener);\n      }\n\n      if (mediumQuery) {\n        mediumQuery.addEventListener('change', listener);\n      }\n\n      if (bigQuery) {\n        bigQuery.addEventListener('change', listener);\n      }\n\n      return () => {\n        if (smallQuery) {\n          smallQuery.removeEventListener('change', listener);\n        }\n\n        if (mediumQuery) {\n          mediumQuery.removeEventListener('change', listener);\n        }\n\n        if (bigQuery) {\n          bigQuery.removeEventListener('change', listener);\n        }\n      };\n    }, []);\n\n    return { pageSize, isSmallQuery, isMediumQuery, isBigQuery };\n  }\n};\n\nexport default usePageWidth;\n","import { useHistory } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { ERROR_CODES } from '../config/constants';\nimport { NOT_FOUND_URL } from '../config/routes';\n\nconst useSingleCardAtDynamicRoute = ({\n  apiCallback,\n  dynamicParam,\n  setIsPageError,\n}) => {\n  const history = useHistory();\n\n  // стейт для одиночной карточки (при переходе по id)\n  const [singleCard, setSingleCard] = useState(null);\n  // чтобы показать карточку, нужно её ещё загрузить\n  const isSingleCardShown = !!(singleCard && dynamicParam);\n\n  useEffect(() => {\n    if (dynamicParam) {\n      apiCallback(dynamicParam)\n        .then(setSingleCard)\n        .catch((err) => {\n          if (err.status === ERROR_CODES.notFound) history.push(NOT_FOUND_URL);\n          else setIsPageError(true);\n        });\n    }\n  }, [dynamicParam]);\n\n  return {\n    isSingleCardShown,\n    singleCard,\n  };\n};\n\nexport default useSingleCardAtDynamicRoute;\n","const texts = {\n  closeButtonLabel: 'Закрыть попап',\n};\n\nexport default texts;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport './Popup.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction Popup({\n  children,\n  type,\n  typeContainer,\n  isOpen,\n  onClose,\n  withoutCloseButton,\n  sectionClass,\n}) {\n  const closeAllPopupsOnOverlay = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <div\n      className={`popup popup_type_${type} ${isOpen ? 'popup_opened' : ''} `}\n      onClick={closeAllPopupsOnOverlay}\n    >\n      <div\n        className={`popup__container popup__container_type_${typeContainer} ${sectionClass}`}\n      >\n        {!withoutCloseButton && (\n          <button\n            className={`popup__close popup__close_type_${typeContainer}`}\n            type=\"button\"\n            aria-label={texts.closeButtonLabel}\n            onClick={onClose}\n          />\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n\nPopup.propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  typeContainer: PropTypes.string,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  withoutCloseButton: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nPopup.defaultProps = {\n  children: null,\n  type: '',\n  typeContainer: '',\n  isOpen: false,\n  onClose: () => {},\n  sectionClass: '',\n  withoutCloseButton: false,\n};\n\nexport default Popup;\n","/* eslint-disable no-param-reassign */\nexport const handleCheckboxBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const handleRadioBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const selectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = true;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectAllTags = (setState) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      filterItem.isActive = false;\n      return filterItem;\n    })\n  );\n};\n","export const socialLinks = [\n  {\n    url: 'https://www.facebook.com/BigBrothers.BigSisters.Russia/',\n    title: 'facebook',\n  },\n  {\n    url: 'https://vk.com/big.brothers.big.sisters',\n    title: 'vkontakte',\n  },\n  {\n    url: 'https://www.instagram.com/nastavniki_org/',\n    title: 'instagram',\n  },\n  {\n    url: 'https://www.youtube.com/user/Nastavniki/',\n    title: 'youtube',\n  },\n];\n\nexport const bbbsLinks = {\n  about: 'https://www.nastavniki.org/o-nas/ob-organizaczii/',\n  donations: 'https://www.nastavniki.org/campaign/pomoch-dengami/',\n  volunteering: 'https://www.nastavniki.org/volontyorstvo/kak-stat-volonterom/',\n  partners: 'https://www.nastavniki.org/oficzialno/nashi-partneryi/',\n};\n\nexport const developmentLinks = {\n  praktikum: {\n    title: 'Яндекс.Практикум',\n    url: 'https://praktikum.yandex.ru/',\n  },\n  design: {\n    title: 'krkr.design',\n    url: 'https://krkr.design/',\n  },\n};\n","const texts = {\n  title: 'Подтвердить запись на мероприятие',\n  submitButtonText: 'Подтвердить запись',\n  submitButtonTextLoading: 'Идёт запись...',\n  cancelButtonText: 'Отменить',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport './PopupConfirmation.scss';\n\nfunction PopupConfirmation({ isOpen, onClose }) {\n  const { registerOnEvent, isWaitingResponse } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n  const month = formatMonthsGenitiveCase(startDay?.monthName);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    registerOnEvent(card);\n  };\n\n  return (\n    <Popup\n      type=\"confirmation\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <p className=\"section-title popup__title_type_calendar\">\n          {texts.title}\n        </p>\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`«${card?.title}»`}\n        />\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`${parseInt(startDay?.day, 10)} ${month} с ${startDay?.hour}:${\n            startDay?.minutes\n          }—${endDay?.hour}:${endDay?.minutes}`}\n        />\n        <div className=\"popup__buttons_type_calendar\">\n          <Button\n            color=\"blue\"\n            title={\n              isWaitingResponse\n                ? texts.submitButtonTextLoading\n                : texts.submitButtonText\n            }\n            sectionClass=\"popup__button_type_calendar\"\n            isDisabled={isWaitingResponse}\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupConfirmation.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupConfirmation.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupConfirmation;\n","const texts = {\n  popupTitle: 'Вы записаны на мероприятие',\n  paragraph: 'Если у вас не получится прийти — отмените, пожалуйста, запись.',\n  buttonTextCalendarPage: 'Вернуться к календарю',\n  buttonTextDefault: 'Перейти в календарь',\n};\n\nexport default texts;\n","import { useEffect, useRef } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationSuccess from '../../../assets/animation/ill_popup_success.json';\nimport texts from './locales/RU';\nimport { AFISHA_URL } from '../../../config/routes';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport './PopupSuccessfully.scss';\n\nconst { popupTitle, paragraph, buttonTextCalendarPage, buttonTextDefault } =\n  texts;\n\nfunction PopupSuccessfully({ isOpen, onClose }) {\n  const { pathname } = useLocation();\n  const history = useHistory();\n\n  const card = getLocalStorageData(localStAfishaEvent);\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n  const month = formatMonthsGenitiveCase(startDay?.monthName);\n\n  const pushToCalendar = () => {\n    history.push(AFISHA_URL);\n  };\n\n  const buttonText =\n    pathname === AFISHA_URL ? buttonTextCalendarPage : buttonTextDefault;\n\n  const actionOnButtonClick =\n    pathname === AFISHA_URL ? onClose : pushToCalendar;\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"successfully\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-success\" />\n      <p className=\"section-title popup__title_type_calendar\">{popupTitle}</p>\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`«${card?.title}»`}\n      />\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`${parseInt(startDay?.day, 10)} ${month} с ${startDay?.hour}:${\n          startDay?.minutes\n        }—${endDay?.hour}:${endDay?.minutes}`}\n      />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_successfully\">\n        {paragraph}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={actionOnButtonClick}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupSuccessfully.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupSuccessfully.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupSuccessfully;\n","const texts = {\n  title:\n    'Спасибо, мы проверим информацию, и скоро все пользователи смогут увидеть вашу рекомендацию',\n  buttonText: 'Вернуться к рекомендациям',\n};\n\nexport default texts;\n","import { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationRecommendSuccess from '../../../assets/animation/ill_popup_recommend-success.json';\nimport texts from './locales/RU';\nimport { useCloseOnEscape } from '../../../hooks';\nimport Popup from '../Popup/Popup';\nimport { Button } from '../../utils';\nimport './PopupRecommendSuccess.scss';\n\nfunction PopupRecommendSuccess({ isOpen, onClose }) {\n  useCloseOnEscape(isOpen, onClose);\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationRecommendSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"recommend-success\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_recommend-success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-recommend\" />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_recommend-success\">\n        {texts.title}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={texts.buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupRecommendSuccess.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupRecommendSuccess.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupRecommendSuccess;\n","const texts = {\n  title: 'Вход',\n  firstParagraph:\n    'Вход в личный кабинет доступен наставникам программы «Старшие Братья Старшие Сёстры».',\n  secondParagraph:\n    'Пожалуйста, введите логин и пароль из письма. Если вам не приходило письмо, свяжитесь с вашим куратором.',\n  loginPlaceholder: 'Логин',\n  passwordPlaceholder: 'Пароль',\n  showPasswordButton: 'Показать пароль',\n  hidePasswordButton: 'Скрыть пароль',\n  forgotButtonText: 'Забыли пароль?',\n  submitButtonText: 'Войти',\n  loadingButtonTextLogin: 'Вход...',\n  titleForgotForm: 'Восстановление пароля',\n  paragraphForgotForm:\n    'Пожалуйста, для восстановления пароля введите email, который вы указывали при регистрации.',\n  emailPlaceholder: 'Email',\n  backButtonText: 'Я вспомнил пароль',\n  submitButtonTextForgot: 'Отправить',\n  loadingButtonTextForgot: 'Отправка...',\n};\n\nexport default texts;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport { CurrentUserContext, ErrorsContext } from '../../../contexts';\nimport { useAuth, useFormWithValidation } from '../../../hooks';\nimport getServerErrors from '../../../utils/form-errors';\nimport { AFISHA_URL } from '../../../config/routes';\nimport { ERROR_CODES, ERROR_MESSAGES } from '../../../config/constants';\nimport { recoverPassword } from '../../../api/user';\nimport Popup from '../Popup/Popup';\nimport { Button, IconEye, Input, TitleH2 } from '../../utils';\nimport animationSuccess from '../../../assets/animation/ill_popup_recommend-success.json';\nimport './PopupLogin.scss';\n\nconst {\n  title,\n  firstParagraph,\n  secondParagraph,\n  loginPlaceholder,\n  passwordPlaceholder,\n  forgotButtonText,\n  submitButtonText,\n  titleForgotForm,\n  paragraphForgotForm,\n  emailPlaceholder,\n  backButtonText,\n  submitButtonTextForgot,\n  loadingButtonTextLogin,\n  loadingButtonTextForgot,\n  showPasswordButton,\n  hidePasswordButton,\n} = texts;\n\nconst validationSettings = {\n  username: {\n    maxLength: 150,\n  },\n  password: {\n    minLength: 8,\n  },\n};\n\n// функционал восстановления пароля отключили\n// остается в коде на всякий случай\n\nfunction PopupLogin({ isOpen, onClose }) {\n  const { updateUser } = useContext(CurrentUserContext);\n  const { serverError, clearError, setError } = useContext(ErrorsContext);\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { badRequest } = ERROR_CODES;\n\n  const [isShownPassword, setIsShownPassword] = useState(false);\n  const [isForgotPassword, setIsForgotPassword] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [isRecoveringPassword, setIsRecoveringPassword] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const animationContainer = useRef(null);\n  const disableRecoverPassword = true;\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  const errorsString = serverError ? getServerErrors(serverError) : '';\n\n  const { handleLogin, isWaitingResponse } = useAuth(updateUser);\n\n  function handleClickForgotPassword() {\n    setIsForgotPassword(!isForgotPassword);\n  }\n\n  function successForgotPassword() {\n    setIsSuccess(false);\n    setIsForgotPassword(false);\n  }\n\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormWithValidation();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleLogin(values);\n  }\n\n  function handleError(err) {\n    if (err?.status === badRequest) setError(err?.data);\n    else setError({ message: generalErrorMessage.title });\n  }\n\n  function handleSubmitForgotPassword(evt) {\n    setIsRecoveringPassword(true);\n    evt.preventDefault();\n    recoverPassword(values)\n      .then((res) => {\n        setSuccessMessage(res?.email);\n        resetForm();\n        clearError();\n        setIsSuccess(true);\n        setTimeout(successForgotPassword, 6000);\n      })\n      .catch(handleError)\n      .finally(() => setIsRecoveringPassword(false));\n  }\n\n  //! аварийный перевод на главную, если не хочешь логиниться\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  function closePopup() {\n    if (pathname === AFISHA_URL) {\n      history.push('/');\n    }\n    setSuccessMessage('');\n    onClose();\n    setIsShownPassword(false);\n  }\n\n  function closePopupOnEsc(evt) {\n    if (evt.key === 'Escape') {\n      closePopup();\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (isOpen) {\n      window.addEventListener('keyup', closePopupOnEsc);\n      return () => window.removeEventListener('keyup', closePopupOnEsc);\n    }\n  }, [pathname, isOpen]);\n\n  useEffect(() => {\n    resetForm();\n    clearError();\n  }, [isOpen, isForgotPassword]);\n\n  useEffect(() => {\n    setIsForgotPassword(false);\n  }, [isOpen]);\n\n  const classNameAuth = [\n    'popup__form',\n    'popup__form_type_sign-in',\n    `${isOpen && !isForgotPassword ? 'popup__form_type_sign-in_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const classForgotPassword = [\n    'popup__form',\n    'popup__form_type_email',\n    `${isForgotPassword && !isSuccess ? 'popup__form_type_email_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const classNameSuccess = [\n    'popup__login-container_success',\n    `${isSuccess ? 'popup__login-container_success_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <Popup\n      type=\"sign-in\"\n      typeContainer=\"sign-in\"\n      isOpen={isOpen}\n      onClose={closePopup}\n    >\n      {renderFormAuth()}\n      {!disableRecoverPassword && renderFormForgotPassword()}\n      {!disableRecoverPassword && renderSuccessLoginContainer()}\n    </Popup>\n  );\n\n  function renderFormAuth() {\n    return (\n      <form\n        className={classNameAuth}\n        onSubmit={(evt) => handleSubmit(evt)}\n        noValidate\n      >\n        <TitleH2 sectionClass=\"popup__title_type_sign-in\" title={title} />\n        <p className=\"paragraph popup__sign-in\">{firstParagraph}</p>\n        <p className=\"paragraph popup__sign-in\">{secondParagraph}</p>\n\n        <Input\n          id=\"loginUsernameInput\"\n          sectionClass=\"popup__input\"\n          type=\"text\"\n          name=\"username\"\n          placeholder={loginPlaceholder}\n          onChange={handleChange}\n          value={values?.username}\n          error={errors?.username}\n          maxLength={validationSettings.username.maxLength}\n          required\n        />\n\n        <div className=\"popup__password-input-container\">\n          <Input\n            id=\"loginPasswordInput\"\n            sectionClass=\"popup__input\"\n            type={isShownPassword ? 'text' : 'password'}\n            name=\"password\"\n            placeholder={passwordPlaceholder}\n            onChange={handleChange}\n            value={values?.password}\n            error={errors?.password}\n            minLength={validationSettings.password.minLength}\n            required\n          />\n          <button\n            className=\"popup__show-password-btn\"\n            type=\"button\"\n            title={isShownPassword ? hidePasswordButton : showPasswordButton}\n            onClick={() => setIsShownPassword(!isShownPassword)}\n          >\n            <IconEye\n              sectionClass=\"popup__icon-eye\"\n              isClosed={isShownPassword}\n            />\n          </button>\n        </div>\n\n        {!disableRecoverPassword && (\n          <button\n            className=\"popup__forgot-password\"\n            type=\"button\"\n            onClick={handleClickForgotPassword}\n          >\n            {forgotButtonText}\n          </button>\n        )}\n        <span className=\"form-error-message\">{errorsString}</span>\n        <Button\n          sectionClass=\"popup__button_type_sign-in\"\n          color=\"blue\"\n          title={isWaitingResponse ? loadingButtonTextLogin : submitButtonText}\n          isDisabled={isWaitingResponse || !isValid}\n          isSubmittable\n        />\n      </form>\n    );\n  }\n\n  function renderFormForgotPassword() {\n    return (\n      <form\n        className={classForgotPassword}\n        onSubmit={(evt) => handleSubmitForgotPassword(evt)}\n        noValidate\n      >\n        <TitleH2\n          sectionClass=\"popup__title_type_sign-in\"\n          title={titleForgotForm}\n        />\n        <p className=\"paragraph popup__sign-in\">{paragraphForgotForm}</p>\n\n        <Input\n          id=\"loginUseremailInput\"\n          sectionClass=\"popup__input\"\n          type=\"email\"\n          name=\"email\"\n          placeholder={emailPlaceholder}\n          onChange={handleChange}\n          value={values?.email}\n          error={errors?.email}\n          required\n        />\n        <button\n          className=\"popup__forgot-password\"\n          type=\"button\"\n          onClick={handleClickForgotPassword}\n        >\n          {backButtonText}\n        </button>\n        <span className=\"form-error-message\">{errorsString}</span>\n        <Button\n          sectionClass=\"popup__button_type_sign-in\"\n          color=\"blue\"\n          title={\n            isRecoveringPassword\n              ? loadingButtonTextForgot\n              : submitButtonTextForgot\n          }\n          isDisabled={isRecoveringPassword || !isValid}\n          isSubmittable\n        />\n      </form>\n    );\n  }\n\n  function renderSuccessLoginContainer() {\n    return (\n      <div className={classNameSuccess}>\n        <div\n          ref={animationContainer}\n          className=\"popup__login-container_success-animation\"\n        />\n        <TitleH2 title={successMessage} />\n      </div>\n    );\n  }\n}\n\nPopupLogin.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default PopupLogin;\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleLoading: 'Идёт запись...',\n  buttonTitleSelected: 'Отменить запись',\n  buttonCancelLoading: 'Отмена записи...',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  changeCaseOfFirstLetter,\n  formatDate,\n  formatPhoneNumber,\n  formatWordCase,\n} from '../../../utils/utils';\nimport '../../Cards/CardCalendar/CardCalendar.scss';\nimport Popup from '../Popup/Popup';\nimport { Button, ModificatedScrollbars, TitleH2 } from '../../utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks';\nimport { localStAfishaEvent } from '../../../config/constants';\n\nfunction PopupAboutEvent({ isWithoutRegister, isOpen, onClose }) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n    buttonCancelLoading,\n    buttonTitleLoading,\n  } = texts;\n\n  const { handleEventBooking, isWaitingResponse } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDateParts = formatDate(card?.startAt);\n  const endDayParts = formatDate(card?.endAt);\n  const isDisabled = card?.remainSeats < 1 && !card?.booked;\n  const isCanceling = isWaitingResponse && card?.booked;\n  const isRegistering = isWaitingResponse && !card?.booked;\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    // передаем карточку и сообщаем функции, что запись без подтверждения\n    handleEventBooking(card, true);\n  }\n\n  return (\n    <Popup\n      type=\"about-event\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      {card && (\n        <form className=\"popup__form\" onSubmit={handleSubmit}>\n          <div className=\"calendar__caption\">\n            <div className=\"calendar__info\">\n              <p className=\"calendar__type\">\n                {changeCaseOfFirstLetter(card?.tags?.name)}\n              </p>\n              <p className=\"calendar__weekday\">\n                {`${startDateParts?.monthName} / ${startDateParts?.weekdayName}`}\n              </p>\n            </div>\n            <div className=\"calendar__about calendar__about_modal\">\n              <TitleH2\n                title={card?.title}\n                sectionClass=\"calendar__title calendar__title_type_popup\"\n              />\n              <p className=\"calendar__date\">{startDateParts?.day}</p>\n            </div>\n          </div>\n          <div className=\"calendar__meetup\">\n            <ul className=\"calendar__info-list\">\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__time\">\n                  {`${startDateParts?.hour}:${startDateParts?.minutes}–${endDayParts?.hour}:${endDayParts?.minutes}`}\n                </p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__place\">{card?.address}</p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__contact\">\n                  {`${card?.contact}, `}\n                  {renderPhone()}\n                </p>\n              </li>\n            </ul>\n            <div className=\"calendar__description\">\n              <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n                <p className=\"paragraph calendar__desc-paragraph\">\n                  {card?.description}\n                </p>\n              </ModificatedScrollbars>\n            </div>\n\n            {!isWithoutRegister && (\n              <div className=\"calendar__submit\">\n                <Button\n                  color=\"blue\"\n                  title={isRegistering ? buttonTitleLoading : buttonTitle}\n                  titleSelected={\n                    isCanceling ? buttonCancelLoading : buttonTitleSelected\n                  }\n                  sectionClass=\"button_action_confirm\"\n                  isSubmittable\n                  isBooked={card?.booked}\n                  isDisabled={isCanceling || isRegistering || isDisabled}\n                />\n                <p className=\"calendar__place-left\">\n                  {(isDisabled && buttonTitleDisabled) ||\n                    (!card?.booked &&\n                      `${remainSeatsText} ${card?.remainSeats} ${formatWordCase(\n                        card?.remainSeats\n                      )}`)}\n                </p>\n              </div>\n            )}\n          </div>\n        </form>\n      )}\n    </Popup>\n  );\n\n  function renderPhone() {\n    return (\n      <a className=\"calendar__phone\" href={`tel:${card?.phoneNumber}`}>\n        {formatPhoneNumber(card?.phoneNumber)}\n      </a>\n    );\n  }\n}\n\nPopupAboutEvent.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  isWithoutRegister: PropTypes.bool,\n};\n\nPopupAboutEvent.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  isWithoutRegister: false,\n};\n\nexport default PopupAboutEvent;\n","const texts = {\n  title: 'Выберите ваш город',\n};\n\nexport default texts;\n","import { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  CitiesContext,\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../../contexts';\nimport { updateUserProfile } from '../../../api/user';\nimport {\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n  localStUserCity,\n} from '../../../config/constants';\nimport {\n  dispatchLocalStorageEvent,\n  getLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport { useDebounce } from '../../../hooks';\nimport Popup from '../Popup/Popup';\nimport { ModificatedScrollbars, TitleH2 } from '../../utils';\nimport './PopupCities.scss';\n\nfunction PopupCities({ isOpen, onClose }) {\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const { cities, defaultCity } = useContext(CitiesContext);\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  const currentUserCity =\n    currentUser?.city || getLocalStorageData(localStUserCity);\n\n  function closePopup() {\n    if (!currentUser && !getLocalStorageData(localStUserCity)) {\n      dispatchLocalStorageEvent(localStUserCity, defaultCity?.id);\n    }\n    onClose();\n  }\n\n  const closePopupOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      closePopup();\n    }\n  };\n\n  const submitCity = (evt) => {\n    const cityId = parseInt(evt.target.value, 10);\n    if (currentUser) {\n      updateUserProfile({ city: cityId })\n        .then((res) => {\n          updateUser(res);\n          onClose();\n        })\n        .catch(() => {\n          setError(ERROR_MESSAGES.citiesErrorMessage);\n          openPopupError();\n        });\n    } else {\n      dispatchLocalStorageEvent(localStUserCity, cityId);\n      onClose();\n    }\n  };\n\n  const debounceSubmitCity = useDebounce(submitCity, DELAY_DEBOUNCE);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (defaultCity) {\n      window.addEventListener('keyup', closePopupOnEsc);\n      return () => window.removeEventListener('keyup', closePopupOnEsc);\n    }\n  }, [defaultCity]);\n\n  return (\n    <Popup\n      type=\"cities\"\n      typeContainer=\"cities\"\n      isOpen={isOpen}\n      onClose={closePopup}\n      withoutCloseButton\n    >\n      <div className=\"popup__form\">\n        <TitleH2 title={texts.title} sectionClass=\"cities__title\" />\n        <div className=\"cities__container\">\n          <ul className=\"cities__list cities__list_type_primary\">\n            {cities &&\n              cities\n                .filter((city) => city?.isPrimary === true)\n                .map((city) => renderCityItem(city))}\n          </ul>\n          <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n            <ul className=\"cities__list\">\n              {cities &&\n                cities\n                  .filter((city) => city?.isPrimary !== true)\n                  .map((city) => renderCityItem(city))}\n            </ul>\n          </ModificatedScrollbars>\n        </div>\n      </div>\n    </Popup>\n  );\n\n  function renderCityItem(city) {\n    return (\n      <li className=\"cities__list-item\" key={city?.id}>\n        <button\n          className={`cities__city ${\n            currentUserCity === city?.id ? 'cities__city_current' : ''\n          }`}\n          type=\"button\"\n          value={city?.id}\n          onClick={(evt) => debounceSubmitCity(evt)}\n          disabled={currentUserCity === city?.id}\n        >\n          {city?.name}\n        </button>\n      </li>\n    );\n  }\n}\n\nPopupCities.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupCities.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupCities;\n","import PropTypes from 'prop-types';\nimport { useContext, useEffect } from 'react';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport { ErrorsContext } from '../../../contexts';\nimport './PopupError.scss';\n\nfunction PopupError({ isOpen, onClose }) {\n  const { serverError } = useContext(ErrorsContext);\n\n  const closeOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keyup', closeOnEsc);\n    return () => window.removeEventListener('keyup', closeOnEsc);\n  }, []);\n\n  return (\n    <Popup\n      type=\"error\"\n      typeContainer=\"calendar\"\n      sectionClass=\"popup__container_error\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar popup__title_type_error\"\n        title={serverError?.title}\n      />\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={serverError?.button}\n          sectionClass=\"popup__button_type_error\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupError.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupError.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupError;\n","import PropTypes from 'prop-types';\nimport Popup from '../Popup/Popup';\nimport { Caption, TitleH2 } from '../../utils/index';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport {\n  getLocalStorageData,\n  removeLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport './PopupVideo.scss';\nimport { staticImageUrl } from '../../../config/config';\n\nconst PopupVideo = ({ isOpen, onClose }) => {\n  const data = getLocalStorageData(localStChosenVideo);\n  const { frameSrc } = parserLinkYoutube(data?.link);\n\n  const closePopup = () => {\n    removeLocalStorageData(localStChosenVideo);\n    onClose();\n  };\n\n  return (\n    <Popup\n      type=\"video\"\n      typeContainer=\"video\"\n      isOpen={isOpen}\n      onClose={closePopup}\n    >\n      <div className=\"popup__video-iframe-container\">\n        {data?.image && (\n          <img\n            className=\"popup__video-preview\"\n            src={`${staticImageUrl}/${data.image}`}\n            alt={data.title}\n          />\n        )}\n        {isOpen && (\n          <iframe\n            title={data?.title}\n            id=\"playeryt\"\n            className=\"popup__video-iframe\"\n            src={`${frameSrc}?autoplay=1`}\n            frameBorder=\"0\"\n            allow=\"autoplay; encrypted-media\"\n            allowFullScreen\n            seamless\n          />\n        )}\n      </div>\n      <TitleH2 sectionClass=\"popup__video-title\" title={data?.title} />\n      <Caption sectionClass=\"popup__video-caption\" title={data?.info} />\n    </Popup>\n  );\n};\n\nPopupVideo.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupVideo.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupVideo;\n","import PropTypes from 'prop-types';\nimport { useCloseOnEscape } from '../../../hooks';\nimport Popup from '../Popup/Popup';\nimport './PopupPhoto.scss';\n\nfunction PopupPhoto({ isOpen, onClose, currentPhoto }) {\n  useCloseOnEscape(isOpen, onClose);\n\n  return (\n    <Popup isOpen={isOpen} onClose={onClose} type=\"photo\" typeContainer=\"photo\">\n      <figure className=\"popup__photo-figure\">\n        <img\n          className=\"popup__full-image\"\n          src={currentPhoto?.photoSrc}\n          alt={currentPhoto?.caption}\n        />\n        <figcaption className=\"popup__full-caption\">\n          {currentPhoto?.caption}\n        </figcaption>\n      </figure>\n    </Popup>\n  );\n}\n\nPopupPhoto.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  currentPhoto: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n\nexport default PopupPhoto;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить юзера с сервера\nfunction getUserData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// обновить профиль пользователя\nfunction updateUserProfile(dataToUpdate) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/`, dataToUpdate)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// восстановить пароль\nfunction recoverPassword(email) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/send_password/`, email)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getUserData, updateUserProfile, recoverPassword };\n","import getYouTubeID from 'get-youtube-id';\n\nconst parserLinkYoutube = (link) => {\n  if (link) {\n    const idVideo = getYouTubeID(link);\n    const frameSrc = `https://www.youtube.com/embed/${idVideo}`;\n    const imagePreview = `http://img.youtube.com/vi/${idVideo}/maxresdefault.jpg`;\n\n    return { frameSrc, imagePreview };\n  }\n  return '';\n};\n\nexport default parserLinkYoutube;\n","import './Loader.scss';\nimport PropTypes from 'prop-types';\n\nfunction Loader({ isNested, isCentered, isSmallGrid, isPaginate }) {\n  const classNames = [\n    'spinner',\n    isNested ? 'spinner_nested' : '',\n    isCentered ? 'spinner_centered' : '',\n    isSmallGrid ? 'spinner_small-grid' : '',\n    isPaginate ? 'spinner_paginate' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={classNames}>\n      <div className=\"spinner__container\">\n        <div className=\"spinner__circle spinner__circle_1\" />\n        <div className=\"spinner__circle spinner__circle_2\" />\n        <div className=\"spinner__circle spinner__circle_3\" />\n        <div className=\"spinner__circle spinner__circle_4\" />\n        <div className=\"spinner__circle spinner__circle_5\" />\n        <div className=\"spinner__circle spinner__circle_6\" />\n        <div className=\"spinner__circle spinner__circle_7\" />\n        <div className=\"spinner__circle spinner__circle_8\" />\n        <div className=\"spinner__circle spinner__circle_9\" />\n        <div className=\"spinner__circle spinner__circle_10\" />\n        <div className=\"spinner__circle spinner__circle_11\" />\n        <div className=\"spinner__circle spinner__circle_12\" />\n      </div>\n    </div>\n  );\n}\n\nLoader.propTypes = {\n  isNested: PropTypes.bool,\n  isCentered: PropTypes.bool,\n  isSmallGrid: PropTypes.bool,\n  isPaginate: PropTypes.bool,\n};\n\nLoader.defaultProps = {\n  isNested: false,\n  isCentered: false,\n  isSmallGrid: false,\n  isPaginate: false,\n};\n\nexport default Loader;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// запись на мероприятие\nfunction makeEventRegistration(eventId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/afisha/event-participants/`, eventId)\n    .then((response) => response)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// отписка регистрации на мероприятие\nfunction cancelEventRegistration(eventId) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/afisha/event-participants/${eventId}/`)\n    .then((response) => response)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// получение списка всех мероприятий на которые записан юзер\nfunction getBookedEvents({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getArchiveOfBookedEvents({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/archive/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport {\n  makeEventRegistration,\n  cancelEventRegistration,\n  getBookedEvents,\n  getArchiveOfBookedEvents,\n};\n","const texts = {\n  changeCity: 'Изменить город',\n  changeCityDefault: 'Изменить ваш город',\n  logoutText: 'Выйти',\n};\n\nexport default texts;\n","const texts = {\n  changeCity: 'Изменить город',\n  changeCityDefault: 'Изменить ваш город',\n  logoutText: 'Выйти',\n  searchPlaceholder: 'Поиск',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { DropDownMenu } from '../utils';\nimport './NavItemWithDropdown.scss';\n\nfunction NavItemWithDropdown({ sectionWrapperClass, linkText, href }) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className=\"menu__link\" to={href}>\n        {linkText}\n      </NavLink>\n\n      <DropDownMenu sectionWrapperClass=\"menu__dropdown-list\" />\n    </li>\n  );\n}\n\nNavItemWithDropdown.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  linkText: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nNavItemWithDropdown.defaultProps = {\n  href: '',\n};\n\nexport default NavItemWithDropdown;\n","const texts = {\n  notFoundText: 'По вашему запросу ничего не найдено',\n  searchText: 'Введите свой запрос',\n  ariaLabelCloseButton: 'Закрыть',\n};\n\nexport default texts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nconst search = ({ text, city }) =>\n  axios\n    .get(`${baseURL}${apiUrl}/search/`, {\n      params: { text, city },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n\nexport default search;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport texts from './locales/RU';\nimport { Loader, SearchButton } from '../utils';\nimport { useDebounce, useFormWithValidation } from '../../hooks';\nimport { getLocalStorageData } from '../../hooks/useLocalStorage';\nimport search from '../../api/search';\nimport {\n  AFISHA_URL,\n  MOVIES_URL,\n  QUESTIONS_URL,\n  VIDEO_URL,\n} from '../../config/routes';\nimport {\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../contexts';\nimport {\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n  localStUserCity,\n} from '../../config/constants';\nimport './Search.scss';\n\nconst SearchMaxLength = 200;\n\nfunction Search({\n  isOpenSearch,\n  setIsOpenSearch,\n  isMobileMenuOpen,\n  setIsMobileMenuOpen,\n}) {\n  const { currentUser } = useContext(CurrentUserContext);\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  // приоритет города у авторизованного, затем у выбранного на странице Куда пойти\n  const currentAnonymousCity = getLocalStorageData(localStUserCity);\n  const userCity = currentUser?.city ?? currentAnonymousCity;\n\n  const { values, handleChange, resetForm } = useFormWithValidation();\n  const [searchResults, setSearchResults] = useState([]);\n  const [isVoidSearch, setIsVoidSearch] = useState(false);\n  const [isLoadingSearch, setIsLoadingSearch] = useState(false);\n\n  const inputRef = useRef(null);\n\n  const getPathName = (url, id) => {\n    // переходы на страницы с попапами либо вопроса\n    if (`/${url}` === AFISHA_URL) return `/${url}`;\n    if (`/${url}` === MOVIES_URL) return `/${url}`;\n    if (`/${url}` === VIDEO_URL) return `/${url}`;\n    if (`/${url}` === QUESTIONS_URL) return `/${url}`;\n    // остальные страницы имеют динамические роуты\n    return `/${url}/${id}`;\n  };\n\n  const animateListItem = (idx) => ({\n    opacity: '0',\n    animation: `fade-in 0.5s ease-out ${idx / 12}s forwards`,\n  });\n\n  const animateLink = (idx) => ({\n    opacity: '0',\n    animation: `slide-in 0.5s ease-out ${idx / 10}s forwards`,\n  });\n\n  const handleClickButton = () => {\n    setIsOpenSearch(!isOpenSearch);\n    resetForm();\n    setSearchResults([]);\n    setIsVoidSearch(false);\n  };\n\n  const handleClickLink = () => {\n    setIsOpenSearch(!isOpenSearch);\n  };\n\n  const handleSearchRequest = async () => {\n    try {\n      const searchParams = userCity\n        ? { text: values.search, city: userCity }\n        : { text: values.search };\n      const currentRequest = search(searchParams);\n      const { count, results } = await currentRequest;\n      setSearchResults(results);\n      setIsLoadingSearch(false);\n      return count === 0 ? setIsVoidSearch(true) : setIsVoidSearch(false);\n    } catch {\n      setIsLoadingSearch(false);\n      setError(ERROR_MESSAGES.generalErrorMessage);\n      return openPopupError();\n    }\n  };\n\n  const handleDebouncedRequest = useDebounce(\n    handleSearchRequest,\n    DELAY_DEBOUNCE\n  );\n\n  useEffect(() => {\n    // проверка на пустой запрос и запрос из пробелов\n    if (values.search && values.search.trim()) {\n      setIsLoadingSearch(true);\n      handleDebouncedRequest();\n    }\n  }, [values]);\n\n  useEffect(() => {\n    if (isMobileMenuOpen) setIsOpenSearch(false);\n  }, [isMobileMenuOpen]);\n\n  useEffect(() => {\n    if (isOpenSearch) setIsMobileMenuOpen(false);\n    // автофокус при открытии поиска\n    if (isOpenSearch && inputRef && inputRef.current) inputRef.current.focus();\n  }, [isOpenSearch]);\n\n  return (\n    <form\n      className=\"search\"\n      name=\"search-form\"\n      onSubmit={(evt) => evt.preventDefault()}\n    >\n      <SearchButton\n        isOpenSearch={isOpenSearch}\n        handleClickButton={handleClickButton}\n      />\n      <div\n        className={`search__options menu__search-options ${\n          isOpenSearch ? 'search__options_visible' : ''\n        }`}\n      >\n        <div className=\"search__container-input\">\n          <div className=\"search__input-wrap\">\n            <input\n              ref={inputRef}\n              type=\"text\"\n              name=\"search\"\n              placeholder=\"\"\n              maxLength={SearchMaxLength}\n              className=\"search__input paragraph\"\n              autoComplete=\"off\"\n              onChange={handleChange}\n              value={values.search || ''}\n            />\n            <button\n              type=\"button\"\n              aria-label={texts.ariaLabelCloseButton}\n              className=\"search__close-button\"\n              onClick={handleClickButton}\n            />\n          </div>\n          <span className=\"search__input-border\" />\n        </div>\n\n        {renderSearchContent()}\n      </div>\n    </form>\n  );\n\n  function renderSearchItems() {\n    if (isVoidSearch)\n      return <p className=\"search__content_type_void\">{texts.notFoundText}</p>;\n\n    if (searchResults.length > 0) {\n      return (\n        <ul className=\"search__option-list\">\n          {searchResults.map((item, idx) => (\n            <li\n              key={item.page + item.id}\n              className=\"search__option-item\"\n              style={animateListItem(idx)}\n            >\n              <Link\n                onClick={handleClickLink}\n                to={{\n                  pathname: getPathName(item.page, item.id),\n                  state: { id: item.id },\n                }}\n                className=\"section-title section-title_clickable search__title-link\"\n                style={animateLink(idx)}\n              >\n                {item.title}\n              </Link>\n              <Link\n                to={`/${item.page}`}\n                className=\"link search__link\"\n                style={animateLink(idx)}\n                onClick={handleClickLink}\n              >\n                {item.modelName.toLowerCase()}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      );\n    }\n\n    return <p className=\"search__content_type_ask\">{texts.searchText}</p>;\n  }\n\n  function renderSearchContent() {\n    return isLoadingSearch ? <Loader isNested /> : renderSearchItems();\n  }\n}\n\nSearch.propTypes = {\n  isOpenSearch: PropTypes.bool,\n  setIsOpenSearch: PropTypes.func,\n  isMobileMenuOpen: PropTypes.bool,\n  setIsMobileMenuOpen: PropTypes.func,\n};\n\nSearch.defaultProps = {\n  isOpenSearch: false,\n  setIsOpenSearch: () => {},\n  isMobileMenuOpen: false,\n  setIsMobileMenuOpen: () => {},\n};\n\nexport default Search;\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts';\nimport texts from './locales/RU';\nimport {\n  ABOUT_US_TITLE,\n  ABOUT_US_URL,\n  AFISHA_TITLE,\n  AFISHA_URL,\n  MAIN_PAGE_TITLE,\n  PLACES_TITLE,\n  PLACES_URL,\n  QUESTIONS_TITLE,\n  QUESTIONS_URL,\n  READ_AND_WATCH_TITLE,\n  READ_AND_WATCH_URL,\n  RIGHTS_TITLE,\n  RIGHTS_URL,\n  STORIES_TITLE,\n  STORIES_URL,\n} from '../../config/routes';\nimport { socialLinks } from '../../utils/external-links';\nimport NavItemWithDropdown from '../NavItemWithDropdown/NavItemWithDropdown';\nimport Search from '../Search/Search';\nimport { NavItem, UserIconButton, UserMenuButton } from '../utils';\nimport './NavBar.scss';\n\nfunction NavBar({\n  isMobileMenuOpen,\n  onUserButtonClick,\n  onBurgerButtonClick,\n  onCityChangeClick,\n  onLogout,\n  userCityName,\n  setIsMobileMenuOpen,\n  isOpenSearch,\n  setIsOpenSearch,\n}) {\n  const { pathname } = useLocation();\n  const { currentUser } = useContext(CurrentUserContext);\n\n  const handleClick = () => {\n    setIsOpenSearch(false);\n  };\n\n  return (\n    <nav className={`menu ${isOpenSearch ? 'menu_state_search' : ''}`}>\n      {/* логотип */}\n      <Link\n        to=\"/\"\n        target=\"_self\"\n        className=\"menu__logo mobile-link\"\n        onClick={handleClick}\n      >\n        {MAIN_PAGE_TITLE}\n      </Link>\n      {/* обычное меню */}\n      <div\n        className={`menu__lists-wrap ${\n          !isMobileMenuOpen ? 'menu__lists-wrap_hidden' : ''\n        }`}\n      >\n        <ul className=\"menu__list\">\n          {/* О проекте, скрытый */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item menu__list-item_hidden\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          {/* Календарь */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          {/* Куда пойти */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          {/* Вопросы */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          {/* выпадающее меню  \"Читать и смотреть\" */}\n          <NavItemWithDropdown\n            sectionWrapperClass=\"menu__list-item menu__dropdown-item\"\n            linkText={READ_AND_WATCH_TITLE}\n            href={READ_AND_WATCH_URL}\n          />\n          {/* Права детей */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          {/* Истории */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={STORIES_URL}\n            linkText={STORIES_TITLE}\n          />\n        </ul>\n\n        <ul\n          className={`menu__list menu__list_type_social ${\n            !isMobileMenuOpen ? 'menu__list_hidden' : ''\n          }`}\n        >\n          {React.Children.toArray(\n            socialLinks.map((link) => (\n              <li className=\"menu__list-item\">\n                <a\n                  className=\"menu__link mobile-link\"\n                  href={link.url}\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                >\n                  {link.title}\n                </a>\n              </li>\n            ))\n          )}\n        </ul>\n      </div>\n\n      {renderUserMenuButtons()}\n\n      <button\n        onClick={onBurgerButtonClick}\n        className={`menu__burger ${\n          isMobileMenuOpen ? 'menu__burger_active' : ''\n        }`}\n        type=\"button\"\n      >\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n      </button>\n\n      <ul className=\"menu__button-list\">\n        <li className=\"menu__button-item\">\n          <Search\n            isOpenSearch={isOpenSearch}\n            setIsOpenSearch={setIsOpenSearch}\n            isMobileMenuOpen={isMobileMenuOpen}\n            setIsMobileMenuOpen={setIsMobileMenuOpen}\n          />\n        </li>\n        <li className=\"menu__button-item\">\n          <UserIconButton\n            sectionClass=\"mobile-link\"\n            isAuthorized={!!currentUser}\n            handleClick={onUserButtonClick}\n          />\n        </li>\n      </ul>\n    </nav>\n  );\n\n  function renderLogoutButton() {\n    return (\n      <UserMenuButton\n        title={texts.logoutText}\n        sectionClass=\"mobile-link\"\n        handleClick={onLogout}\n      />\n    );\n  }\n\n  function renderUserMenuButtons() {\n    if (currentUser || pathname === PLACES_URL) {\n      return (\n        <div\n          className={`menu__user-info ${\n            !isMobileMenuOpen ? 'menu__user-info_hidden' : ''\n          }`}\n        >\n          <UserMenuButton\n            title={\n              userCityName\n                ? `${userCityName}. ${texts.changeCity}`\n                : texts.changeCityDefault\n            }\n            handleClick={onCityChangeClick}\n            sectionClass={`mobile-link ${\n              !currentUser ? 'menu__user-info_center' : ''\n            }`}\n          />\n          {currentUser && renderLogoutButton()}\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nNavBar.propTypes = {\n  onUserButtonClick: PropTypes.func,\n  onBurgerButtonClick: PropTypes.func,\n  onCityChangeClick: PropTypes.func,\n  onLogout: PropTypes.func,\n  isMobileMenuOpen: PropTypes.bool,\n  userCityName: PropTypes.string,\n  setIsMobileMenuOpen: PropTypes.func,\n  isOpenSearch: PropTypes.bool,\n  setIsOpenSearch: PropTypes.func,\n};\n\nNavBar.defaultProps = {\n  onUserButtonClick: () => {},\n  onBurgerButtonClick: () => {},\n  onCityChangeClick: () => {},\n  onLogout: () => {},\n  isMobileMenuOpen: false,\n  userCityName: '',\n  setIsMobileMenuOpen: () => {},\n  isOpenSearch: false,\n  setIsOpenSearch: () => {},\n};\n\nexport default NavBar;\n","import { useContext, useEffect, useLayoutEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  CitiesContext,\n  CurrentUserContext,\n  PopupsContext,\n} from '../../contexts';\nimport { useAuth, useClickOutside, useLocalStorage } from '../../hooks';\nimport { AFISHA_URL, PLACES_URL, PROFILE_URL } from '../../config/routes';\nimport { localStUserCity } from '../../config/constants';\nimport NavBar from '../NavBar/NavBar';\nimport { UserMenuButton } from '../utils';\nimport './Header.scss';\n\nconst onScrollUpDelay = 100;\n\nfunction Header({ isTransparentOnTop }) {\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const { openPopupCities, openPopupLogin } = useContext(PopupsContext);\n  const { cities } = useContext(CitiesContext);\n\n  const { handleLogout } = useAuth(updateUser);\n\n  const [userCityName, setUserCityName] = useState('');\n  const getLocalStorageItem = useLocalStorage(localStUserCity);\n  const currentAnonymousCity = getLocalStorageItem();\n  // сохранённый в localStorage город анонимуса\n  const userCity = currentUser?.city ?? currentAnonymousCity;\n\n  // определение города пользователя, используется в кнопках\n  useEffect(() => {\n    if (cities && userCity) {\n      const currentCity = cities.find((city) => city?.id === userCity);\n      setUserCityName(currentCity?.name);\n    }\n  }, [cities, userCity]);\n\n  // клик по иконке человечка\n  const handleUserButtonClick = () => {\n    if (currentUser) history.push(PROFILE_URL);\n    else openPopupLogin();\n  };\n\n  // меню бургер\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n  const toggleMobileMenu = () => {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n  };\n\n  // закрытие мобильного меню по клику вне хедера\n  const headerRef = useClickOutside(() => setIsMobileMenuOpen(false));\n\n  // закрытие мобильного меню по клику на ссылки\n  const handleCloseMobileMenu = (evt) => {\n    const { target } = evt;\n    if (isMobileMenuOpen && target.classList.contains('mobile-link')) {\n      setIsMobileMenuOpen(false);\n    }\n  };\n\n  // состояние поиска\n  const [isOpenSearch, setIsOpenSearch] = useState(false);\n\n  // состояния хедера\n  const [isHeaderActive, setIsHeaderActive] = useState(true);\n  const [isHeaderOnTop, setIsHeaderOnTop] = useState(true);\n  let prevScrollPos = 0;\n\n  const detectHeaderOnTop = () => {\n    if (window.scrollY === 0) setIsHeaderOnTop(true);\n    else if (window.scrollY > 0 && isHeaderOnTop) setIsHeaderOnTop(false);\n  };\n\n  const detectScrollUp = () => {\n    if (isTransparentOnTop) detectHeaderOnTop();\n\n    const currentScrollPos = window.pageYOffset;\n    // если prevScrollPos больше currentScrollPos значит мы скролим наверх\n    if (prevScrollPos > currentScrollPos) {\n      setIsHeaderActive(true);\n    } else {\n      setIsHeaderActive(false);\n      setIsMobileMenuOpen(false);\n    }\n\n    if (currentScrollPos === 0) {\n      setIsHeaderActive(true);\n    }\n    prevScrollPos = currentScrollPos;\n  };\n\n  let debounceTimer;\n  const debouncedScrollUp = () => {\n    if (debounceTimer) {\n      clearTimeout(debounceTimer);\n    }\n    debounceTimer = setTimeout(() => {\n      detectScrollUp();\n    }, onScrollUpDelay);\n  };\n\n  useLayoutEffect(() => {\n    window.addEventListener('scroll', debouncedScrollUp);\n    return () => window.removeEventListener('scroll', debouncedScrollUp);\n  }, []);\n\n  const classNamesHeader = [\n    'header',\n    isTransparentOnTop && isHeaderOnTop && !isOpenSearch\n      ? 'header_transparent'\n      : '',\n    isMobileMenuOpen ? 'header_displayed' : '',\n    !isHeaderActive && !isOpenSearch ? 'header__on-scroll-up' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <header\n      className={classNamesHeader}\n      ref={headerRef}\n      onClick={handleCloseMobileMenu}\n      onKeyPress={handleCloseMobileMenu}\n    >\n      <div className=\"header__container\">\n        <NavBar\n          onUserButtonClick={handleUserButtonClick}\n          onBurgerButtonClick={toggleMobileMenu}\n          userCityName={userCityName}\n          onCityChangeClick={openPopupCities}\n          onLogout={handleLogout}\n          isMobileMenuOpen={isMobileMenuOpen}\n          setIsMobileMenuOpen={setIsMobileMenuOpen}\n          isOpenSearch={isOpenSearch}\n          setIsOpenSearch={setIsOpenSearch}\n        />\n\n        {(pathname === AFISHA_URL ||\n          pathname === PLACES_URL ||\n          pathname === PROFILE_URL) && (\n          <div className=\"header__user-info\">\n            <UserMenuButton\n              title={\n                userCityName\n                  ? `${userCityName}. ${texts.changeCity}`\n                  : texts.changeCityDefault\n              }\n              handleClick={openPopupCities}\n              sectionClass=\"mobile-link\"\n            />\n            {renderExitButton()}\n          </div>\n        )}\n      </div>\n    </header>\n  );\n\n  function renderExitButton() {\n    if (pathname === PROFILE_URL) {\n      return (\n        <UserMenuButton\n          title={texts.logoutText}\n          sectionClass=\"mobile-link\"\n          handleClick={handleLogout}\n        />\n      );\n    }\n    return null;\n  }\n}\n\nHeader.propTypes = {\n  isTransparentOnTop: PropTypes.bool,\n};\n\nHeader.defaultProps = {\n  isTransparentOnTop: false,\n};\n\nexport default Header;\n","import { bbbsLinks, developmentLinks } from '../../../utils/external-links';\n\nconst texts = {\n  logoAlt: 'Логотип Старшие Братья Старшие Сестры России',\n  logoLink: bbbsLinks.about,\n  helpButtonText: 'Помочь деньгами',\n  helpButtonLink: bbbsLinks.donations,\n  devText: 'Разработка – студенты ',\n  devLink: developmentLinks.praktikum.url,\n  devOrg: developmentLinks.praktikum.title,\n  designText: 'Концепция и дизайн – ',\n  designLink: developmentLinks.design.url,\n  designOrg: developmentLinks.design.title,\n  copyright: `${'\\u00A9'} Старшие Братья Старшие Сестры`,\n};\n\nexport default texts;\n","import React from 'react';\nimport texts from './locales/RU';\nimport {\n  ABOUT_US_TITLE,\n  ABOUT_US_URL,\n  AFISHA_TITLE,\n  AFISHA_URL,\n  PLACES_TITLE,\n  PLACES_URL,\n  QUESTIONS_TITLE,\n  QUESTIONS_URL,\n  READ_AND_WATCH_TITLE,\n  READ_AND_WATCH_URL,\n  RIGHTS_TITLE,\n  RIGHTS_URL,\n  STORIES_TITLE,\n  STORIES_URL,\n} from '../../config/routes';\nimport { socialLinks } from '../../utils/external-links';\nimport { Logo, NavItem } from '../utils';\nimport './Footer.scss';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <a\n        href={texts.logoLink}\n        className=\"footer__logo\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <Logo isWhite sectionClass=\"footer__logo-image\" />\n      </a>\n      <a\n        className=\"button footer__button\"\n        href={texts.helpButtonLink}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {texts.helpButtonText}\n      </a>\n      <div className=\"footer__column footer__column_content_concept\">\n        <p className=\"footer__brand\">{texts.copyright}</p>\n        <div className=\"footer__copyright\">\n          <p className=\"footer__authors\">\n            {texts.devText}\n            <a\n              href={texts.devLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.devOrg}\n            </a>\n          </p>\n          <p className=\"footer__design\">\n            {texts.designText}\n            <a\n              href={texts.designLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.designOrg}\n            </a>\n          </p>\n        </div>\n      </div>\n      <div className=\"footer__column footer__column_content_info\">\n        <ul className=\"footer__column-list\">\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={READ_AND_WATCH_URL}\n            linkText={READ_AND_WATCH_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={STORIES_URL}\n            linkText={STORIES_TITLE}\n          />\n        </ul>\n      </div>\n      <div className=\"footer__column footer__column_content_social\">\n        <ul className=\"footer__column-list\">\n          {React.Children.toArray(\n            socialLinks.map((link) => (\n              <li className=\"footer__column-links\">\n                <a\n                  className=\"footer__column-link\"\n                  href={link.url}\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                >\n                  {link.title}\n                </a>\n              </li>\n            ))\n          )}\n        </ul>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport { useScrollToTop } from '../hooks/index';\nimport Header from '../components/Header/Header';\nimport Footer from '../components/Footer/Footer';\n\nfunction BasePage({\n  children,\n  headTitle,\n  headDescription,\n  scrollUpDeps,\n  isNoFooter,\n  isHeaderTransparentOnTop,\n  sectionClassMain,\n}) {\n  useScrollToTop(scrollUpDeps);\n\n  const classNamesMain = ['main', sectionClassMain].join(' ').trim();\n\n  return (\n    <>\n      <Helmet>\n        <title>{headTitle}</title>\n        <meta name=\"description\" content={headDescription} />\n      </Helmet>\n      <Header isTransparentOnTop={isHeaderTransparentOnTop} />\n      <main className={classNamesMain}>{children}</main>\n      {!isNoFooter && <Footer />}\n    </>\n  );\n}\n\nBasePage.propTypes = {\n  children: PropTypes.node,\n  headTitle: PropTypes.string.isRequired,\n  headDescription: PropTypes.string.isRequired,\n  scrollUpDeps: PropTypes.arrayOf(PropTypes.any),\n  isNoFooter: PropTypes.bool,\n  isHeaderTransparentOnTop: PropTypes.bool,\n  sectionClassMain: PropTypes.string,\n};\n\nBasePage.defaultProps = {\n  children: null,\n  scrollUpDeps: [],\n  isNoFooter: false,\n  isHeaderTransparentOnTop: false,\n  sectionClassMain: '',\n};\n\nexport default BasePage;\n","const texts = {\n  title404: '404',\n  buttonText: 'Вернуться на главную',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport { useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport animation404 from '../../assets/animation/Illustration_404.json';\nimport { TitleH2 } from '../utils';\nimport './AnimatedPageContainer.scss';\n\nfunction AnimatedPageContainer({\n  is404,\n  titleText,\n  buttonText,\n  staticPage,\n  urlBack,\n  isNoButton,\n}) {\n  const animationContainer = useRef();\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation404,\n    });\n  }, []);\n\n  return (\n    <div className=\"animated-section\">\n      <div ref={animationContainer} className=\"animated-section__animation\" />\n      {is404 && <h1 className=\"page-not-found-title\">{texts.title404}</h1>}\n      <TitleH2 title={titleText} sectionClass=\"animated-section__subtitle\" />\n      {!isNoButton && (\n        <Link\n          className=\"button animated-section__link button_color_blue\"\n          to={staticPage ? `${urlBack}` : '/'}\n        >\n          {buttonText}\n        </Link>\n      )}\n    </div>\n  );\n}\n\nAnimatedPageContainer.propTypes = {\n  is404: PropTypes.bool,\n  titleText: PropTypes.string,\n  buttonText: PropTypes.string,\n  staticPage: PropTypes.bool,\n  urlBack: PropTypes.string,\n  isNoButton: PropTypes.bool,\n};\n\nAnimatedPageContainer.defaultProps = {\n  is404: false,\n  titleText: '',\n  buttonText: texts.buttonText,\n  staticPage: false,\n  urlBack: '',\n  isNoButton: false,\n};\n\nexport default AnimatedPageContainer;\n","import PropTypes from 'prop-types';\nimport { Card } from '../../utils';\nimport CardAnnotationContainer from './CardAnnotationContainer';\nimport './CardAnnotation.scss';\n\nfunction CardAnnotation({ info, description, isMain, sectionClass }) {\n  const classNames = [\n    'card-annotation',\n    isMain ? 'card-annotation_main' : '',\n    info && isMain ? '' : 'card-annotation_main_center',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <Card sectionClass={classNames}>\n      <CardAnnotationContainer caption={info}>\n        <p className=\"paragraph card-annotation__paragraph\">{description}</p>\n      </CardAnnotationContainer>\n    </Card>\n  );\n}\n\nCardAnnotation.propTypes = {\n  info: PropTypes.string,\n  description: PropTypes.string,\n  isMain: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nCardAnnotation.defaultProps = {\n  info: undefined,\n  description: undefined,\n  isMain: false,\n  sectionClass: '',\n};\n\nexport default CardAnnotation;\n","const texts = {\n  altText: 'Превью к видео:',\n  linkTextMovie: 'смотреть трейлер',\n  linkTextVideo: 'смотреть видео',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport { useContext, useEffect, useState } from 'react';\nimport { PopupsContext } from '../../../contexts';\nimport { Caption, Card, Rubric, TitleH2 } from '../../utils';\nimport { changeCaseOfFirstLetter, formatDuration } from '../../../utils/utils';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport './CardFilm.scss';\n\nfunction CardFilm({\n  data: { id, image, title, info, link, tags, duration },\n  sectionClass,\n  isVideo,\n  isMobile,\n}) {\n  const { openPopupVideo } = useContext(PopupsContext);\n  const { frameSrc } = parserLinkYoutube(link);\n  const [isPlayingVideo, setIsPlayingVideo] = useState(false);\n\n  // Пробрасываем данные в попап\n  const openPopupVideoOnClick = () => {\n    setLocalStorageData(localStChosenVideo, {\n      image,\n      title,\n      info,\n      link,\n      tags,\n      duration,\n    });\n    openPopupVideo();\n  };\n\n  // на мобильном разрешении видео проиграывается сразу в карточке\n  const playVideoOnClick = () => setIsPlayingVideo(true);\n\n  useEffect(() => {\n    if (!isMobile) {\n      if (isPlayingVideo) setIsPlayingVideo(false);\n    }\n  }, [isMobile]);\n\n  return (\n    <Card sectionClass={`card-film ${sectionClass}`}>\n      <div className=\"card-film__video\">{renderVideoPlayback()}</div>\n\n      <div className=\"card-film__video-info\">\n        <div className=\"card-film__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-film__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-film__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link && (\n          <button\n            className=\"link\"\n            type=\"button\"\n            onClick={isMobile ? playVideoOnClick : openPopupVideoOnClick}\n            draggable=\"false\"\n          >\n            {isVideo ? texts.linkTextVideo : texts.linkTextMovie}\n          </button>\n        )}\n      </div>\n    </Card>\n  );\n\n  // Рендерим верхную часть с фоткой\n  function renderPreview() {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          draggable=\"false\"\n          src={`${staticImageUrl}/${image}`}\n          alt={`${texts.altText} ${title}`}\n          className={`card-film__preview ${\n            isPlayingVideo ? 'card-film__preview_at-back' : ''\n          } image-scale`}\n        />\n        {renderDurationOrTags(durationString)}\n      </>\n    );\n  }\n\n  function renderVideoPlayback() {\n    if (isMobile) {\n      return (\n        <button\n          className=\"card-film__button\"\n          type=\"button\"\n          onClick={playVideoOnClick}\n          draggable=\"false\"\n        >\n          {renderPreview()}\n          {isPlayingVideo && (\n            <iframe\n              title={title}\n              id={`player-card-film-${id}`}\n              className=\"card-film__iframe\"\n              src={`${frameSrc}?autoplay=1`}\n              frameBorder=\"0\"\n              allow=\"autoplay; encrypted-media\"\n              allowFullScreen\n              seamless\n            />\n          )}\n        </button>\n      );\n    }\n\n    return (\n      <button\n        className=\"card-film__button\"\n        type=\"button\"\n        onClick={openPopupVideoOnClick}\n        draggable=\"false\"\n      >\n        {renderPreview()}\n      </button>\n    );\n  }\n\n  function renderDurationOrTags(durationString) {\n    if (!isPlayingVideo && duration) {\n      return (\n        <span className=\"card-film__duration paragraph\">{durationString}</span>\n      );\n    }\n\n    if (!isPlayingVideo) {\n      return (\n        <ul className=\"card-film__rubric-list\">\n          {tags.map((tag) => (\n            <li key={tag.id}>\n              <Rubric title={tag.name} sectionClass=\"card-film__rubric\" />\n            </li>\n          ))}\n        </ul>\n      );\n    }\n    return null;\n  }\n}\n\nCardFilm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  image: PropTypes.string,\n  title: PropTypes.string,\n  info: PropTypes.string,\n  link: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  duration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  sectionClass: PropTypes.string,\n  isVideo: PropTypes.bool,\n  isMobile: PropTypes.bool,\n};\n\nCardFilm.defaultProps = {\n  data: {},\n  image: '',\n  title: '',\n  info: '',\n  link: '',\n  tags: [],\n  duration: '',\n  sectionClass: '',\n  isVideo: false,\n  isMobile: false,\n};\n\nexport default CardFilm;\n","const getServerErrors = (serverErrorObj) => {\n  if (\n    !(\n      typeof serverErrorObj === 'object' &&\n      !Array.isArray(serverErrorObj) &&\n      serverErrorObj !== null\n    )\n  ) {\n    throw Error('Invalid input');\n  }\n\n  return Object.values(serverErrorObj)\n    .map((err) => err)\n    .join(' ')\n    .trim();\n};\n\nexport default getServerErrors;\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleSelected: 'Отменить запись',\n  buttonCancelLoading: 'Отмена записи...',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n  eventCanceled: 'Извините, мы отменили это мероприятие',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  changeCaseOfFirstLetter,\n  formatDate,\n  formatPhoneNumber,\n  formatWordCase,\n} from '../../../utils/utils';\nimport { Button, ButtonDots } from '../../utils';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport './CardCalendar.scss';\n\nfunction CardCalendar({\n  cardData,\n  onEventSignUpClick,\n  onEventDescriptionClick,\n  sectionClass,\n  isWaitingResponse,\n  loadingEventId,\n  isDescription,\n}) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n    eventCanceled,\n    buttonCancelLoading,\n  } = texts;\n\n  const {\n    id,\n    booked,\n    tags,\n    title,\n    startAt,\n    endAt,\n    address,\n    contact,\n    remainSeats,\n    phoneNumber,\n    canceled,\n  } = cardData;\n\n  const startDateParts = formatDate(startAt);\n  const endDayParts = formatDate(endAt);\n\n  // будет ли заблокирована кнопка\n  const isDisabled = (remainSeats < 1 && !booked) || canceled;\n  const isCanceling = isWaitingResponse && booked && loadingEventId === id;\n\n  function changeStateOfEvent() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventSignUpClick(cardData);\n  }\n\n  function prepareDataForAboutEventPopup() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventDescriptionClick();\n  }\n\n  const classNames = [\n    'calendar',\n    booked ? 'calendar_selected' : '',\n    canceled ? 'calendar_canceled' : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <article className={classNames}>\n      <div className=\"calendar__caption\">\n        <div className=\"calendar__info\">\n          <p\n            className={`calendar__type ${\n              canceled ? 'calendar__type_canceled' : ''\n            }`}\n          >\n            {changeCaseOfFirstLetter(tags?.name)}\n          </p>\n          <p\n            className={`calendar__weekday ${\n              canceled ? 'calendar__weekday_canceled' : ''\n            }`}\n          >\n            {`${startDateParts.monthName} / ${startDateParts.weekdayName}`}\n          </p>\n        </div>\n        <div className=\"calendar__about\">\n          <h2\n            className={`section-title calendar__title ${\n              canceled ? 'calendar__title_canceled' : ''\n            }`}\n          >\n            {title}\n          </h2>\n          <p\n            className={`calendar__date ${\n              canceled ? 'calendar__date_canceled' : ''\n            }`}\n          >\n            {startDateParts.day}\n          </p>\n        </div>\n      </div>\n      <div className=\"calendar__meetup\">\n        <ul className=\"calendar__info-list\">\n          <li className=\"calendar__info-item\">\n            <p\n              className={`calendar__time ${\n                canceled ? 'calendar__time_canceled' : ''\n              }`}\n            >\n              {`${startDateParts.hour}:${startDateParts.minutes}–${endDayParts.hour}:${endDayParts.minutes}`}\n            </p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p\n              className={`calendar__place ${\n                canceled ? 'calendar__place_canceled' : ''\n              }`}\n            >\n              {address}\n            </p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p\n              className={`calendar__contact ${\n                canceled ? 'calendar__contact_canceled' : ''\n              }`}\n            >\n              {`${contact}, `}\n              {renderPhone()}\n            </p>\n          </li>\n        </ul>\n        {isDescription && (\n          <div className=\"calendar__description\">\n            <p className=\"paragraph calendar__desc-paragraph\">\n              {cardData?.description}\n            </p>\n          </div>\n        )}\n        <div className=\"calendar__submit\">{renderSubmitZone()}</div>\n      </div>\n    </article>\n  );\n\n  function renderPhone() {\n    return (\n      <a\n        className={`calendar__phone ${\n          canceled ? 'calendar__phone_canceled' : ''\n        }`}\n        href={`tel:${phoneNumber}`}\n      >\n        {formatPhoneNumber(phoneNumber)}\n      </a>\n    );\n  }\n\n  function renderSubmitZone() {\n    if (canceled)\n      return <p className=\"calendar__text-canceled\">{eventCanceled}</p>;\n\n    return (\n      <>\n        <Button\n          title={buttonTitle}\n          titleSelected={\n            isCanceling ? buttonCancelLoading : buttonTitleSelected\n          }\n          color=\"blue\"\n          isDisabled={isCanceling || isDisabled}\n          onClick={changeStateOfEvent}\n          isBooked={booked}\n        />\n        <p className=\"calendar__place-left\">\n          {/* если запись закрыта, то карточка не должна быть выделенной */}\n          {(isDisabled && buttonTitleDisabled) ||\n            (!booked &&\n              `${remainSeatsText} ${remainSeats} ${formatWordCase(\n                remainSeats\n              )}`)}\n        </p>\n        <ButtonDots handleClick={prepareDataForAboutEventPopup} />\n      </>\n    );\n  }\n}\n\nCardCalendar.propTypes = {\n  cardData: PropTypes.objectOf(PropTypes.any),\n  onEventSignUpClick: PropTypes.func,\n  onEventDescriptionClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n  isWaitingResponse: PropTypes.bool,\n  loadingEventId: PropTypes.number,\n  isDescription: PropTypes.bool,\n};\n\nCardCalendar.defaultProps = {\n  cardData: {},\n  onEventSignUpClick: () => {},\n  onEventDescriptionClick: () => {},\n  sectionClass: '',\n  isWaitingResponse: false,\n  loadingEventId: undefined,\n  isDescription: false,\n};\n\nexport default CardCalendar;\n","const texts = {\n  genderMale: 'Мальчик',\n  genderFemale: 'Девочка',\n  chosenTagText: 'Выбор наставника',\n  linkText: 'перейти на сайт',\n  activityTypeDefault: 'Развлекательный',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport { PLACES_TITLE } from '../../../config/routes';\nimport { Caption, Card, Rubric, TitleH2 } from '../../utils';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\nimport './CardPlace.scss';\n\nfunction CardPlace({\n  data: {\n    image,\n    title,\n    description,\n    link,\n    chosen,\n    address,\n    gender,\n    age,\n    activityType,\n  },\n  activityTypesSimplified,\n  color,\n  sectionClass,\n  isBig,\n  isMainPage,\n}) {\n  const {\n    genderMale,\n    genderFemale,\n    linkText,\n    chosenTagText,\n    activityTypeDefault,\n  } = texts;\n\n  const cardColor = isBig ? 'yellow' : color;\n  const cardSize = isBig ? 'card-place_main' : '';\n  const sexType = gender === 'male' ? genderMale : genderFemale;\n\n  const imageClassNames = [\n    'card-place__image',\n    'card-place__image_type_article',\n    link ? '' : 'card-place__image_big',\n  ]\n    .join(' ')\n    .trim();\n\n  const info = chosen\n    ? `${sexType}, ${age} лет, ${\n        activityTypesSimplified\n          ? activityTypesSimplified[activityType]\n          : activityTypeDefault\n      } отдых`\n    : '';\n\n  return (\n    <article className={`card-container ${sectionClass}`}>\n      <Card sectionClass={`card-place ${cardSize}`} color={cardColor}>\n        {isMainPage && (\n          <Rubric title={PLACES_TITLE} sectionClass=\"card-place__rubric\" />\n        )}\n\n        {chosen && !isMainPage && (\n          <Rubric title={chosenTagText} sectionClass=\"card-place__rubric\" />\n        )}\n\n        <div className=\"card-place__title-wrap\">\n          <TitleH2 sectionClass=\"card-place__title\" title={title} />\n          <Caption sectionClass=\"card-place__address\" title={address} />\n        </div>\n\n        {renderImage()}\n\n        {link && (\n          <a\n            href={link}\n            className=\"link card-place__link\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {linkText}\n          </a>\n        )}\n      </Card>\n\n      <CardAnnotation info={info} description={description} isMain={isBig} />\n    </article>\n  );\n\n  function renderImage() {\n    if ((chosen && isBig) || isMainPage) {\n      return (\n        <img\n          src={`${staticImageUrl}/${image}`}\n          alt={title}\n          className={imageClassNames}\n        />\n      );\n    }\n    return null;\n  }\n}\n\nCardPlace.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  chosen: PropTypes.bool,\n  title: PropTypes.string,\n  address: PropTypes.string,\n  image: PropTypes.string,\n  link: PropTypes.string,\n  description: PropTypes.string,\n  gender: PropTypes.string,\n  age: PropTypes.number,\n  activityType: PropTypes.number,\n  activityTypesSimplified: PropTypes.objectOf(PropTypes.any),\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isBig: PropTypes.bool,\n  isMainPage: PropTypes.bool,\n};\n\nCardPlace.defaultProps = {\n  data: {},\n  chosen: false,\n  title: '',\n  address: '',\n  image: '',\n  link: '',\n  description: '',\n  gender: 'male',\n  age: 18,\n  activityType: 1,\n  activityTypesSimplified: {},\n  color: 'white',\n  isBig: false,\n  sectionClass: '',\n  isMainPage: false,\n};\n\nexport default CardPlace;\n","const texts = {\n  linkText: 'смотреть видео',\n  imageAlt: 'Превью к видео',\n};\n\nexport default texts;\n","import { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { PopupsContext } from '../../../contexts';\nimport { Caption, Card, TitleH2 } from '../../utils';\nimport { changeCaseOfFirstLetter, formatDuration } from '../../../utils/utils';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport './CardVideoMain.scss';\n\nfunction CardVideoMain({\n  data: { id, title, info, link, image, duration },\n  isMobile,\n}) {\n  const { openPopupVideo } = useContext(PopupsContext);\n  const { frameSrc } = parserLinkYoutube(link);\n\n  const [isPlayingVideo, setIsPlayingVideo] = useState(false);\n\n  // Пробрасываем данные в попап\n  const openPopupVideoOnClick = () => {\n    setLocalStorageData(localStChosenVideo, {\n      title,\n      info,\n      link,\n      image,\n      duration,\n    });\n    openPopupVideo();\n  };\n\n  // на мобильном разрешении видео проиграывается сразу в карточке\n  const playVideoOnClick = () => setIsPlayingVideo(true);\n\n  useEffect(() => {\n    if (!isMobile) {\n      if (isPlayingVideo) setIsPlayingVideo(false);\n    }\n  }, [isMobile]);\n\n  return (\n    <div className=\"card-container card-container_type_main-video\">\n      <Card sectionClass=\"card-video-main\" color=\"yellow\">\n        <div className=\"card-video-main__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-video-main__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-video-main__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link && (\n          <button\n            className=\"link\"\n            type=\"button\"\n            onClick={isMobile ? playVideoOnClick : openPopupVideoOnClick}\n          >\n            {texts.linkText}\n          </button>\n        )}\n      </Card>\n\n      <Card sectionClass=\"card-video-main__video\">{renderVideoPlayback()}</Card>\n    </div>\n  );\n\n  function renderPreview() {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          src={`${staticImageUrl}/${image}`}\n          alt={`${texts.imageAlt}: ${title}`}\n          className={`card-video-main__image ${\n            isPlayingVideo ? 'card-video-main__image_at-back' : ''\n          } image-scale`}\n        />\n\n        {!isPlayingVideo && (\n          <span className=\"card-video-main__duration paragraph\">\n            {durationString}\n          </span>\n        )}\n      </>\n    );\n  }\n\n  function renderVideoPlayback() {\n    if (isMobile) {\n      return (\n        <button\n          className=\"card-video-main__button\"\n          type=\"button\"\n          onClick={playVideoOnClick}\n          draggable=\"false\"\n        >\n          {renderPreview()}\n          {isPlayingVideo && (\n            <iframe\n              title={title}\n              id={`player-card-film-${id}`}\n              className=\"card-film__iframe\"\n              src={`${frameSrc}?autoplay=1`}\n              frameBorder=\"0\"\n              allow=\"autoplay; encrypted-media\"\n              allowFullScreen\n              seamless\n            />\n          )}\n        </button>\n      );\n    }\n\n    return (\n      <button\n        className=\"card-video-main__button\"\n        type=\"button\"\n        onClick={openPopupVideoOnClick}\n      >\n        {renderPreview()}\n      </button>\n    );\n  }\n}\n\nCardVideoMain.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  isMobile: PropTypes.bool,\n};\n\nCardVideoMain.defaultProps = {\n  data: {},\n  isMobile: false,\n};\n\nexport default CardVideoMain;\n","const texts = {\n  labelText: 'Показать ответ',\n};\n\nexport default texts;\n","import { useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { QUESTIONS_URL } from '../../../config/routes';\nimport { ButtonRound, Card, Rubric, TitleH2 } from '../../utils';\nimport './CardQuestion.scss';\n\nconst animationTransition = 300;\n\nfunction CardQuestion({\n  data: { title, tags, answer },\n  sectionClass,\n  href,\n  isQuestionsPage,\n  isOpenByDefault,\n}) {\n  const [isOpened, setIsOpened] = useState(false);\n  const [isAnimated, setIsAnimated] = useState(false);\n  const ref = useRef();\n\n  const handleClickButton = () => {\n    if (isQuestionsPage) {\n      if (isOpened) {\n        setIsAnimated(false);\n        setTimeout(() => {\n          setIsOpened(false);\n        }, animationTransition);\n      } else {\n        setIsOpened(true);\n        setTimeout(() => {\n          setIsAnimated(true);\n        }, animationTransition);\n      }\n    }\n  };\n\n  const getDynamicStyle = () => {\n    if (ref && ref.current && isOpened) {\n      return {\n        minHeight: ref.current.clientHeight,\n      };\n    }\n\n    if (isOpenByDefault && isAnimated) return { height: 'auto' };\n\n    return { height: 0 };\n  };\n\n  const tagsClassNames = [\n    'card-question__tags',\n    isQuestionsPage ? 'card-question__tags_questions-page' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const answerWrapperClassNames = [\n    'card-question__answer',\n    isOpened ? 'card-question__answer_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  useEffect(() => {\n    if (ref && ref.current && isOpenByDefault) {\n      setIsOpened(true);\n      setIsAnimated(true);\n    }\n  }, [ref.current]);\n\n  return (\n    <Card sectionClass={`card-question ${sectionClass}`}>\n      <div className=\"card-question__wrap\">\n        {isQuestionsPage && (\n          <ButtonRound\n            label={texts.labelText}\n            sectionClass=\"button-round__questions-page clickable\"\n            color=\"lightblue\"\n            onClick={handleClickButton}\n            isClick={isOpened}\n          />\n        )}\n\n        {renderTitleWrap(\n          <TitleH2\n            sectionClass=\"card-question__title clickable\"\n            title={title}\n          />\n        )}\n\n        <ul className={tagsClassNames}>\n          {tags?.map((tag) => (\n            <li className=\"card-question__tag\" key={tag?.id}>\n              <Rubric title={tag?.name} sectionClass=\"card-question__rubric\" />\n            </li>\n          ))}\n        </ul>\n      </div>\n      {isQuestionsPage && (\n        <div className={answerWrapperClassNames} style={getDynamicStyle()}>\n          <p\n            ref={ref}\n            className={`paragraph card-question__paragraph card-question__answer_text-hidden ${\n              isAnimated ? 'card-question__answer_text-active' : ''\n            }`}\n          >\n            {answer}\n          </p>\n        </div>\n      )}\n    </Card>\n  );\n\n  function renderTitleWrap(childElement) {\n    if (isQuestionsPage)\n      return (\n        <div\n          className=\"card-question__title-wrap\"\n          onClick={handleClickButton}\n          onKeyPress={handleClickButton}\n          role=\"button\"\n          tabIndex=\"0\"\n          aria-label={texts.labelText}\n        >\n          {childElement}\n        </div>\n      );\n\n    return (\n      <Link\n        to={href}\n        className=\"card-question__title-wrap\"\n        onClick={handleClickButton}\n      >\n        {childElement}\n      </Link>\n    );\n  }\n}\n\nCardQuestion.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n  answer: PropTypes.string,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  isQuestionsPage: PropTypes.bool,\n  isOpenByDefault: PropTypes.bool,\n};\n\nCardQuestion.defaultProps = {\n  data: {},\n  title: '',\n  tags: [],\n  sectionClass: '',\n  answer: '',\n  href: QUESTIONS_URL,\n  isQuestionsPage: false,\n  isOpenByDefault: false,\n};\n\nexport default CardQuestion;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getPlacesTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// python was here :)\n// eslint-disable-next-line camelcase\nfunction getPlaces({ chosen, tags, age_restriction, city, limit, offset }) {\n  const query = chosen\n    ? { city, chosen, tags, age_restriction, limit, offset }\n    : { city, tags, age_restriction, limit, offset };\n  return axios\n    .get(`${baseURL}${apiUrl}/places/`, {\n      params: query,\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getChosenPlace({ city }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/first/`, {\n      params: { city },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction postPlace(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/places/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getActivityTypes() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/activity-types/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// получение одного места\nfunction getPlaceById(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/${id}/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport {\n  getPlacesTags,\n  getPlaces,\n  postPlace,\n  getActivityTypes,\n  getChosenPlace,\n  getPlaceById,\n};\n","import { MAIN_PAGE_TITLE, PLACES_TITLE } from '../../../config/routes';\n\nconst placesPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${PLACES_TITLE}`,\n  headDescription: 'Куда вы можете пойти, что рекомендуют наши наставники.',\n  title: PLACES_TITLE,\n  textStubNoData:\n    'Рекомендуемых мест для выбранного города ещё нет, но они обязательно появятся!',\n  paragraphNoContent: 'По вашему запросу ничего не нашлось.',\n  mentorTag: 'Выбор наставников',\n  toMainPageLinkTitle: 'Все места',\n  ageFilterNames: [\n    { filter: '8-10', name: '8-10 лет' },\n    { filter: '11-13', name: '11-13 лет' },\n    { filter: '14-17', name: '14-17 лет' },\n    { filter: '18', name: '18+ лет' },\n  ],\n};\n\nexport default placesPageTexts;\n","import PropTypes from 'prop-types';\nimport { Caption, ModificatedScrollbars } from '../../utils';\n\nfunction CardAnnotationContainer({ caption, children }) {\n  const classNamesDesc = [\n    'card-annotation__desc',\n    caption ? '' : 'card-annotation__desc_center',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n      {caption && (\n        <Caption sectionClass=\"card-annotation__caption\" title={caption} />\n      )}\n\n      <div className={classNamesDesc}>{children}</div>\n    </ModificatedScrollbars>\n  );\n}\n\nCardAnnotationContainer.propTypes = {\n  caption: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCardAnnotationContainer.defaultProps = {\n  caption: null,\n  children: null,\n};\n\nexport default CardAnnotationContainer;\n","import PropTypes from 'prop-types';\nimport { useContext } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  return (\n    <Route>\n      {() => (currentUser ? <Component {...props} /> : <Redirect to=\"/\" />)}\n    </Route>\n  );\n}\n\nProtectedRoute.propTypes = {\n  component: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n};\n\nexport default ProtectedRoute;\n","import { MAIN_PAGE_TITLE } from '../../../config/routes';\n\nconst mainPageTexts = {\n  headTitle: MAIN_PAGE_TITLE,\n  headDescription:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  CardAnimatedPlugText: 'Пока тут ничего нет',\n};\n\nexport default mainPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные главной страницы\nfunction getMainPageData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/main/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport default getMainPageData;\n","import { bbbsLinks } from '../../../../utils/external-links';\n\nconst texts = {\n  title:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  link: bbbsLinks.about,\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Card, Logo, TitleH2 } from '../../utils';\nimport './CardStub.scss';\n\nfunction CardStub({ sectionClass }) {\n  return (\n    <Card sectionClass={`stub ${sectionClass}`} color=\"green\">\n      <div className=\"stub__upper-element\">\n        <a\n          className=\"stub__logo\"\n          href={texts.link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Logo />\n        </a>\n      </div>\n      <div className=\"stub__content\">\n        <TitleH2 sectionClass=\"stub__text\" title={texts.title} />\n      </div>\n    </Card>\n  );\n}\n\nCardStub.propTypes = {\n  sectionClass: PropTypes.string,\n};\n\nCardStub.defaultProps = {\n  sectionClass: '',\n};\n\nexport default CardStub;\n","const texts = {\n  linkText: 'читать на сайте',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Card, TitleH3 } from '../../utils';\nimport './CardArticleBig.scss';\n\nfunction CardArticleBig({ title, color, articleUrl }) {\n  return (\n    <Card sectionClass=\"card-article\" color={color}>\n      <a\n        href={articleUrl}\n        className=\"card-article__link\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <TitleH3 sectionClass=\"card-article__title\" title={title} />\n      </a>\n      <a\n        className=\"link card-article__link\"\n        href={articleUrl}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {texts.linkText}\n      </a>\n    </Card>\n  );\n}\n\nCardArticleBig.propTypes = {\n  color: PropTypes.string,\n  title: PropTypes.string,\n  articleUrl: PropTypes.string,\n};\n\nCardArticleBig.defaultProps = {\n  color: 'white',\n  title: '',\n  articleUrl: '#',\n};\n\nexport default CardArticleBig;\n","import { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animation from '../../../assets/animation/ill_popup_recommend-success.json';\nimport { Card } from '../../utils';\nimport './CardAnimatedPlug.scss';\n\nfunction CardAnimatedPlug({ text, sectionClass }) {\n  const animationContainer = useRef(null);\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation,\n    });\n  }, []);\n\n  return (\n    <Card sectionClass={sectionClass}>\n      <div className=\"card-animatedbox\">\n        <div className=\"card-animatedbox__animation\" ref={animationContainer} />\n        <p className=\"paragraph card-animatedbox__text\">{text}</p>\n      </div>\n    </Card>\n  );\n}\n\nCardAnimatedPlug.propTypes = {\n  text: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardAnimatedPlug.defaultProps = {\n  text: '',\n  sectionClass: '',\n};\n\nexport default CardAnimatedPlug;\n","import { Link } from 'react-router-dom';\nimport { useContext, useEffect, useState } from 'react';\nimport mainPageTexts from './locales/RU';\nimport { CurrentUserContext, PopupsContext } from '../../contexts';\nimport { QUESTIONS_URL, STORIES_URL } from '../../config/routes';\nimport { staticImageUrl } from '../../config/config';\nimport { ERROR_MESSAGES, localStAfishaEvent } from '../../config/constants';\nimport { useActivityTypes, useEventBooking, usePageWidth } from '../../hooks';\nimport { getLocalStorageData } from '../../hooks/useLocalStorage';\nimport { randomizeArray } from '../../utils/utils';\nimport getMainPageData from '../../api/main-page';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  Card,\n  CardAnimatedPlug,\n  CardArticleBig,\n  CardCalendar,\n  CardFilm,\n  CardPlace,\n  CardQuestion,\n  CardStub,\n  CardVideoMain,\n  Loader,\n  Widget,\n} from './index';\nimport './MainPage.scss';\n\n// количество отображаемых карточек с фильмами и вопросами\nconst MOVIES_COUNT = 4;\nconst QUESTIONS_COUNT = 3;\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 1,\n  default: 4,\n};\n\nconst MAX_SCREEN_WIDTH = {\n  small: 767,\n};\n\nconst { headTitle, headDescription, CardAnimatedPlugText } = mainPageTexts;\n\nfunction MainPage() {\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupAboutEvent } = useContext(PopupsContext);\n\n  const [mainPageData, setMainPageData] = useState({});\n  const [randomQuestions, setRandomQuestions] = useState([]);\n  const [randomMovies, setRandomMovies] = useState([]);\n  const [isCityChanging, setIsCityChanging] = useState(false);\n  const [isPageError, setIsPageError] = useState(false);\n  const [isPageLoading, setIsPageLoading] = useState(true);\n\n  const { activityTypesSimplified } = useActivityTypes();\n  const { isSmallQuery } = usePageWidth(MAX_SCREEN_WIDTH, PAGE_SIZE_PAGINATE);\n\n  // запись/отписка на мероприятия\n  const { handleEventBooking, selectedEvent, isWaitingResponse } =\n    useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setMainPageData((prevData) => ({ ...prevData, event: selectedEvent }));\n    }\n  }, [selectedEvent]);\n\n  // запрос даты главной страницы при загрузке и при смене города\n  const getMainPageDataOnLoad = () => {\n    getMainPageData()\n      .then((data) => setMainPageData(data))\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsCityChanging(false));\n  };\n\n  useEffect(() => {\n    if (currentUser) {\n      setIsCityChanging(true);\n    }\n    getMainPageDataOnLoad();\n  }, [currentUser?.city]);\n\n  // рандомизируем вопросы и фильмы 1 раз при загрузке страницы\n  useEffect(() => {\n    if ((mainPageData.questions || mainPageData.movies) && isPageLoading) {\n      if (mainPageData.questions) {\n        setRandomQuestions(\n          randomizeArray(mainPageData.questions, QUESTIONS_COUNT)\n        );\n      }\n\n      if (mainPageData.movies) {\n        setRandomMovies(randomizeArray(mainPageData.movies, MOVIES_COUNT));\n      }\n\n      setIsPageLoading(false);\n    }\n  }, [mainPageData]);\n\n  // глобальный лоадер\n  if (isPageLoading) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {isPageError ? (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n          isNoButton\n        />\n      ) : (\n        renderPageContent()\n      )}\n    </BasePage>\n  );\n\n  function renderEventsBlock() {\n    // карточка ивента\n    if (currentUser && mainPageData.event) {\n      return (\n        <CardCalendar\n          sectionClass=\"scale-in\"\n          key={`event-${mainPageData.event.id}`}\n          cardData={mainPageData.event}\n          onEventSignUpClick={handleEventBooking}\n          onEventDescriptionClick={openPopupAboutEvent}\n          isWaitingResponse={isWaitingResponse}\n          loadingEventId={\n            isWaitingResponse\n              ? getLocalStorageData(localStAfishaEvent)?.id\n              : undefined\n          }\n        />\n      );\n    }\n\n    // красно-зеленая заглушка\n    return <CardStub sectionClass=\"scale-in\" />;\n  }\n\n  function renderHistoryBlock() {\n    if (mainPageData.history) {\n      return (\n        <Card\n          sectionClass=\"lead__media scale-in\"\n          key={`story-${mainPageData.history.id}`}\n        >\n          <Link\n            to={`${STORIES_URL}/${mainPageData.history.id}`}\n            className=\"lead__link\"\n          >\n            {mainPageData.history.title}\n          </Link>\n          <img\n            src={`${staticImageUrl}/${mainPageData.history.image}`}\n            alt={mainPageData.history.title}\n            className=\"lead__media-img\"\n          />\n        </Card>\n      );\n    }\n\n    return (\n      <CardAnimatedPlug\n        text={CardAnimatedPlugText}\n        sectionClass=\"lead__media scale-in\"\n      />\n    );\n  }\n\n  function renderPlaceSection() {\n    return (\n      <section className=\"place main-section page__section\">\n        <CardPlace\n          key={`place-${mainPageData.place.id}`}\n          data={mainPageData.place}\n          sectionClass=\"card-container_type_main-article scale-in\"\n          activityTypesSimplified={activityTypesSimplified}\n          isBig\n          isMainPage\n        />\n      </section>\n    );\n  }\n\n  function renderArticleSection(article, color) {\n    return (\n      <section className=\"articles main-section page__section scale-in\">\n        <CardArticleBig\n          key={`article-${article.id}`}\n          title={article.title}\n          color={color}\n          articleUrl={article.articleUrl}\n        />\n      </section>\n    );\n  }\n\n  function renderMoviesSection() {\n    const additionalMoviesClasses =\n      randomMovies.length > 1\n        ? `movies_pagination movies_pagination_${randomMovies.length} scale-in`\n        : '';\n    // возвращаем\n    return (\n      <section className=\"movies main-section page__section cards-grid cards-grid_content_small-cards\">\n        {randomMovies.map((movie) => (\n          <CardFilm\n            data={movie}\n            key={`movie-${movie.id}`}\n            sectionClass={additionalMoviesClasses}\n            isMobile={isSmallQuery}\n          />\n        ))}\n      </section>\n    );\n  }\n\n  function renderVideoSection() {\n    return (\n      <section className=\"video main-section page__section scale-in\">\n        <CardVideoMain\n          key={`video-${mainPageData.video.id}`}\n          data={mainPageData.video}\n          isMobile={isSmallQuery}\n        />\n      </section>\n    );\n  }\n\n  function renderQuestionBlock() {\n    return (\n      <div className=\"main-questions__container\">\n        {randomQuestions.map((item) => (\n          <CardQuestion\n            key={`question-${item.id}`}\n            data={item}\n            href={{\n              pathname: QUESTIONS_URL,\n              state: { fromMainPage: true, question: item },\n            }}\n            sectionClass={`main-section__question scale-in ${\n              randomQuestions.length > 2 ? ' main-questions_pagination' : ''\n            }`}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  function renderPageContent() {\n    return (\n      <>\n        <section className=\"lead page__section\">\n          <div className=\"card-container card-container_type_identical\">\n            {isCityChanging ? <Loader isNested /> : renderEventsBlock()}\n            {renderHistoryBlock()}\n          </div>\n        </section>\n\n        <section className=\"main-questions main-section page__section fade-in\">\n          <div className=\"card-container card-container_type_iframe\">\n            <Widget\n              title=\"Facebook\"\n              link=\"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FBigBrothers.BigSisters.Russia&tabs=timeline&width=420&height=627&small_header=false&adapt_container_width=false&hide_cover=false&show_facepile=true&appId\"\n            />\n            {randomQuestions.length > 0 && renderQuestionBlock()}\n          </div>\n        </section>\n\n        {mainPageData.place && renderPlaceSection()}\n\n        {mainPageData.articles?.length > 0 &&\n          renderArticleSection(mainPageData.articles[0], 'blue')}\n\n        {randomMovies.length > 0 && renderMoviesSection()}\n\n        {mainPageData.video && renderVideoSection()}\n\n        {mainPageData.articles?.length > 1 &&\n          renderArticleSection(mainPageData.articles[1], 'green')}\n      </>\n    );\n  }\n}\n\nexport default MainPage;\n","import { lazy, Suspense } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ProtectedRoute from '../components/ProtectedRoute/ProtectedRoute';\nimport {\n  ABOUT_US_URL,\n  AFISHA_URL,\n  ARTICLES_ID_PARAM,\n  ARTICLES_URL,\n  BOOKS_ID_PARAM,\n  BOOKS_URL,\n  CATALOG_ITEM_URL,\n  CATALOG_URL,\n  MAIN_PAGE_URL,\n  MOVIES_URL,\n  NOT_FOUND_URL,\n  PLACES_ID_PARAM,\n  PLACES_URL,\n  PROFILE_URL,\n  QUESTIONS_URL,\n  READ_AND_WATCH_URL,\n  RIGHTS_ARTICLE_URL,\n  RIGHTS_URL,\n  STORIES_ID_PARAM,\n  STORIES_URL,\n  VIDEO_URL,\n} from '../config/routes';\nimport { Loader } from '../components/utils';\nimport MainPage from '../pages/MainPage/MainPage';\n\n// ленивая загрузка страниц\nconst AboutUs = lazy(() => import('../pages/AboutUs/AboutUs'));\nconst Calendar = lazy(() => import('../pages/Calendar/Calendar'));\nconst Questions = lazy(() => import('../pages/Questions/Questions'));\nconst Profile = lazy(() => import('../pages/Profile/Profile'));\nconst Places = lazy(() => import('../pages/Places/Places'));\nconst Rights = lazy(() => import('../pages/Rights/Rights'));\nconst RightsArticle = lazy(() =>\n  import('../pages/RightsArticle/RightsArticle')\n);\nconst Movies = lazy(() => import('../pages/Movies/Movies'));\nconst ReadAndWatch = lazy(() => import('../pages/ReadAndWatch/ReadAndWatch'));\nconst Catalog = lazy(() => import('../pages/Catalog/Catalog'));\nconst CatalogArticle = lazy(() =>\n  import('../pages/CatalogArticle/CatalogArticle')\n);\nconst Video = lazy(() => import('../pages/Video/Video'));\nconst Books = lazy(() => import('../pages/Books/Books'));\nconst Articles = lazy(() => import('../pages/Articles/Articles'));\nconst Stories = lazy(() => import('../pages/Stories/Stories'));\nconst PageNotFound = lazy(() => import('../pages/PageNotFound/PageNotFound'));\n\nfunction Router() {\n  return (\n    <Suspense fallback={<Loader isCentered />}>\n      <Switch>\n        <Route exact path={MAIN_PAGE_URL} component={MainPage} />\n\n        <Route exact path={ABOUT_US_URL} component={AboutUs} />\n\n        <Route exact path={AFISHA_URL} component={Calendar} />\n\n        <Route exact path={QUESTIONS_URL} component={Questions} />\n\n        <ProtectedRoute exact path={PROFILE_URL} component={Profile} />\n\n        <Route path={`${PLACES_URL}/${PLACES_ID_PARAM}?`} component={Places} />\n\n        <Route exact path={RIGHTS_URL} component={Rights} />\n\n        <Route path={RIGHTS_ARTICLE_URL} component={RightsArticle} />\n\n        <Route exact path={MOVIES_URL} component={Movies} />\n\n        <Route exact path={READ_AND_WATCH_URL} component={ReadAndWatch} />\n\n        <Route exact path={CATALOG_URL} component={Catalog} />\n\n        <Route path={CATALOG_ITEM_URL} component={CatalogArticle} />\n\n        <Route exact path={VIDEO_URL} component={Video} />\n\n        <Route path={`${BOOKS_URL}/${BOOKS_ID_PARAM}?`} component={Books} />\n\n        <Route\n          path={`${ARTICLES_URL}/${ARTICLES_ID_PARAM}?`}\n          component={Articles}\n        />\n\n        <Route\n          path={`${STORIES_URL}/${STORIES_ID_PARAM}?`}\n          component={Stories}\n        />\n\n        <Route path={NOT_FOUND_URL} component={PageNotFound} />\n      </Switch>\n    </Suspense>\n  );\n}\n\nexport default Router;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport './App.scss';\nimport { HelmetProvider } from 'react-helmet-async';\nimport { useLocation } from 'react-router-dom';\nimport Router from './navigation/Router';\nimport Loader from './components/utils/Loader/Loader';\n// попапы\nimport {\n  PopupAboutEvent,\n  PopupCities,\n  PopupConfirmation,\n  PopupError,\n  PopupLogin,\n  PopupSuccessfully,\n  PopupVideo,\n} from './components/Popups';\n// логины, авторизация\nimport {\n  CitiesContext,\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from './contexts';\n// хуки\nimport { useAuth, useCities } from './hooks';\n\nfunction App() {\n  const { pathname } = useLocation();\n\n  // стейт переменные попапов\n  const [isPopupConfirmationOpen, setIsPopupConfirmationOpen] = useState(false);\n  const [isPopupSuccessfullyOpen, setIsPopupSuccessfullyOpen] = useState(false);\n  const [isPopupAboutDescriptionOpen, setIsPopupAboutDescriptionOpen] =\n    useState(false);\n  const [isPopupErrorOpen, setIsPopupErrorOpen] = useState(false);\n  const [isPopupLoginOpen, setIsPopupLoginOpen] = useState(false);\n  const [isPopupCitiesOpen, setIsPopupCitiesOpen] = useState(false);\n  const [isVideoPopupOpen, setIsVideoPopupOpen] = useState(false);\n  const [isWithoutRegister, setIsWithoutRegister] = useState(false);\n\n  // управление общими попапами (открыть/закрыть)\n  function closeAllPopups() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(false);\n    setIsPopupAboutDescriptionOpen(false);\n    setIsVideoPopupOpen(false);\n  }\n\n  function openPopupConfirmation() {\n    setIsPopupConfirmationOpen(true);\n  }\n\n  function openPopupSuccessfully() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(true);\n  }\n\n  function openPopupAboutEvent(withoutRegister) {\n    if (withoutRegister) {\n      setIsWithoutRegister(true);\n    } else {\n      setIsWithoutRegister(false);\n    }\n    setIsPopupAboutDescriptionOpen(true);\n  }\n\n  function openPopupError() {\n    setIsPopupErrorOpen(true);\n  }\n\n  function closePopupError() {\n    setIsPopupErrorOpen(false);\n  }\n\n  function openPopupCities() {\n    setIsPopupCitiesOpen(true);\n  }\n\n  function closePopupCities() {\n    setIsPopupCitiesOpen(false);\n  }\n\n  function openPopupLogin() {\n    setIsPopupLoginOpen(true);\n  }\n\n  function closePopupLogin() {\n    setIsPopupLoginOpen(false);\n  }\n\n  function openPopupVideo() {\n    setIsVideoPopupOpen(true);\n  }\n\n  // контекст попапов\n  const popupsContextValue = {\n    closeAllPopups,\n    closePopupLogin,\n    openPopupConfirmation,\n    openPopupSuccessfully,\n    openPopupAboutEvent,\n    openPopupError,\n    openPopupCities,\n    openPopupLogin,\n    openPopupVideo,\n  };\n\n  // текущий юзер/контекст\n  const [currentUser, setCurrentUser] = useState(null);\n  const updateUser = (value) => setCurrentUser(value);\n\n  const currentUserContextValue = useMemo(\n    () => ({ currentUser, updateUser }),\n    [currentUser]\n  );\n\n  // список городов/контекст\n  const { cities, defaultCity } = useCities();\n\n  const citiesContextValue = useMemo(\n    () => ({ cities, defaultCity }),\n    [cities, defaultCity]\n  );\n\n  // серверные ошибки/контекст\n  const [serverError, setServerError] = useState(null);\n  const setError = (value) => setServerError(value);\n  const clearError = () => setServerError(null);\n\n  const errorsContextValue = useMemo(\n    () => ({ serverError, setError, clearError }),\n    [serverError]\n  );\n\n  const { isCheckingToken, checkToken } = useAuth(updateUser);\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  // закрытие всех попапов при смене страницы, очистка ошибок\n  useEffect(() => {\n    closeAllPopups();\n    closePopupError();\n    closePopupCities();\n    clearError();\n  }, [pathname]);\n\n  // эффект закрытия модалок по Escape\n  useEffect(() => {\n    window.addEventListener('keyup', (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    });\n  }, []);\n\n  return (\n    <HelmetProvider>\n      <CitiesContext.Provider value={citiesContextValue}>\n        <CurrentUserContext.Provider value={currentUserContextValue}>\n          <ErrorsContext.Provider value={errorsContextValue}>\n            <PopupsContext.Provider value={popupsContextValue}>\n              <div className=\"page\">\n                {!isCheckingToken ? <Router /> : <Loader isCentered />}\n                <PopupConfirmation\n                  isOpen={isPopupConfirmationOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupSuccessfully\n                  isOpen={isPopupSuccessfullyOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupAboutEvent\n                  isWithoutRegister={isWithoutRegister}\n                  isOpen={isPopupAboutDescriptionOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupLogin\n                  isOpen={isPopupLoginOpen}\n                  onClose={closePopupLogin}\n                />\n                <PopupCities\n                  isOpen={isPopupCitiesOpen}\n                  onClose={closePopupCities}\n                />\n                <PopupError\n                  isOpen={isPopupErrorOpen}\n                  onClose={closePopupError}\n                />\n                <PopupVideo\n                  isOpen={isVideoPopupOpen}\n                  onClose={closeAllPopups}\n                />\n              </div>\n            </PopupsContext.Provider>\n          </ErrorsContext.Provider>\n        </CurrentUserContext.Provider>\n      </CitiesContext.Provider>\n    </HelmetProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}